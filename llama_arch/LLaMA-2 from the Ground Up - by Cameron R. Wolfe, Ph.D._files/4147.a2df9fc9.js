"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["4147"],{44430:function(e,n,i){i.d(n,{Z:()=>t});let t={divider:"divider-Ti4OTa",vertical:"vertical-jkeHTs"}},27836:function(e,n,i){i.d(n,{b:()=>a,j:()=>l});var t=i(16584),o=i(95441),d=i(80026),r=i(6911);function l(e){let{publisherTerms:n,utm_source:i}=e,{iString:l}=(0,o.M1)();return(0,t.BX)(t.HY,{children:[l("By registering you agree to")," ",n&&(0,t.BX)(t.HY,{children:[n,", "]}),(0,t.BX)(d.xv,{as:"span",translated:!0,children:["Substack's ",(0,t.tZ)(a,{href:(0,r._Q)({utm_source:i}),children:"Terms of Service"})]}),(0,t.BX)(d.xv,{as:"span",translated:!0,children:[", our ",(0,t.tZ)(a,{href:(0,r.Zz)({utm_source:i}),children:"Privacy Policy"})]}),(0,t.BX)(d.xv,{as:"span",translated:!0,children:[", and our ",(0,t.tZ)(a,{href:(0,r.WF)({utm_source:i}),children:"Information Collection Notice"})]}),"."]})}function a(e){let{href:n,children:i}=e;return(0,t.tZ)("a",{className:(0,d.oB)({decoration:"underline"}),href:n,target:"_blank",rel:"noopener",children:i})}},82621:function(e,n,i){i.d(n,{Z:()=>a});var t=i(7409),o=i(98848),d=i(16584),r=i(30396),l=i(75905);let a=e=>{let{ampProps:n}=e,i=(0,o._)(e,["ampProps"]);return(0,r.qp)(l.E).isAmp?(0,d.tZ)("amp-img",(0,t._)({},n,i)):(0,d.tZ)("img",(0,t._)({},i))}},57391:function(e,n,i){i.d(n,{Vt:()=>y,f9:()=>A,gn:()=>g,jc:()=>b,kx:()=>x,ng:()=>h});var t,o=i(7409),d=i(99282),r=i(16584),l=i(6400),a=i(98661),u=i(30396),s=i(78718),w=i.n(s),v=i(35702),c=i(48980),p=i(8589);let f={variantOverrides:{},experimentFeatures:{},experimentExposures:{}};function g(){return"undefined"!=typeof window&&(0,o._)({variantOverrides:{},experimentFeatures:{},experimentExposures:{}},w()(window._preloads,["variantOverrides","experimentFeatures","experimentExposures","pubIdOverride"]))||f}let m=g(),_="undefined"!=typeof window?null===(t=window._preloads)||void 0===t?void 0:t.siteConfigs:{},h=(e,n)=>{let i=n=>{if(!n||!e)return null;let i=e[n];return void 0===i?null:i},t=e=>{if(!e)return null;let t=i(e);if((0,p.Dh)(t))return{intendedVariant:t,shouldLog:!1};if(n.variantOverrides&&e in n.variantOverrides)return{intendedVariant:n.variantOverrides[e],shouldLog:!1};let o=n.experimentExposures||{};if(o[e])return{intendedVariant:o[e],shouldLog:!1};let d=n.experimentFeatures||{};return d[e]?{intendedVariant:d[e],shouldLog:!0}:null},o=async(e,n,i)=>{if("undefined"!=typeof window){window._preloads.experimentExposures=window._preloads.experimentExposures||{};let t=window._preloads.experimentExposures;t[e]=n;try{await (0,c.rd)("/api/v1/experiment_exposure",{json:{experiment_name:e,variant_name:n,ignore_downsampling:!!i},method:"post"})}catch(n){delete t[e]}}};return{getExperimentVariant:e=>{let n=t(e);return n?n.intendedVariant:null},exposeExperiment:async function(e){let{ignoreDownsampling:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{intendedVariant:i,shouldLog:d}=t(e)||{};return!!d&&(await o(e,i,!!n),!0)},getExposedVariant:e=>{if(!e)return null;let t=i(e);if((0,p.Dh)(t))return t;if(n.variantOverrides&&e in n.variantOverrides)return n.variantOverrides[e];let o=n.experimentExposures||{};return o[e]?o[e]:null},refreshExperimentVariants:async function(){let e,{ignoreDownsampling:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n&&(e=new URLSearchParams({ignore_downsampling:"true"}));let i=await (0,c.rd)("/api/v1/experiment_features",{method:"get",query:e});(null==i?void 0:i.features)&&(0,v.a)({experimentFeatures:i.features})}}},x=(0,l.createContext)(h(_,m));function y(e){let{siteConfigs:n={},experimentInfo:i,children:t}=e,o=i||m,d=(0,u.Ye)(()=>h(n,o),[n,...Object.values(o)]);return(0,r.tZ)(x.Provider,{value:d,children:t})}function b(){return(0,u.qp)(x)}x.displayName="ExperimentsContext";let A=e=>{let n=(0,a.forwardRef)((n,i)=>{let t=b();return(0,r.tZ)(e,(0,d._)((0,o._)({},t,n),{ref:i}))});return n.displayName="withExperimentsContext(".concat(e.displayName||e.name||"Anonymous",")"),n}},37168:function(e,n,i){i.d(n,{WH:()=>g,ZN:()=>m,hO:()=>_});var t,o,d=i(7409),r=i(99282),l=i(16584),a=i(6400),u=i(98661),s=i(30396),w=i(57391),v=i(40647);let c=(0,w.gn)(),p="undefined"!=typeof window&&null!==(o=null===(t=window._preloads)||void 0===t?void 0:t.siteConfigs)&&void 0!==o?o:{},f=(e,n)=>(0,d._)({},(0,w.ng)(e,n),(0,v.Xz)(e)),g=(0,a.createContext)(f(p,c));function m(e){let{siteConfigs:n={},experimentInfo:i,children:t}=e,o=i||c,d=(0,s.Ye)(()=>f(n,o),[n,o]);return(0,l.tZ)(g.Provider,{value:d,children:t})}g.displayName="ExperimentsAndSiteConfigContext";let _=e=>{let n=(0,u.forwardRef)((n,i)=>{let t=(0,s.qp)(g);return(0,l.tZ)(e,(0,r._)((0,d._)({},t,n),{ref:i}))});return n.displayName="withExperimentsAndSiteConfigContext(".concat(e.displayName||e.name||"Anonymous",")"),n}},60807:function(e,n,i){if(i.d(n,{Fl:()=>m,SE:()=>_,aF:()=>g,dr:()=>f}),!/^(1(588|612|691)|2536|4457|6673|7778)$/.test(i.j))var t,o,d,r,l=i(7409);if(!/^(1(588|612|691)|2536|4457|6673|7778)$/.test(i.j))var a=i(99282);var u=i(16584),s=i(98661),w=i(48980);let v="undefined"!=typeof window&&null!==(d=null===(t=window._preloads)||void 0===t?void 0:t.user)&&void 0!==d?d:null,c="undefined"!=typeof window&&null!==(r=null===(o=window._preloads)||void 0===o?void 0:o.userSettings)&&void 0!==r?r:{},p=(0,s.createContext)({user:v,setUser:()=>void 0,userSettings:c,changeSetting:()=>Promise.resolve()});function f(e){let{defaultValue:n,userSettings:i,children:t}=e,[o,d]=(0,s.useState)(n||v),[r,f]=(0,s.useState)(null!=i?i:c),g=async(e,n,i,t)=>{if(!o&&!(null==t?void 0:t.token))return;let d=r[e];f((0,a._)((0,l._)({},r),{[e]:n}));try{await (0,w.rd)("/api/v1/user-setting",{method:"PUT",json:{type:e,value_bool:"bool"!==i&&(i||"boolean"!=typeof n)?void 0:n,value_datetime:"datetime"!==i&&(i||"string"!=typeof n)?void 0:n,value_text:"text"===i?n:void 0,token:null==t?void 0:t.token}})}catch(n){if(n instanceof w.kp)alert(n.getMessage()),f(n=>(0,a._)((0,l._)({},n),{[e]:d}));else throw n}},m=(0,s.useMemo)(()=>({user:o,setUser:d,userSettings:r,changeSetting:g}),[o,r]);return(0,u.tZ)(p.Provider,{value:m,children:t})}function g(){return(0,s.useContext)(p).user}function m(){return(0,s.useContext)(p).userSettings}function _(){return(0,s.useContext)(p)}p.displayName="UserContext"},53516:function(e,n,i){i.d(n,{S:()=>d});var t=i(55229),o=i(8090);function d(){var e,n;"undefined"!=typeof window&&(null===(n=window)||void 0===n?void 0:null===(e=n.navigator)||void 0===e?void 0:e.sendBeacon)&&(window.navigator.sendBeacon=window.navigator.sendBeacon.bind(window.navigator)),(0,o.Kl)(),(0,t.LH)(),(0,t.dl)(),(0,t.jP)(),(0,o.Md)()}},55229:function(e,n,i){i.d(n,{Hx:()=>f,LH:()=>_,NA:()=>g,XY:()=>m,dl:()=>c,iE:()=>p,jP:()=>h,xL:()=>x});var t=i(7409),o=i(15872),d=i(49762),r=i(98914),l=i(6070),a=i(31742),u=i(60308),s=i(69332);function w(e){let{toHead:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.fo)(()=>{let i=document.createElement("script");if(i.async=!0,i.src=e,n)document.head.appendChild(i);else{let e=document.getElementsByTagName("script")[0];e.parentNode&&e.parentNode.insertBefore(i,e)}})}function v(){return"undefined"!=typeof window&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.google_analytics_4_token||null}function c(){var e,n,i,t,o,r,l,u,s,c;if("undefined"==typeof window)return;let f=null===(i=window)||void 0===i?void 0:null===(n=i._preloads)||void 0===n?void 0:null===(e=n.pub)||void 0===e?void 0:e.google_tag_manager_token;if((null===(r=window)||void 0===r?void 0:null===(o=r._preloads)||void 0===o?void 0:null===(t=o.disabledCookies)||void 0===t?void 0:t.includes(a.ky.GA_TAG_MANAGER))||(null===(s=window)||void 0===s?void 0:null===(u=s._preloads)||void 0===u?void 0:null===(l=u.disabledCookies)||void 0===l?void 0:l.includes(a.YJ.GA_TAG_MANAGER))||!f||f===v())return;window.dataLayer=window.dataLayer||[],(0,d.ZP)("exempt_from_gtm_filter")?window.dataLayer.push({"gtm.allowlist":["customPixels","customScripts","google","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}):window.dataLayer.push({"gtm.allowlist":["google"],"gtm.blocklist":["customPixels","customScripts","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});let g=p();(null===(c=g.user)||void 0===c?void 0:c.id)&&window.dataLayer.push({userId:g.user.id.toString()}),w("https://www.googletagmanager.com/gtm.js?id=".concat(f),{toHead:!0})}function p(){let e;return"undefined"!=typeof window&&(e=window._analyticsConfig),e||(e={}),e.properties||(e.properties={}),e.properties.browserSessionId=o.W,e}function f(e){var n,i,o,d,r,a,u,s;let w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"==typeof window)return;let v=p();(null===(n=v.user)||void 0===n?void 0:n.id)&&(w.user_id=v.user.id.toString()),(null===(i=window)||void 0===i?void 0:i.publisherGA4gtag)&&window.publisherGA4gtag("event",e,w),(null===(o=window)||void 0===o?void 0:o.dataLayer)&&(null===(a=window)||void 0===a?void 0:null===(r=a._preloads)||void 0===r?void 0:null===(d=r.pub)||void 0===d?void 0:d.google_tag_manager_token)&&(0,l.HD)({pub:null===(s=window)||void 0===s?void 0:null===(u=s._preloads)||void 0===u?void 0:u.pub})&&window.dataLayer.push((0,t._)({event:e},w))}function g(e,n){var i;"undefined"!=typeof window&&(null===(i=window)||void 0===i?void 0:i.gtag)&&window.gtag("event",e,n)}function m(e){var n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=p(),o=function(){let e="undefined"!=typeof window&&window._preloads&&window._preloads.pub&&window._preloads.pub.ga_pixel_id;return e&&e.startsWith("UA-")?null:e}();if(!o)return;let d=(0,s.m)(window.location.href);i=Object.assign({v:1,t:e,tid:o,cid:t.anonymousId,dl:document.location.origin+document.location.pathname+document.location.search,dt:document.title||"",dr:document.referrer||"",cn:d.utm_campaign,cs:d.utm_source,cm:d.utm_medium,ck:d.utm_term,cc:d.utm_content,ci:d.utm_id},i),(null===(n=t.user)||void 0===n?void 0:n.id)&&(i.uid=t.user.id.toString()),new Image().src="https://www.google-analytics.com/collect?".concat((0,u.Y$Q)(i))}function _(){var e,n,i,o,d,r,l;if("undefined"==typeof window||(null===(i=window)||void 0===i?void 0:null===(n=i._preloads)||void 0===n?void 0:null===(e=n.disabledCookies)||void 0===e?void 0:e.includes(a.ky.GA_TRACKING))||(null===(r=window)||void 0===r?void 0:null===(d=r._preloads)||void 0===d?void 0:null===(o=d.disabledCookies)||void 0===o?void 0:o.includes(a.YJ.GA_TRACKING)))return;let u=v();if(!u)return;window.GA4DataLayer=window.GA4DataLayer||[],window.publisherGA4gtag=function(){var e;null===(e=window.GA4DataLayer)||void 0===e||e.push(arguments)},window.publisherGA4gtag("js",new Date);let s=p();window.publisherGA4gtag("config",u,(0,t._)({send_page_view:!1},s.user&&{user_id:null==s?void 0:null===(l=s.user)||void 0===l?void 0:l.id.toString()}))}function h(){var e,n,i,t,o,d,r;if("undefined"==typeof window||(null===(i=window)||void 0===i?void 0:null===(n=i._preloads)||void 0===n?void 0:null===(e=n.disabledCookies)||void 0===e?void 0:e.includes(a.ky.GA_TRACKING))||(null===(d=window)||void 0===d?void 0:null===(o=d._preloads)||void 0===o?void 0:null===(t=o.disabledCookies)||void 0===t?void 0:t.includes(a.YJ.GA_TRACKING)))return;let l=p();(l.localGaPixelId||l.adwordsAccountId)&&(window.localGaDataLayer=window.localGaDataLayer||[],window.gtag=function(){var e,n;null===(n=window)||void 0===n||null===(e=n.localGaDataLayer)||void 0===e||e.push(arguments)},window.gtag("js",new Date),l.localGaPixelId&&window.gtag("config",l.localGaPixelId),l.adwordsAccountId&&window.gtag("config",l.adwordsAccountId),(null===(r=l.user)||void 0===r?void 0:r.id)&&window.gtag("userId",l.user.id.toString()),w("https://www.googletagmanager.com/gtag/js?id=".concat(l.localGaPixelId||l.adwordsAccountId,"&l=localGaDataLayer")))}function x(){return"undefined"!=typeof window&&window._preloads&&window._preloads.pub&&window._preloads.pub.fb_pixel_id}},64528:function(e,n,i){i.d(n,{N:()=>d});var t=i(16584),o=i(6400);let d=e=>{let{children:n,separator:i}=e,d=[],r=(0,o.toChildArray)(n);return r.forEach((e,n)=>{d.push(e),n!==r.length-1&&d.push(i)}),(0,t.tZ)(t.HY,{children:d})}}}]);