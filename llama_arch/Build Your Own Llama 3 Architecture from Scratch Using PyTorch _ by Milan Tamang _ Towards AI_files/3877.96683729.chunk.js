/*! For license information please see 3877.96683729.chunk.js.LICENSE.txt */
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3877],{54560:(e,t,n)=>{n.d(t,{A:()=>a});var r,o=n(96540);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}const a=function(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m6 9 6 6 6-6"})))}},27507:(e,t,n)=>{n.d(t,{A:()=>a});var r,o=n(96540);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}const a=function(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m10.506 8.678.589-.59a5.01 5.01 0 0 1 2.474 3.91 6 6 0 0 0-1.01.88 4 4 0 0 0-1.144-3.291 4 4 0 0 0-1.047-.754q.063-.081.137-.155m6.566.909-1.556 1.555a5.7 5.7 0 0 1 1.55-.135l.713-.713a5 5 0 0 0-7.071-7.071L7.879 6.05a5 5 0 0 0 1.027 7.862l.59-.589q.074-.074.137-.155a4 4 0 0 1-1.047-6.411l2.829-2.828a4 4 0 1 1 5.657 5.657M11 16.927q0 .072.002.144l-1.709 1.708a5 5 0 0 1-7.07-7.071l2.382-2.383q.003.646.117 1.297L2.93 12.415a4 4 0 1 0 5.657 5.657l2.587-2.587A6 6 0 0 0 11 16.928M16.857 14a2.86 2.86 0 0 1 2.143.962A2.855 2.855 0 0 1 21.143 14 2.85 2.85 0 0 1 24 16.842c0 .728-.275 1.392-.727 1.895l-.225.237-3.342 3.324a1 1 0 0 1-1.411 0l-3.342-3.324-.225-.237A2.82 2.82 0 0 1 14 16.842 2.85 2.85 0 0 1 16.857 14m5.68 4.059-.204.216L19 21.589l-3.332-3.314-.205-.216A1.82 1.82 0 0 1 15 16.842 1.85 1.85 0 0 1 16.857 15c.557 0 1.054.241 1.395.626l.748.843.748-.843A1.86 1.86 0 0 1 21.143 15c1.03 0 1.857.83 1.857 1.842 0 .467-.173.891-.463 1.217",clipRule:"evenodd"})))}},5474:(e,t,n)=>{n.d(t,{A:()=>a});var r,o=n(96540);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}const a=function(e){return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1",clipRule:"evenodd"})))}},7782:(e,t,n)=>{n.d(t,{w:()=>f});var r=n(58168),o=n(96540),i=n(48440),a=n(17975),l=n(86527),c=n(52290),u=n(99731),s=function(e){return{display:"inline-flex",alignItems:"center",":hover path":{fill:e.colorTokens.foreground.neutral.primary.base}}},d={FACEBOOK:"Facebook",TWITTER:"X",LINKEDIN:"LinkedIn"};function f(e){var t=e.buttonStyle,n=e.socialPlatform,f=e.baseOnClick,p=e.href,v=e.testId,m=(0,o.useMemo)((function(){return{"aria-label":"Share on ".concat(n.toLowerCase()),onClick:function(){f();var e=Math.max((window.outerHeight||200)/2-560,100),t=(window.outerWidth||200)/2-250;window.open(p,"Social Share Window","resizable,scrollbars,status,top=".concat(e,",left=").concat(t,",height=").concat(650,",width=").concat(650))}}}),[f,p,n]),h=d[n];if(!h)return null;switch(t){case"LINK_INLINE_SHORT_LABEL":return o.createElement(l.N,(0,r.A)({},m,{rules:s,"data-testid":v}),o.createElement(a.X,{buttonStyle:t,socialPlatform:n}),o.createElement(c.a,{display:"inline",marginLeft:"12px"},"Share on ",h));case"BUTTON_BRANDED":return o.createElement(u.$n,(0,r.A)({},m,{buttonStyle:"SOCIAL",size:"LARGE",width:u.Gk,padding:u.Rc,"data-testid":v}),o.createElement(c.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},o.createElement(a.X,{buttonStyle:t,socialPlatform:n}),"Share on ",h,o.createElement(c.a,{height:"24px",width:"24px"})));case"LINK_ICON_LABEL_VERTICAL_STACK":return o.createElement(i.z,(0,r.A)({},m,{isSocialShare:!0,socialPlatform:n,label:h,testId:v}));default:return null}}},79647:(e,t,n)=>{n.d(t,{_:()=>c});var r=n(96540),o=n(7782),i=n(34317),a=n(49287),l=n(51260),c=function(e){var t,n=e.postId,c=e.socialPlatform,u=e.buttonStyle,s=e.testId,d=(0,i.$L)(),f=(0,a.W9)(),p=(0,l.au)(),v=r.useCallback((function(){f&&d.event("post.shareOpen",{postId:n,source:f,dest:c.toLowerCase(),dialogType:"native"})}),[f,d,n,c]);if("FACEBOOK"===c)t=p("RedirectShowPostShare",{postId:n,channel:"facebook"});else if("TWITTER"===c)t=p("RedirectShowPostShare",{postId:n,channel:"twitter"});else{if("LINKEDIN"!==c)return null;t=p("RedirectShowPostShare",{postId:n,channel:"linkedIn"})}return r.createElement(o.w,{baseOnClick:v,href:t,socialPlatform:c,buttonStyle:u,testId:s})}},51866:(e,t,n)=>{n.d(t,{V:()=>x});var r=n(5544),o=n(96540),i=n(27721),a=n(1722),l=n(43634),c=n(30572),u=n(52290),s=n(86527),d=n(36557),f=n(44402),p=n(71836),v=n(51260),m=n(42976),h=n(54560),y=n(27507),b=n(60603),g=n(46879),w=n(72332),k=function(e){return{height:"16px",width:"16px",transform:e?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease-in-out"}},O={display:"flex",alignItems:"center",width:"100%",":disabled":{cursor:"progress"},":disabled >:not(svg)":{opacity:.3}},S=function(e){return{maxHeight:e?"184px":"0px",overflow:"hidden",transition:"max-height 0.2s ease-in-out"}},E=function(e){var t=e.children,n=e.paddingBottom;return o.createElement(u.a,{paddingTop:"12px",paddingLeft:"36px",paddingBottom:n},o.createElement(d.kZ,{scale:"S",color:"LIGHTER"},t))},x=function(e){var t,n=e.post,d=e.hidePopover,x=(0,f.l)(),I=(0,v.au)(),P=(0,i.R)().value,_=(0,a.h)(n).viewerEdge,N=null==_?void 0:_.shareKey,j=(0,w.$)({post:n,legacyShareKey:N,onComplete:d}),L=j.copy,A=j.isCopying,C=A?"Copying Friend Link...":"Copy Friend Link",D=I("ShowManageMembershipPage",{}),T=!!N||(null==P||null===(t=P.membership)||void 0===t?void 0:t.tier)===m.T3.FRIEND,F=(0,b.e)(T),B=(0,r.A)(F,4),K=B[0],R=B[3];return o.createElement(o.Fragment,null,o.createElement(s.N,{rules:O,onClick:T?L:R,disabled:A},o.createElement(y.A,null),o.createElement(u.a,{marginLeft:"12px",flexGrow:"1",textAlign:"left"},T?C:"Friend Link"),!T&&o.createElement(h.A,{className:x(k(K))})),o.createElement("div",{className:x(S(T||K))},o.createElement(E,null,N?"Friend Links share paywall-free access to this article. (But only reads by Members will count towards Partner Program earnings.)":"Share free access to this member-only story with a friend.","  ",o.createElement(s.N,{linkStyle:"OBVIOUS",inline:!0,href:(0,g.ZZI)(),target:"_blank"},"Learn more")),!T&&o.createElement(o.Fragment,null,o.createElement(E,null,"Available to members with a Friend membership and story authors."),o.createElement(E,{paddingBottom:"12px"},P?o.createElement(p.C,{source:"friend_link",dimension:"post_friend_link",sourceProviderData:{postId:n.id},eventData:{postId:n.id},tag:"span"},o.createElement(c.a,{post:n,redirectUrl:D,linkStyle:"OBVIOUS",inline:!0},"Upgrade membership")):o.createElement(l.r,{redirectTo:D,operation:"register",susiEntry:"post_friend_link",post:n,linkStyle:"OBVIOUS",inline:!0},"Become a member")))))}},72332:(e,t,n)=>{n.d(t,{$:()=>S});var r=n(82284),o=n(10467),i=n(5544),a=n(95420),l=n(96540),c=n(67459),u=n(91830),s=n(39160),d=n(31372),f=n(79959),p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePostShareKeyMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPostShareKey"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostShareKey"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"}}]}}]}}]}}]};function v(){var e=w(),t=e.m(v),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var o={throw:1,return:2,break:3,continue:3};function i(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,o[e],t)},delegateYield:function(e,o,i){return t.resultName=o,n(r.d,m(e),i)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(v=function(){return{wrap:function(t,n,r,o){return e.w(i(t),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new O(e,t)},AsyncIterator:g,async:function(e,t,n,o,a){return(r(t)?b:y)(i(e),t,n,o,a)},keys:h,values:m}})()}function m(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError((0,r.A)(e)+" is not iterable")}function h(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function y(e,t,n,r,o){var i=b(e,t,n,r,o);return i.next().then((function(e){return e.done?e.value:i.next()}))}function b(e,t,n,r,o){return new g(w().w(e,t,n,r),o||Promise)}function g(e,t){function n(r,o,i,a){try{var l=e[r](o),c=l.value;return c instanceof O?t.resolve(c.v).then((function(e){n("next",e,i,a)}),(function(e){n("throw",e,i,a)})):t.resolve(c).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,a)}))}catch(e){a(e)}}var r;this.next||(k(g.prototype),k(g.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),k(this,"_invoke",(function(e,o,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}),!0)}function w(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return k(u,"_invoke",function(n,r,o){var i,l,c,u=0,s=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,l=0,c=e,f.n=n,a}};function p(n,r){for(l=n,c=r,t=0;!d&&u&&!o&&t<s.length;t++){var o,i=s[t],p=f.p,v=i[2];n>3?(o=v===r)&&(c=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(l=0,f.v=r,f.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,f.n=v,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,s,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&p(s,v),l=s,c=v;(t=l<2?e:c)||!d;){i||(l?l<3?(l>1&&(f.n=-1),p(l,c)):f.n=c:f.v=c);try{if(u=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=f.n<0)?c:n.call(r,f))!==a)break}catch(t){i=e,l=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,o,i),!0),u}var a={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(k(t={},r,(function(){return this})),t),d=u.prototype=l.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,k(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,k(d,"constructor",u),k(u,"constructor",c),c.displayName="GeneratorFunction",k(u,o,"GeneratorFunction"),k(d),k(d,o,"Generator"),k(d,r,(function(){return this})),k(d,"toString",(function(){return"[object Generator]"})),(w=function(){return{w:i,m:f}})()}function k(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}k=function(e,t,n,r){function i(t,n){k(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},k(e,t,n,r)}function O(e,t){this.v=e,this.k=t}var S=function(e){var t=e.post,n=e.legacyShareKey,r=e.onComplete,m=(0,s.d4)((function(e){return e.client.isFirefox})),h=(0,l.useState)(!1),y=(0,i.A)(h,2),b=y[0],g=y[1],w=(0,d.L)().timer,k=(0,u.zF)(),O=(0,c.J)(t),S=(0,a.n)(p,{variables:{postId:t.id}}),E=(0,i.A)(S,1)[0],x=(0,l.useCallback)((function(){k({message:"Friend Link copied",duration:2e3})}),[k]),I=(0,l.useCallback)((function(){if(n){var e=(0,f.ST)(O,{sk:n});navigator.clipboard.writeText(e),x(),r()}}),[n,x,O,r]),P=(0,l.useCallback)((0,o.A)(v().mark((function e(){var t,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:if(t=e.sent,"PostShareKey"!==(null==(n=t.data)?void 0:n.createPostShareKey.__typename)){e.next=8;break}return e.abrupt("return",(0,f.ST)(O,{sk:n.createPostShareKey.key}));case 8:throw new Error(null==n?void 0:n.createPostShareKey.__typename);case 9:case"end":return e.stop()}}),e)}))),[O,E]),_=(0,l.useCallback)((0,o.A)(v().mark((function e(){var t,n,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),e.prev=1,t=Date.now(),!m){e.next=10;break}return e.next=6,P();case 6:n=e.sent,navigator.clipboard.writeText(n),e.next=12;break;case 10:return e.next=12,navigator.clipboard.write([new ClipboardItem({"text/plain":P().then((function(e){return new Blob([e],{type:"text/plain"})}))})]);case 12:if(!((o=Date.now()-t)<1e3)){e.next=16;break}return e.next=16,new Promise((function(e){return w(e,1e3-o)}));case 16:x(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),k({message:"There was an error creating this Friend Link. Please try again later.",duration:3e3});case 22:return e.prev=22,g(!1),r(),e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[1,19,22,26]])}))),[P,x,r,m]);return{copy:(0,l.useCallback)((function(){b||(n?I():_())}),[b,n,I,_]),isCopying:b}}},30572:(e,t,n)=>{n.d(t,{a:()=>p});var r=n(64467),o=n(96540),i=n(71468),a=n(99731),l=n(86527),c=n(34317),u=n(49287),s=n(46879);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=(0,i.Ng)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.buttonSize,r=e.buttonStyle,i=e.children,d=e.eventData,p=void 0===d?{}:d,v=e.inline,m=void 0!==v&&v,h=e.isButton,y=void 0!==h&&h,b=e.linkStyle,g=void 0===b?"SUBTLE":b,w=e.post,k=e.redirectUrl,O=e.width,S=e.id,E=e.onClick,x=k||(0,s.Icz)(t),I=(0,c.$L)(),P=(0,u.Fo)(),_=function(){var e,t;I.event("upsell.clicked",f(f({},p),{},{dimension:null==P?void 0:P.dimension,locationId:null==P?void 0:P.dimension,postId:null==w?void 0:w.id,authorId:null==w||null===(e=w.creator)||void 0===e?void 0:e.id,sequenceId:(null==w||null===(t=w.sequence)||void 0===t?void 0:t.sequenceId)||""}))};return y?o.createElement(a.$n,{buttonStyle:r,href:x,onClick:function(){null==E||E(),_()},size:n,width:O,id:S},i):o.createElement(l.N,{onClick:function(){null==E||E(),_()},href:x,linkStyle:g,inline:m,id:S},i)}))},71836:(e,t,n)=>{n.d(t,{C:()=>s});var r=n(64467),o=n(96540),i=n(34317),a=n(49287),l=n(79429);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){var t=e.source,n=e.dimension,r=e.sourceProviderData,c=void 0===r?{}:r,s=e.extendSource,d=void 0!==s&&s,f=e.children,p=e.eventData,v=void 0===p?{}:p,m=e.tag,h=void 0===m?"div":m,y=e.style,b=h,g=(0,i.$L)(),w=u(u({},v),{},{dimension:n,locationId:n}),k=(0,l.s)({onPresentedFn:function(){return g.event("upsell.viewed",w)}}),O=u(u({},c),{},{name:t,dimension:n});return o.createElement(b,{ref:k,style:y},o.createElement(a.Ne,{extendSource:d,source:O},f))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3877.96683729.chunk.js.map