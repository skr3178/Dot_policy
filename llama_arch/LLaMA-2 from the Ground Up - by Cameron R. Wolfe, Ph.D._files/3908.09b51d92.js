"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["3908"],{51534:function(e,t,r){r.d(t,{Z:()=>c});var i=r(7409),a=r(99282),n=r(98848),o=r(16584),l=r(64515);let c=e=>{var{size:t=24,color:r="var(--color-fg-primary)",className:c}=e,s=(0,n._)(e,["size","color","className"]);return(0,o.tZ)(l.l,(0,a._)((0,i._)({},s),{name:"SkinnyLockIcon",svgParams:{viewBox:"0 0 24 24"},stroke:"none",width:t,height:t,fill:r,className:c,children:(0,o.tZ)("path",{d:"M6.63672 23.4922H17.3594C19.082 23.4922 19.9961 22.5547 19.9961 20.7031V12.6289C19.9961 10.7773 19.082 9.85156 17.3594 9.85156H6.63672C4.91406 9.85156 4 10.7773 4 12.6289V20.7031C4 22.5547 4.91406 23.4922 6.63672 23.4922ZM6.05078 10.7539H7.91406V6.79297C7.91406 3.83984 9.80078 2.26953 11.9922 2.26953C14.1836 2.26953 16.0938 3.83984 16.0938 6.79297V10.7539H17.9453V7.05078C17.9453 2.64453 15.0625 0.5 11.9922 0.5C8.93359 0.5 6.05078 2.64453 6.05078 7.05078V10.7539Z",stroke:"none"})}))}},33451:function(e,t,r){r.d(t,{A7:()=>N,Gt:()=>F,Ii:()=>H,KV:()=>k,P9:()=>I,aE:()=>X,bO:()=>z,pc:()=>B,xj:()=>C,xk:()=>W});var i=r(7409),a=r(99282),n=r(98848),o=r(16584),l=r(94184),c=r.n(l),s=r(48403),d=r.n(s);r(39693);var h=r(56687),m=r(99869);r(93974);var u=r(39535);r(3880),r(79094);var g=r(20888);r(19548),r(95441);var f=r(99259);r(77906),r(48980),r(94874);var Z=r(80026),p=r(86075);r(36500);var b=r(38841),v=r(63474);r(91021),r(70379),r(1669),r(16913),r(69304),r(93502),r(32223),r(97842),r(11308);var w=r(36889);r(76820),r(98012),r(60308);var y=r(63651),x=r(77859);function k(e){var t;let{user:r}=e,i=(0,f.M$)().isOnDestination;return(0,o.tZ)(Z.xu,{paddingX:12,children:(0,o.tZ)(Z.xv.B4,{as:"a",color:"secondary",decoration:"hover-underline",href:(0,y.NNq)(r,{noBase:i}),target:"_blank",children:null!==(t=r.name)&&void 0!==t?t:"Substack user"})})}let B=(0,Z.zo)({className:x.Z.messageBubbleGroup,position:"relative",gap:2},v.sg);function X(e){let{direction:t,isLink:r,backgroundColor:i,isAuthorContributor:a}=e,n="incoming"===t&&a,l="".concat(i,"1A");return(0,o.BX)("svg",{viewBox:"0 0 16 13",className:c()(x.Z.bubbs,x.Z[t],r&&x.Z.isLink,a&&x.Z.author),style:n?{fill:l}:{},children:[(0,o.tZ)("circle",{cx:"5",cy:"5",r:"5",className:x.Z.bubb}),(0,o.tZ)("circle",{cx:"13.5",cy:"10.5",r:"2.5",className:x.Z.bubb}),n&&(0,o.BX)(o.HY,{children:[(0,o.tZ)("circle",{cx:"5",cy:"5",r:"5",fill:l}),(0,o.tZ)("circle",{cx:"13.5",cy:"10.5",r:"2.5",fill:l})]})]})}function C(e){var{messageDirection:t,isFirst:r=!1,isLast:l=!1,forceTheme:s,pubThemeAccentColor:h,isAuthorContributor:m,className:u}=e,g=(0,n._)(e,["messageDirection","isFirst","isLast","forceTheme","pubThemeAccentColor","isAuthorContributor","className"]);let f="incoming"===t&&m,p=f&&h;return(0,o.tZ)(Z.X2,(0,a._)((0,i._)({},g),{className:c()(x.Z.bubble,x.Z[t],r&&x.Z.isFirst,l&&x.Z.isLast,s&&x.Z["force".concat(d()(s),"Theme")],f&&x.Z.author,u),style:{"--color-chat-author-bg-overlay":p?"".concat(h,"1A"):"oklch(from var(--color-bg-accent-themed) l c h / 0.1)"}}))}function W(e){let{metadata:t,publication:r,direction:i,isFirst:a,isLast:n}=e,l=I(t.url);return l?(0,o.tZ)(C,{messageDirection:i,isFirst:a,isLast:n,maxWidth:400,forceTheme:"incoming",outline:"detail",children:(0,o.tZ)(L,{videoId:l})}):(0,o.tZ)(C,{as:"a",href:t.url,target:"_blank",rel:"nofollow noopener ugc",messageDirection:i,isFirst:a,isLast:n,maxWidth:400,forceTheme:"incoming",outline:"detail",children:!function(e){let{metadata:t}=e;if(!t.image)return!1;let r=(0,y.zJH)(t.image);return!!r&&(r.width<401||r.height<401)}({metadata:t})?(0,o.tZ)(T,{publication:r,metadata:t}):(0,o.tZ)(z,{metadata:t})})}function I(e){try{let t=new URL(e);if("youtube.com"===t.hostname||"www.youtube.com"===t.hostname){let e=t.searchParams.get("v");if("/watch"===t.pathname&&e)return e}else if("youtu.be"===t.hostname){let e=t.pathname.slice(1);if(e)return e}}catch(e){console.error("Error parsing URL:",e)}return null}function N(e){try{var t,r;let i=new URL(e);if(i.pathname.startsWith("/player/v1/"))return null!==(t=i.pathname.split("/").pop())&&void 0!==t?t:null;if(i.pathname.includes("/video/")){let e=i.pathname.split("/"),t=e.indexOf("video")+1;if(t<e.length)return null!==(r=e[t])&&void 0!==r?r:null}}catch(e){console.error("Error parsing TikTok URL:",e)}return null}function L(e){let{videoId:t}=e;return(0,o.tZ)(V,{src:"https://www.youtube.com/embed/".concat(t),frameBorder:0})}let V=(0,Z.zo)({className:x.Z.youtubeIframe,border:"unset",bg:"black",flex:"grow"},"iframe");function z(e){let{metadata:t}=e;return(0,o.BX)(Z.X2,{flex:"grow",gap:12,padding:12,minWidth:0,children:[(0,o.tZ)(_,{metadata:t}),t.image?(0,o.tZ)(Z.sg,{radius:"md",overflow:"hidden",bg:"tertiary",minWidth:0,children:(0,o.tZ)(g.e,{className:c()(x.Z.linkImage,x.Z.small),src:t.image,maxWidth:64,useRetinaSizing:!0,imageIsFixedWidth:!0,imageProps:{smartCrop:!0,aspect:"1:1"}})}):(0,o.tZ)(Z.sg,{alignItems:"center",justifyContent:"center",radius:"md",height:64,width:64,bg:"tertiary",children:(0,o.tZ)(h.Z,{stroke:"var(--color-fg-secondary)"})})]})}function T(e){let{metadata:t,publication:r}=e;return(0,o.BX)(Z.sg,{flex:"grow",maxWidth:400,minWidth:400,children:[t.image&&(0,o.tZ)(g.e,{className:x.Z.linkImage,src:t.image,maxWidth:400,useRetinaSizing:!0,imageIsFixedWidth:!0,imageProps:{aspect:"1.91:1",gravity:"auto",crop:"fill"}}),(0,o.tZ)(Z.X2,{flex:"grow",padding:12,borderTop:t.image?"detail":void 0,children:(0,o.tZ)(_,{metadata:t,publication:r})})]})}function _(e){let{metadata:t,publication:r}=e;return(0,o.BX)(Z.X2,{flex:"grow",gap:12,minWidth:0,children:[(0,o.BX)(Z.sg,{minWidth:0,flex:"grow",gap:2,children:[t.host&&(0,o.BX)(Z.X2,{alignItems:"center",gap:8,minWidth:0,paddingBottom:r?4:void 0,children:[r&&(0,o.tZ)(b.wk,{pub:r,size:18,radius:"xs"}),(0,o.tZ)(Z.xv.B4,{color:"secondary",ellipsis:!0,children:t.host})]}),t.title&&(0,o.tZ)(Z.xv.B3,{color:"primary",weight:"medium",clamp:2,children:t.title})]}),!t.image&&(0,o.tZ)(Z.X2,{width:64,height:64,bg:"tertiary",radius:"md",alignItems:"center",justifyContent:"center",children:"twitter.com"===t.host||"x.com"===t.host?(0,o.tZ)(u.Z,{fill:"var(--color-fg-secondary)"}):(0,o.tZ)(m.Z,{stroke:"var(--color-fg-secondary)"})})]})}function F(){return(0,o.BX)(Z.X2,{gap:12,padding:12,alignItems:"center",bg:"secondary",flex:"grow",children:[(0,o.BX)(Z.sg,{minWidth:0,flex:"grow",gap:8,children:[(0,o.tZ)(w.V,{height:16,width:"".concat(30*Math.random()+60,"%")}),(0,o.tZ)(w.V,{height:16,width:"".concat(20*Math.random()+20,"%")})]}),(0,o.tZ)(w.V,{size:64,radius:"md"})]})}function H(){return(0,o.tZ)(Z.X2,{gap:12,alignItems:"start",bg:"secondary",flex:"grow",children:(0,o.tZ)(p.u,{title:"Error loading link",description:"Please try again"})})}}}]);