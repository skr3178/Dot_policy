(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["886"],{30998:function(e,t,r){var a=r(41848),n=r(67206),u=r(40554),i=Math.max;e.exports=function(e,t,r){var s=null==e?0:e.length;if(!s)return -1;var l=null==r?0:u(r);return l<0&&(l=i(s+l,0)),a(e,n(t,3),l)}},12561:function(e,t,r){"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-preact v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(36150).Z)("CloudDownload",[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]])},48916:function(e,t,r){"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-preact v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(36150).Z)("CupSoda",[["path",{d:"m6 8 1.75 12.28a2 2 0 0 0 2 1.72h4.54a2 2 0 0 0 2-1.72L18 8",key:"8166m8"}],["path",{d:"M5 8h14",key:"pcz4l3"}],["path",{d:"M7 15a6.47 6.47 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"yjz344"}],["path",{d:"m12 8 1-6h2",key:"3ybfa4"}]])},69241:function(e,t,r){"use strict";r.d(t,{JG:()=>u.JG,MA:()=>u.MA,ZP:()=>l,kY:()=>u.kY});var a=r(98661),n=r(61688),u=r(76750);let i=a.default.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),s={dedupe:!0};u.$l.defineProperty(u.J$,"defaultValue",{value:u.u_});let l=(0,u.s6)((e,t,r)=>{let{cache:l,compare:o,suspense:d,fallbackData:c,revalidateOnMount:f,revalidateIfStale:g,refreshInterval:h,refreshWhenHidden:k,refreshWhenOffline:E,keepPreviousData:p}=r,[V,R,y,T]=u.DY.get(l),[m,w]=(0,u.qC)(e),L=(0,a.useRef)(!1),b=(0,a.useRef)(!1),v=(0,a.useRef)(m),C=(0,a.useRef)(t),_=(0,a.useRef)(r),M=()=>_.current,N=()=>M().isVisible()&&M().isOnline(),[j,A,D,O]=(0,u.JN)(l,m),S=(0,a.useRef)({}).current,I=(0,u.o8)(c)?r.fallback[m]:c,P=(e,t)=>{for(let r in S)if("data"===r){if(!o(e[r],t[r])&&(!(0,u.o8)(e[r])||!o(U,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},Z=(0,a.useMemo)(()=>{let e=!!m&&!!t&&((0,u.o8)(f)?!M().isPaused()&&!d&&(!!(0,u.o8)(g)||g):f),r=t=>{let r=(0,u.PM)(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},a=j(),n=O(),i=r(a),s=a===n?i:r(n),l=i;return[()=>{let e=r(j());return P(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>s]},[l,m]),J=(0,n.useSyncExternalStore)((0,a.useCallback)(e=>D(m,(t,r)=>{P(r,t)||e()}),[l,m]),Z[0],Z[1]),x=!L.current,F=V[m]&&V[m].length>0,Y=J.data,q=(0,u.o8)(Y)?I:Y,z=J.error,G=(0,a.useRef)(q),U=p?(0,u.o8)(Y)?G.current:Y:q,W=(!F||!!(0,u.o8)(z))&&(x&&!(0,u.o8)(f)?f:!M().isPaused()&&(d?!(0,u.o8)(q)&&g:(0,u.o8)(q)||g)),$=!!(m&&t&&x&&W),B=(0,u.o8)(J.isValidating)?$:J.isValidating,H=(0,u.o8)(J.isLoading)?$:J.isLoading,K=(0,a.useCallback)(async e=>{let t,a;let n=C.current;if(!m||!n||b.current||M().isPaused())return!1;let i=!0,s=e||{},l=!y[m]||!s.dedupe,d=()=>u.w6?!b.current&&m===v.current&&L.current:m===v.current,c={isValidating:!1,isLoading:!1},f=()=>{A(c)},g=()=>{let e=y[m];e&&e[1]===a&&delete y[m]},h={isValidating:!0};(0,u.o8)(j().data)&&(h.isLoading=!0);try{if(l&&(A(h),r.loadingTimeout&&(0,u.o8)(j().data)&&setTimeout(()=>{i&&d()&&M().onLoadingSlow(m,r)},r.loadingTimeout),y[m]=[n(w),(0,u.u3)()]),[t,a]=y[m],t=await t,l&&setTimeout(g,r.dedupingInterval),!y[m]||y[m][1]!==a)return l&&d()&&M().onDiscarded(m),!1;c.error=u.i_;let e=R[m];if(!(0,u.o8)(e)&&(a<=e[0]||a<=e[1]||0===e[1]))return f(),l&&d()&&M().onDiscarded(m),!1;let s=j().data;c.data=o(s,t)?s:t,l&&d()&&M().onSuccess(t,m,r)}catch(r){g();let e=M(),{shouldRetryOnError:t}=e;!e.isPaused()&&(c.error=r,l&&d()&&(e.onError(r,m,e),(!0===t||(0,u.mf)(t)&&t(r))&&N()&&e.onErrorRetry(r,m,e,e=>{let t=V[m];t&&t[0]&&t[0](u.sj.ERROR_REVALIDATE_EVENT,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return i=!1,f(),!0},[m,l]),Q=(0,a.useCallback)((...e)=>(0,u.BN)(l,v.current,...e),[]);if((0,u.LI)(()=>{C.current=t,_.current=r,(0,u.o8)(Y)||(G.current=Y)}),(0,u.LI)(()=>{if(!m)return;let e=K.bind(u.i_,s),t=0,r=(0,u.ko)(m,V,(r,a={})=>{if(r==u.sj.FOCUS_EVENT){let r=Date.now();M().revalidateOnFocus&&r>t&&N()&&(t=r+M().focusThrottleInterval,e())}else if(r==u.sj.RECONNECT_EVENT)M().revalidateOnReconnect&&N()&&e();else if(r==u.sj.MUTATE_EVENT)return K();else if(r==u.sj.ERROR_REVALIDATE_EVENT)return K(a)});return b.current=!1,v.current=m,L.current=!0,A({_k:w}),W&&((0,u.o8)(q)||u.W6?e():(0,u.kw)(e)),()=>{b.current=!0,r()}},[m]),(0,u.LI)(()=>{let e;function t(){let t=(0,u.mf)(h)?h(j().data):h;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!j().error&&(k||M().isVisible())&&(E||M().isOnline())?K(s).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[h,k,E,m]),(0,a.useDebugValue)(U),d&&(0,u.o8)(q)&&m){if(!u.w6&&u.W6)throw Error("Fallback data is required when using suspense in SSR.");C.current=t,_.current=r,b.current=!1;let e=T[m];if((0,u.o8)(e)||i(Q(e)),(0,u.o8)(z)){let e=K(s);(0,u.o8)(U)||(e.status="fulfilled",e.value=!0),i(e)}else throw z}return{mutate:Q,get data(){return S.data=!0,U},get error(){return S.error=!0,z},get isValidating(){return S.isValidating=!0,B},get isLoading(){return S.isLoading=!0,H}}})}}]);
//# sourceMappingURL=886.01e5d68d.js.map