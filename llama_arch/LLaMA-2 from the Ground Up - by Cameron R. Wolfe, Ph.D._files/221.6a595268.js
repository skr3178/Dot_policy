"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["221"],{62372:function(e,t,r){r.d(t,{Eh:()=>G,XI:()=>J,md:()=>g,sJ:()=>_});var n,o,i=r(98661);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return c(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e){var t=(0,i.useRef)(null);return function(r){r&&r!==t.current&&(t.current=r,e(r))}}var p="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,h=2987==r.j?{top:0,left:0,right:1,bottom:1,width:1,height:1}:null;function g(e){var t=void 0===e?{}:e,r=t.enabled,n=void 0===r||r,o=t.preventDefault,s=void 0===o||o,u=(0,i.useRef)(null),a=(0,i.useState)(h),l=a[0],c=a[1];return{hasMousePosition:l!==h,resetMousePosition:function(){c(h)},handleMouseEvent:function(e){if(n){s&&e.preventDefault();var t=e.clientX,r=e.clientY;c({top:r,left:t,width:1,height:1,right:t+1,bottom:r+1})}},trigger:{getBounds:function(){return l},getParent:u.current?function(){return u.current}:void 0},parentRef:u}}function v(e){return parseFloat(e.replace("px",""))}function m(e,t,r){return e<t?t:e>r?r:e}function y(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){for(var r,n=f(t);!(r=n()).done;){var o=r.value;o&&("function"==typeof o?o(e):o.current=e)}}}function b(e){return"react-laag: Could not find a valid reference for the "+e+" element. There might be 2 causes:\n   - Make sure that the 'ref' is set correctly on the "+e+' element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".\n   - Make sure that you are actually rendering the '+e+" when the isOpen prop is set to true"}var w=(0,i.createContext)({});function C(e){var t=e.children,r=e.registrations,n=(0,i.useCallback)(function(e){return r.current.add(e),function(){return r.current.delete(e)}},[r]);return(0,i.createElement)(w.Provider,{value:n},t)}var E={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},S=function(){function e(e,t,r,n,o,i,s,u,a){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=e,this.opposite=t,this.isHorizontal=r,this.sizeProp=n,this.oppositeSizeProp=o,this.cssProp=i,this.oppositeCssProp=s,this.isCenter=u,this.isPush=a}var t=e.prototype;return t.factor=function(e){return e*(this.isPush?1:-1)},t.isOppositeDirection=function(e){return this.isHorizontal!==e.isHorizontal},e}();function O(e,t){void 0===t&&(t=!0);var r=["left","right"].includes(e);return new S(e,t?O(E[e],!1):null,r,r?"width":"height",r?"height":"width",r?"left":"top",r?"top":"left","center"===e,!["right","bottom"].includes(e))}var P={top:O("top"),bottom:O("bottom"),left:O("left"),right:O("right")},L=a({},P,{center:O("center")}),k=["top","left","bottom","right"],R=function(){function e(e){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,e)}return e.mergeSmallestSides=function(t){var r=t[0],n=t.slice(1);if(!r)throw Error("Please provide at least 1 bounds objects in order to merge");for(var o,i=Object.fromEntries(k.map(function(e){return[e,r[e]]})),s=f(n);!(o=s()).done;)for(var u,a=o.value,l=f(k);!(u=l()).done;){var c=u.value;i[c]=Math.min(i[c],a[c])}return new e(i)},u(e,[{key:"allSidesArePositive",get:function(){var e=this;return k.every(function(t){return e[t]>=0})}},{key:"negativeSides",get:function(){var e=this;return Object.fromEntries(k.filter(function(t){return e[t]<0}).map(function(t){return[t,e[t]]}))}}]),e}();function j(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return e+(t?v(t):0)},0)}function T(e){return{top:e.top,left:e.left,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}var B={top:0,left:0,right:0,bottom:0,width:0,height:0},H=function(){function e(e){return void 0===e&&(e={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,B,e)}e.create=function(t){return new e(t)},e.fromElement=function(t,r){void 0===r&&(r={});var n=r,o=n.withTransform,i=n.environment,s=void 0===i?window:i,u=n.withScrollbars,l=new e(T(t.getBoundingClientRect()));if(!(void 0===o||o)){var c=s.getComputedStyle(t),f=c.width,d=c.height,p=c.boxSizing,h=c.borderLeft,g=c.borderRight,m=c.borderTop,y=c.borderBottom,b=c.paddingLeft,w=c.paddingRight,C=c.paddingTop,E=c.paddingBottom,S="border-box"===p?v(f):j(f,h,g,b,w),O="border-box"===p?v(d):j(d,m,y,C,E);l=new e(a({},l,{width:S,height:O}))}if(!(void 0===u||u)){var P=l.width-t.clientWidth,L=l.height-t.clientHeight;return l.substract({right:P,bottom:L})}return l},e.empty=function(){return new e},e.fromWindow=function(t){var r,n=null!=(r=null==t?void 0:t.document.scrollingElement)?r:null==t?void 0:t.document.documentElement,o=null!=n?n:{},i=o.clientWidth,s=void 0===i?0:i,u=o.clientHeight,a=void 0===u?0:u;return new e({width:s,height:a,right:s,bottom:a})};var t=e.prototype;return t.toObject=function(){return T(this)},t.merge=function(t){var r=this.toObject();return new e(a({},r,"function"==typeof t?t(r):t))},t.substract=function(t){for(var r=this.toObject(),n=Object.entries(t),o=0;o<n.length;o++){var i=n[o],s=i[0],u=i[1];if(s in P){var a=P[s];r[s]+=a.factor(u),r[a.isHorizontal?"width":"height"]-=u}else r[s]-=u||0}return new e(r)},t.offsetsTo=function(e){return new R({top:e.top-this.top,bottom:this.bottom-e.bottom,left:e.left-this.left,right:this.right-e.right})},t.mapSides=function(t){for(var r=this.toObject(),n=Object.values(P),o=0;o<n.length;o++){var i=n[o];r[i.prop]=t(i,r[i.prop])}return new e(r)},u(e,[{key:"surface",get:function(){return this.width*this.height}}]),e}(),M=function(){function e(e,t,r,n,o){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=e,this.secondary=t,this.offsets=o,this.setSubjectsBounds(r,n)}var t=e.prototype;return t.setSubjectsBounds=function(e,t){if(!t){this.subjectsBounds=e;return}var r="function"==typeof t?t(this.primary.prop):t;this.subjectsBounds=e.merge({layer:a({},e.layer,r)})},t.getLayerBounds=function(e){if(void 0===e&&(e=0),this._cachedLayerBounds&&0===e)return this._cachedLayerBounds;var t=this.primary,r=this.secondary,n=this.subjectsBounds,o=n.trigger,i=n.layer,s=n.arrow,u=t.isHorizontal,a=t.oppositeCssProp,l=t.oppositeSizeProp,c=t.prop,f=t.opposite,d=H.empty();d[f.prop]=o[c]-t.factor(this.offsets.trigger),d[c]=d[f.prop]-t.factor(i[t.sizeProp]);var p=2*this.offsets.arrow,h=o[a]-(i[l]-s[l])+p,g=o[a]+(o[l]-s[l])-p;if(r.isPush||(h+=i[l],g+=i[l]),r.isCenter){var v=(u?P.top:P.left).prop,y=(u?P.bottom:P.right).prop;d[v]=m(o[v]+o[l]/2-i[l]/2+e,h,g),d[y]=d[v]+i[l]}else{var b=o[r.prop],w=b<h?h-b:b>g?g-b:0;d[r.prop]=m(b+e+w,h,g),d[r.opposite.prop]=d[r.prop]+r.factor(i[l])}d.width=d.right-d.left,d.height=d.bottom-d.top;var C=H.create(d);return 0===e&&(this._cachedLayerBounds=C),C},t.getLayerCollisionBounds=function(){var e=this.offsets.container;return this.getLayerBounds().mapSides(function(t,r){return r-t.factor(e)}).merge(function(t){return{width:t.width+2*e,height:t.height+2*e}})},t.getContainerOffsets=function(e){if(this._cachedContainerOffsets&&!e)return this._cachedContainerOffsets;var t=this.subjectsBounds.merge({layer:e||this.getLayerCollisionBounds()}),r=R.mergeSmallestSides(t.layerOffsetsToScrollContainers);return e||(this._cachedContainerOffsets=r),r},u(e,[{key:"type",get:function(){return this.primary.prop+"-"+("center"===this.secondary.prop?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var e=this.secondary.isHorizontal,t=this.subjectsBounds,r=t.triggerHasBiggerWidth,n=t.triggerHasBiggerHeight;return e&&r||!e&&n}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var e=this.getLayerBounds(),t=this.getContainerOffsets(e).negativeSides;for(var r in t)t[r]=-t[r];return e.substract(t).surface}},{key:"secondaryOffsetSide",get:function(){var e,t,r=this;return(null!=(e=null==(t=Object.entries(this.getContainerOffsets().negativeSides).map(function(e){var t=e[0],r=e[1];return[P[t],r]}).filter(function(e){var t=e[0];return r.primary.isOppositeDirection(t)}).sort(function(e,t){var r=e[1];return t[1]-r}))?void 0:t[0])?e:[])[0]||null}}]),e}(),z=function(e){function t(){return e.apply(this,arguments)||this}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,l(t,e),t.prototype.getLayerBounds=function(){var e=this.subjectsBounds,t=e.trigger,r=e.layer,n=H.empty();return n.top=t.top+t.height/2-r.height/2,n.bottom=n.top+r.height,n.left=t.left+t.width/2-r.width/2,n.right=n.left+r.width,n.width=n.right-n.left,n.height=n.bottom-n.top,n},t}(M),I={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null},V=function(){function e(e,t,r){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=e,this.config=t,this.subjectsBounds=r}e.getSidesFromPlacementType=function(e){var t,r=e.split("-"),n=r[0],o=r[1],i=P[n];return t="center"===o?L.center:i.isHorizontal?"start"===o?L.top:L.bottom:"start"===o?L.left:L.right,[i,t]},e.create=function(t,r){var n={arrow:r.arrowOffset,container:r.containerOffset,trigger:r.triggerOffset};function o(o){void 0===o&&(o=r.placement);var i=e.getSidesFromPlacementType(o),s=i[0],u=i[1],a=P[s.isHorizontal?r.preferY:r.preferX],l=!s.isHorizontal&&t.triggerHasBiggerWidth||s.isHorizontal&&t.triggerHasBiggerHeight;function c(e,o){return new M(e,o,t,r.layerDimensions,n)}var f=[];return f[0]=c(s,u),f[1]=c(s,u.isCenter?a:L.center),f[2]=c(s,L[(u.opposite.isCenter?a.opposite:u.opposite).prop]),f[3]=c(a,l?s:L[s.opposite.prop]),f[4]=c(a,L.center),f[5]=c(a,l?L[s.opposite.prop]:s),f[6]=c(P[a.opposite.prop],l?s:L[s.opposite.prop]),f[7]=c(P[a.opposite.prop],L.center),f[8]=c(P[a.opposite.prop],l?L[s.opposite.prop]:s),f[9]=c(P[s.opposite.prop],u),f[10]=c(P[s.opposite.prop],u.isCenter?a:L.center),f[11]=c(P[s.opposite.prop],L[(u.opposite.isCenter?a.opposite:u.opposite).prop]),f=f.filter(function(e){return e.type===r.placement||r.possiblePlacements.includes(e.type)})}return"center"===r.placement?new e([new z(L.center,L.center,t,r.layerDimensions,n)].concat(o(r.preferY+"-"+r.preferX)),r,t):new e(o(),r,t)};var t=e.prototype;return t.filterPlacementsBySide=function(e){return this.placements.filter(function(t){return t.primary===e})},t.findFirstPlacementThatFits=function(){return this.placements.find(function(e){return e.fitsContainer})},t.placementWithBiggestVisibleSurface=function(){return this.placements.map(function(e){return{placement:e,surface:e.visibleSurface}}).sort(function(e,t){return t.surface-e.surface})[0].placement},t.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},t.getSecondaryOffset=function(e){var t,r=this.config,n=r.auto,o=r.snap;if(!n||o||e instanceof z)return 0;var i=this.filterPlacementsBySide(e.primary);if(0===i.indexOf(e)&&e.fitsContainer)return 0;var s=i.find(function(e){return!e.fitsContainer});if(!s)return 0;var u=s.secondaryOffsetSide;if(!u)return 0;var a=e.getContainerOffsets(),l=e.secondary;return t=e.triggerIsBigger||s===e?u.isPush?-1:1:l===L.left||[L.top,L.center].includes(l)&&u.isPush?-1:1,a[u.prop]*t},t.getStyles=function(e,t,r,n){var o={willChange:"top, left, width, height"};return{arrow:function(e,t,r){if(t.primary.isCenter)return I;var n,o,i,s,u,l,c,f,d,p,h=e.layer,g=e.trigger,v=e.arrow,y=t.primary.oppositeSizeProp,b=g[y]>h[y],w=r+v[y]/2,C=h[y]-v[y]/2-r,E=(n=e.layer,o=e.trigger,i=e.arrow,s=t.primary.oppositeSizeProp,l=(u=t.primary.isHorizontal?["top","bottom"]:["left","right"])[0],c=u[1],((f=n[l]+n[s]/2-o[l]-i[s]/2-r)<0?-f:0)+((d=n[c]-n[s]/2-o[c]+i[s]/2+r)>0?-d:0)),S=t.primary.prop,O=t.primary.oppositeCssProp,P=b?h[y]/2+E:g[O]+g[y]/2-h[O];return a({},I,((p={})[S]="100%",p[O]=m(P,w,C),p))}(this.subjectsBounds.merge({layer:e}),t,this.config.arrowOffset),layer:this.config.overflowContainer?a({},o,{position:"fixed",top:e.top,left:e.left}):a({},o,{position:"absolute",top:e.top-this.subjectsBounds.parent.top+r.top-n.top,left:e.left-this.subjectsBounds.parent.left+r.left-n.left})}},t.getHasDisappeared=function(e){var t=this.config.overflowContainer?this.subjectsBounds.trigger:e,r=R.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(t,!0));return Object.entries(r.negativeSides).some(function(e){var r=e[0];return e[1]<=-t[P[r].sizeProp]})?"full":r.allSidesArePositive?null:"partial"},t.result=function(e,t){var r=this.findSuitablePlacement(),n=this.getSecondaryOffset(r),o=r.getLayerBounds(n);return{styles:this.getStyles(o,r,e,t),layerSide:r.primary.prop,placement:r,layerBounds:o,hasDisappeared:this.getHasDisappeared(o)}},e}(),D=function(){function e(e,t){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=t,Object.assign(this,e)}e.create=function(t,r,n,o,i,s,u,a){var l=H.fromWindow(t);return new e({layer:H.fromElement(r,{environment:t,withTransform:!1}),trigger:a?H.create(T(a())):H.fromElement(n),arrow:i?H.fromElement(i):H.empty(),parent:o?H.fromElement(o):l,window:l,scrollContainers:[l].concat(s.map(function(e){return H.fromElement(e,{withScrollbars:!1})}))},u)};var t=e.prototype;return t.merge=function(t){return new e(a({},this,t),this.overflowContainer)},t.offsetsToScrollContainers=function(e,t){return void 0===t&&(t=!1),(this.overflowContainer&&!t?[this.window]:this.scrollContainers).map(function(t){return t.offsetsTo(e)})},u(e,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),e}(),A={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],preferX:"right",preferY:"bottom",snap:!1,container:void 0};function _(e){var t,r,n,o,s,u,l,c,h,g,m,E,S,O,P,L,k,R,j,T,B,H,M,z,I,_,N,W,Y,F,X,G,J,$,U,Z,q,K,Q=e.isOpen,ee=void 0!==Q&&Q,et=e.overflowContainer,er=void 0===et?A.overflowContainer:et,en=e.environment,eo=void 0===en?"undefined"!=typeof window?window:void 0:en,ei=e.ResizeObserver,es=e.placement,eu=void 0===es?A.placement:es,ea=e.possiblePlacements,el=void 0===ea?A.possiblePlacements:ea,ec=e.preferX,ef=void 0===ec?A.preferX:ec,ed=e.preferY,ep=void 0===ed?A.preferY:ed,eh=e.auto,eg=void 0===eh?A.auto:eh,ev=e.snap,em=void 0===ev?A.snap:ev,ey=e.triggerOffset,eb=void 0===ey?A.triggerOffset:ey,ew=e.containerOffset,eC=void 0===ew?A.containerOffset:ew,eE=e.arrowOffset,eS=void 0===eE?A.arrowOffset:eE,eO=e.container,eP=void 0===eO?A.container:eO,eL=e.layerDimensions,ek=void 0===eL?null:eL,eR=e.onDisappear,ej=e.onOutsideClick,eT=e.onParentClose,eB=e.trigger,eH=(0,i.useState)(function(){return{layerSide:"center"===eu?"center":V.getSidesFromPlacementType(eu)[0].prop,styles:{layer:{position:er?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),eM=eH[0],ez=eH[1],eI=(0,i.useRef)(null),eV=(t=(0,i.useRef)(eM),ee?t.current=eM:t.current=null,t),eD=(0,i.useRef)({cancelled:!1});(0,i.useEffect)(function(){return function(){eD.current.cancelled=!0}},[]);var eA=(0,i.useCallback)(function(e,t,r){var n=e.arrow,o=e.layer,i=e.scrollContainers,s=e.trigger,u=i[0],a=D.create(eo,o,s,u,n,i,er,null==eB?void 0:eB.getBounds),l=V.create(a,{placement:eu,possiblePlacements:el,auto:eg,layerDimensions:ek,arrowOffset:eS,containerOffset:eC,triggerOffset:eb,preferX:ef,preferY:ep,snap:em,overflowContainer:er}).result(t,r),c=l.hasDisappeared,f={layerSide:l.layerSide,styles:l.styles};if(!eV.current||function(e,t){if(e.layerSide!==t.layerSide)return!0;for(var r=0,n=["position","top","left","right","bottom"];r<n.length;r++){var o=n[r];if(e.styles.layer[o]!==t.styles.layer[o]||e.styles.arrow[o]!==t.styles.arrow[o])return!0}return!1}(eV.current,f)){eV.current=f,eD.current.cancelled=!0;var d={cancelled:!1};eD.current=d,Promise.resolve().then(function(){d.cancelled||ez(f)})}null!=c&&null!=eR&&eR(c)},[eS,eg,eC,eo,ek,eR,er,eu,el,ef,ep,em,eb,eV,eB]),e_=(n=(r={ResizeObserverPolyfill:ei,environment:eo,enabled:ee,overflowContainer:er,onChange:eA,triggerOption:eB}).enabled,o=r.onChange,s=r.environment,u=r.ResizeObserverPolyfill,l=r.overflowContainer,c=r.triggerOption,h=function(e,t){if(void 0!==e)return t||e.ResizeObserver}(s,u),(0,i.useEffect)(function(){},[h]),g=(0,i.useRef)(null),m=!!c,P=(E={scrollContainers:[],trigger:null,layer:null},S=(0,i.useRef)(E),O=(0,i.useMemo)(function(){return[function(){return S.current},function(e){"function"==typeof e?S.current=e(S.current):S.current=e}]},[]))[0],L=O[1],j=(k=(0,i.useRef)([]),R=(0,i.useMemo)(function(){return{hasEventSubscriptions:function(){return k.current.length>0},removeAllEventSubscriptions:function(){for(var e,t=f(k.current);!(e=t()).done;)(0,e.value)();k.current=[]},addEventSubscription:function(e){k.current.push(e)}}},[])).hasEventSubscriptions,T=R.addEventSubscription,B=R.removeAllEventSubscriptions,H=(0,i.useCallback)(function(){var e=P(),t=e.layer,r=e.trigger,n=e.scrollContainers,i=n[0];if(!t)throw Error(b("layer"));if(!r&&!m)throw Error(b("trigger"));var u={top:0,left:0};if(i){var a=i.scrollLeft;u={top:i.scrollTop,left:a}}else{var l=s.scrollX;u={top:s.scrollY,left:l}}var c={left:0,top:0};if(i){var f=s.getComputedStyle(i),d=f.borderLeftWidth,p=f.borderTopWidth;c={left:v(d)||0,top:v(p)||0}}o({layer:t,trigger:r,scrollContainers:n,arrow:g.current},u,c)},[P,o,s,g,m]),M=(0,i.useCallback)(function(){var e=P(),t=e.trigger,r=e.layer,n=e.scrollContainers;if(!r)throw Error(b("layer"));if(!t&&!m)throw Error(b("trigger"));if(h){for(var o=!1,i=new h(function(){if(!o){o=!0;return}H()}),u=0,a=[t,r,document.body];u<a.length;u++){var l=a[u];l&&i.observe(l)}T(function(){for(var e=0,n=[t,r,document.body];e<n.length;e++){var o=n[e];o&&i.unobserve(o)}i.disconnect()})}for(var c,d=[s].concat(n),p=f(d);!(c=p()).done;)!function(){var e=c.value;e.addEventListener("scroll",H),T(function(){return e.removeEventListener("scroll",H)})}()},[P,T,H,s,h,m]),z=(0,i.useCallback)(function(e,t){n&&e&&e!==t&&(B(),M(),H())},[B,M,H,n]),I=d((0,i.useCallback)(function(e){var t=P().layer;L(function(t){return a({},t,{layer:e})}),z(t,e)},[P,L,z])),_=(0,i.useCallback)(function(e){var t=function e(t,r){var n=[];if(!t||!r||t===document.body)return n;var o=r.getComputedStyle(t);return[o.overflow,o.overflowX,o.overflowY].some(function(e){return["auto","scroll"].includes(e)})&&n.push(t),[].concat(n,e(t.parentElement,r))}(e,s),r=t[0];return r&&!(["relative","absolute","fixed"].includes(s.getComputedStyle(r).position)||l)&&(r.style.position="relative"),t},[s,l]),N=d((0,i.useCallback)(function(e){var t=_(e),r=P().trigger;L(function(r){return a({},r,{trigger:e,scrollContainers:t})}),z(r,e)},[P,L,z,_])),p(function(){W&&L(function(e){return a({},e,{scrollContainers:_(W)})})},[W=null==c?void 0:null==c.getParent?void 0:c.getParent(),L,_]),p(function(){return n&&!j()&&M(),function(){j()&&B()}},[n,j,M,B]),p(function(){n&&H()}),{triggerRef:N,layerRef:I,arrowRef:g,closestScrollContainer:P().scrollContainers[0]||null}),ex=e_.triggerRef,eN=e_.layerRef,eW=e_.arrowRef,eY=e_.closestScrollContainer,eF=(F=(Y={isOpen:ee,onOutsideClick:ej,onParentClose:eT}).isOpen,X=Y.onOutsideClick,G=Y.onParentClose,J=(0,i.useRef)(null),$=(0,i.useRef)(null),U=(0,i.useRef)(new Set),Z=(0,i.useContext)(w),q=(0,i.useCallback)(function(e){var t=e.target,r=J.current&&J.current.contains(t),n=$.current&&$.current.contains(t),o=function(e,t){for(var r,n=f(e);!(r=n()).done;)if(!(0,r.value.shouldCloseWhenClickedOutside)(t))return!1;return!0}(U.current,e);return n&&o&&U.current.forEach(function(e){return(0,e.closeChild)()}),!r&&!n&&o},[J,$,U]),(0,i.useEffect)(function(){if("function"==typeof Z)return Z({shouldCloseWhenClickedOutside:q,closeChild:function(){G&&G()}})},[Z,q,G,U]),(0,i.useEffect)(function(){var e="function"==typeof Z;if(F&&X&&!e)return document.addEventListener("click",t,!0),function(){return document.removeEventListener("click",t,!0)};function t(e){q(e)&&X()}},[F,X,q,Z]),(0,i.useEffect)(function(){F||U.current.forEach(function(e){return(0,e.closeChild)()})},[F]),{closeOnOutsideClickRefs:{trigger:J,layer:$},registrations:U}),eX=eF.closeOnOutsideClickRefs,eG=eF.registrations;return{triggerProps:eB?{}:{ref:y(ex,eX.trigger,eI)},layerProps:{ref:y(eN,eX.layer),style:eM.styles.layer},arrowProps:{ref:eW,style:eM.styles.arrow,layerSide:eM.layerSide},layerSide:eM.layerSide,triggerBounds:ee?eB?eB.getBounds():null==(K=eI.current)?void 0:K.getBoundingClientRect():null,renderLayer:function(e){return"undefined"!=typeof document?(0,i.createPortal)((0,i.createElement)(C,{registrations:eG,children:e}),er||!eY?function(e){var t;if("function"==typeof e){if(!(t=e())||!(t instanceof HTMLElement))throw Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(e instanceof HTMLElement)t=e;else if("string"==typeof e){if(!(t=document.getElementById(e)))throw Error("react-laag: You've passed element with id '"+e+"' to the 'container' prop, but it returned no valid HTMLElement")}else{HTMLElement;(t=document.getElementById(x))||((t=document.createElement("div")).id=x,t.style.cssText="\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        right: 0px;\n      ",document.body.appendChild(t))}return t}(eP):eY):null}}}var x="layers",N=/^(2[79]87|1612|3154|4153|5288|6909)$/.test(r.j)?["size","angle","borderWidth","borderColor","roundness","backgroundColor","layerSide","style"]:null,W="left",Y="bottom",F="right";function X(e,t){return Math.tan(Math.PI/180*e)*t}var G=/^(2[79]87|1612|3154|4153|5288|6909)$/.test(r.j)?(0,i.forwardRef)(function(e,t){var r,n,o,s,u,l,c,f,d,p,h,g,v,m,y,b,w,C,E=e.size,S=void 0===E?8:E,O=e.angle,L=void 0===O?45:O,k=e.borderWidth,R=void 0===k?0:k,j=e.borderColor,T=e.roundness,B=e.backgroundColor,H=void 0===B?"white":B,M=e.layerSide,z=void 0===M?"top":M,I=e.style,V=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,N);if("center"===z)return null;var D=P[z],A=2*X(L,S),_=Math.max(S,A);return(0,i.createElement)("svg",a({ref:t},V,{style:a({},void 0===I?{}:I,{transform:"translate"+(D.isHorizontal?"Y":"X")+"(-50%)"}),width:_,height:_,preserveAspectRatio:D.isPush?"xMinYMin":"xMaxYMax",viewBox:((r={})[Y]="0 "+-R+" "+A+" "+S,r.top="0 0 "+A+" "+(S+R),r[F]=-R+" 0 "+S+" "+A,r[W]="0 0 "+(S+R)+" "+A,r)[D.prop]}),(0,i.createElement)("path",{fill:H,strokeWidth:R,stroke:void 0===j?"black":j,d:(u=(void 0===T?0:T)/10*S*2,l=((n={})[Y]=[0,S],n.top=[0,0],n[F]=[S,A],n[W]=[0,A],n)[D.prop].join(" "),c=D.isHorizontal?"V 0":"H "+A,f=A/2,d=A/2+X(L,S/8),p=S/8,h=((o={})[Y]=["C",d,p,f+u,0,f,0],o.top=["C",d,S-p,f+u,S,f,S],o[F]=["C",p,A-d,0,f-u,0,f],o[W]=["C",S-p,A-d,S,f-u,S,f],o)[D.prop].join(" "),g=A/2-X(L,S/8),v=S/8,m=((s={})[Y]=["C",f-u,0,g,v,l],s.top=["C",f-u,S,g,S-v,l],s[F]=["C",0,f+u,v,A-g,l],s[W]=["C",S,f+u,S-v,A-g,l],s)[D.prop].join(" "),["M",l,c,h,m].join(" "))}),(0,i.createElement)("path",{fill:H,d:(y=X(L,R),w=(b=D.isPush?[0,R]:[S,S-R])[0],C=b[1],D.isHorizontal?["M",w,R,"V",A-R,"L",C,A-R-y,"V",y+R,"Z"].join(" "):["M",R,w,"H",A-R,"L",A-R-y,C,"H",y+R,"Z"].join(" "))}))}):null;function J(e){var t=void 0===e?{}:e,r=t.delayEnter,n=void 0===r?0:r,s=t.delayLeave,u=void 0===s?0:s,a=t.hideOnScroll,l=void 0===a||a,c=(0,i.useState)(!1),f=c[0],d=c[1],p=(0,i.useRef)(null),h=(0,i.useRef)(o.IDLE),g=(0,i.useRef)(!1),v=(0,i.useCallback)(function(){clearTimeout(p.current),p.current=null,h.current=o.IDLE},[]);function m(e,t){if(h.current===o.ENTERING&&p.current&&v(),f){if(t){d(!1),p.current=null,h.current=o.IDLE;return}h.current=o.LEAVING,p.current=window.setTimeout(function(){d(!1),p.current=null,h.current=o.IDLE},u)}}return(0,i.useEffect)(function(){function e(){f&&l&&(v(),d(!1))}return window.addEventListener("scroll",e,!0),function(){window.removeEventListener("scroll",e,!0),p.current&&clearTimeout(p.current)}},[f,l,v]),[f,{onMouseEnter:function(){h.current===o.LEAVING&&p.current&&v(),!f&&(h.current=o.ENTERING,p.current=window.setTimeout(function(){d(!0),p.current=null,h.current=o.IDLE},n))},onMouseLeave:m,onTouchStart:function(){g.current=!1},onTouchMove:function(){g.current=!0},onTouchEnd:function(){g.current||f||d(!0),g.current=!1}},function(){return m(null,!0)}]}(n=o||(o={}))[n.ENTERING=0]="ENTERING",n[n.LEAVING=1]="LEAVING",n[n.IDLE=2]="IDLE"},69241:function(e,t,r){r.d(t,{J$:()=>a,JG:()=>i.JG,MA:()=>i.MA,ZP:()=>l,kY:()=>i.kY});var n=r(98661),o=r(61688),i=r(76750);let s=n.default.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),u={dedupe:!0},a=i.$l.defineProperty(i.J$,"defaultValue",{value:i.u_}),l=(0,i.s6)((e,t,r)=>{let{cache:a,compare:l,suspense:c,fallbackData:f,revalidateOnMount:d,revalidateIfStale:p,refreshInterval:h,refreshWhenHidden:g,refreshWhenOffline:v,keepPreviousData:m}=r,[y,b,w,C]=i.DY.get(a),[E,S]=(0,i.qC)(e),O=(0,n.useRef)(!1),P=(0,n.useRef)(!1),L=(0,n.useRef)(E),k=(0,n.useRef)(t),R=(0,n.useRef)(r),j=()=>R.current,T=()=>j().isVisible()&&j().isOnline(),[B,H,M,z]=(0,i.JN)(a,E),I=(0,n.useRef)({}).current,V=(0,i.o8)(f)?r.fallback[E]:f,D=(e,t)=>{for(let r in I)if("data"===r){if(!l(e[r],t[r])&&(!(0,i.o8)(e[r])||!l(G,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},A=(0,n.useMemo)(()=>{let e=!!E&&!!t&&((0,i.o8)(d)?!j().isPaused()&&!c&&(!!(0,i.o8)(p)||p):d),r=t=>{let r=(0,i.PM)(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},n=B(),o=z(),s=r(n),u=n===o?s:r(o),a=s;return[()=>{let e=r(B());return D(e,a)?(a.data=e.data,a.isLoading=e.isLoading,a.isValidating=e.isValidating,a.error=e.error,a):(a=e,e)},()=>u]},[a,E]),_=(0,o.useSyncExternalStore)((0,n.useCallback)(e=>M(E,(t,r)=>{D(r,t)||e()}),[a,E]),A[0],A[1]),x=!O.current,N=y[E]&&y[E].length>0,W=_.data,Y=(0,i.o8)(W)?V:W,F=_.error,X=(0,n.useRef)(Y),G=m?(0,i.o8)(W)?X.current:W:Y,J=(!N||!!(0,i.o8)(F))&&(x&&!(0,i.o8)(d)?d:!j().isPaused()&&(c?!(0,i.o8)(Y)&&p:(0,i.o8)(Y)||p)),$=!!(E&&t&&x&&J),U=(0,i.o8)(_.isValidating)?$:_.isValidating,Z=(0,i.o8)(_.isLoading)?$:_.isLoading,q=(0,n.useCallback)(async e=>{let t,n;let o=k.current;if(!E||!o||P.current||j().isPaused())return!1;let s=!0,u=e||{},a=!w[E]||!u.dedupe,c=()=>i.w6?!P.current&&E===L.current&&O.current:E===L.current,f={isValidating:!1,isLoading:!1},d=()=>{H(f)},p=()=>{let e=w[E];e&&e[1]===n&&delete w[E]},h={isValidating:!0};(0,i.o8)(B().data)&&(h.isLoading=!0);try{if(a&&(H(h),r.loadingTimeout&&(0,i.o8)(B().data)&&setTimeout(()=>{s&&c()&&j().onLoadingSlow(E,r)},r.loadingTimeout),w[E]=[o(S),(0,i.u3)()]),[t,n]=w[E],t=await t,a&&setTimeout(p,r.dedupingInterval),!w[E]||w[E][1]!==n)return a&&c()&&j().onDiscarded(E),!1;f.error=i.i_;let e=b[E];if(!(0,i.o8)(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return d(),a&&c()&&j().onDiscarded(E),!1;let u=B().data;f.data=l(u,t)?u:t,a&&c()&&j().onSuccess(t,E,r)}catch(r){p();let e=j(),{shouldRetryOnError:t}=e;!e.isPaused()&&(f.error=r,a&&c()&&(e.onError(r,E,e),(!0===t||(0,i.mf)(t)&&t(r))&&T()&&e.onErrorRetry(r,E,e,e=>{let t=y[E];t&&t[0]&&t[0](i.sj.ERROR_REVALIDATE_EVENT,e)},{retryCount:(u.retryCount||0)+1,dedupe:!0})))}return s=!1,d(),!0},[E,a]),K=(0,n.useCallback)((...e)=>(0,i.BN)(a,L.current,...e),[]);if((0,i.LI)(()=>{k.current=t,R.current=r,(0,i.o8)(W)||(X.current=W)}),(0,i.LI)(()=>{if(!E)return;let e=q.bind(i.i_,u),t=0,r=(0,i.ko)(E,y,(r,n={})=>{if(r==i.sj.FOCUS_EVENT){let r=Date.now();j().revalidateOnFocus&&r>t&&T()&&(t=r+j().focusThrottleInterval,e())}else if(r==i.sj.RECONNECT_EVENT)j().revalidateOnReconnect&&T()&&e();else if(r==i.sj.MUTATE_EVENT)return q();else if(r==i.sj.ERROR_REVALIDATE_EVENT)return q(n)});return P.current=!1,L.current=E,O.current=!0,H({_k:S}),J&&((0,i.o8)(Y)||i.W6?e():(0,i.kw)(e)),()=>{P.current=!0,r()}},[E]),(0,i.LI)(()=>{let e;function t(){let t=(0,i.mf)(h)?h(B().data):h;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!B().error&&(g||j().isVisible())&&(v||j().isOnline())?q(u).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[h,g,v,E]),(0,n.useDebugValue)(G),c&&(0,i.o8)(Y)&&E){if(!i.w6&&i.W6)throw Error("Fallback data is required when using suspense in SSR.");k.current=t,R.current=r,P.current=!1;let e=C[E];if((0,i.o8)(e)||s(K(e)),(0,i.o8)(F)){let e=q(u);(0,i.o8)(G)||(e.status="fulfilled",e.value=!0),s(e)}else throw F}return{mutate:K,get data(){return I.data=!0,G},get error(){return I.error=!0,F},get isValidating(){return I.isValidating=!0,U},get isLoading(){return I.isLoading=!0,Z}}})}}]);