"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["400"],{37869:function(e,t,i){i.d(t,{Z:()=>n});let n={container:"container-IpPqBD",form:"form-M5sC90",sideBySideWrap:"sideBySideWrap-vGXrwP",emailInput:"emailInput-OkIMeB",emailInputOnAccentBackground:"emailInputOnAccentBackground-TfaCGr",emailInputExpectTruncation:"emailInputExpectTruncation-VNj17x",emailInputOnWelcomePage:"emailInputOnWelcomePage-nqc9VK",emailInputWrapper:"emailInputWrapper-QlA86j",emailInputWrapperExpectTruncation:"emailInputWrapperExpectTruncation-w6Fd5V",button:"button-VFSdkv",buttonOnAccentBackground:"buttonOnAccentBackground-vmEt94",disabled:"disabled-AfIHDS",links:"links-EJFIL2"}},88362:function(e,t,i){i.d(t,{Z:()=>n});let n={img:"img-OACg1c","object-fit-cover":"object-fit-cover-u4ReeV",objectFitCover:"object-fit-cover-u4ReeV"}},98143:function(e,t,i){i.d(t,{Z:()=>n});let n={fullWidth:"fullWidth-mgXGs7",emailButtonTd:"emailButtonTd-o2ymya",priority_primary:"priority_primary-vWRHI0",priorityPrimary:"priority_primary-vWRHI0",emailButtonA:"emailButtonA-Ktpg7h",priority_secondary:"priority_secondary-Qy5bfF",prioritySecondary:"priority_secondary-Qy5bfF",priority_outline:"priority_outline-_70tF8",priorityOutline:"priority_outline-_70tF8",size_sm:"size_sm-rnZtod",sizeSm:"size_sm-rnZtod",avatar:"avatar-QIQ5yR",framed:"framed-ak9Tgb",icon:"icon-Q2IvcJ",emailSeparator:"emailSeparator-mtbezJ"}},12620:function(e,t,i){i.d(t,{Z:()=>N});var n=i(27412),a=i(7409),r=i(99282),o=i(58865),l=i(16584),s=i(6400),u=i(94184),c=i.n(u),d=i(20253),p=i(95441),m=i(35702),h=i(68833),f=i(65205),g=i(98914),v=i(15771),b=i(58175),_=i(51776),y=i(74312),w=i(60308),Z=i(26111),k=i(6911),E=i(84864),S=i(47929),C=i(37869);function x(){let e=(0,o._)(["Confirmation required: we sent an email to ",". Click the link there to finish subscribing."]);return x=function(){return e},e}class N extends s.Component{getSavedEmail(){return this.props.user&&this.props.user.email||null}getPrefilledEmail(){return this.props.email||this.props.freeSignupEmail||this.getSavedEmail()}async componentDidMount(){let{autoFocus:e,disabled:t}=this.props;if(this.getPrefilledEmail())this.emailInput.value=this.getPrefilledEmail();else if(e&&!(this.getPrefilledEmail()||t)&&!(0,g.K1)()){var n;null===(n=this.emailInput)||void 0===n||n.focus()}Promise.all([i.e("8427"),i.e("3134")]).then(i.bind(i,24794)).then(e=>{this.setState({fetchSuggestion:e.fetchSuggestion})})}onLoadingState(e){this.setState({loading:e,requires_confirmation:!1})}onError(e){var t;(null===(t=e.response)||void 0===t?void 0:t.status)===425&&this.setState({requires_confirmation:!0}),this.props.onError&&this.props.onError(e)}render(e,t){var n,r,o,s,u,p,m,h,x,N,I;let{children:A,className:B,disabled:z,expectTruncation:P,isWelcomePageColor:R,loginRedirect:W,next:F,onAccentBackground:T,pub:j,referralCode:L,showLogin:M,showTerms:U,source:O,submitButtonText:q,useSubscribeLink:$,useGenericEndpoint:X,additionalPubIds:G,user:V,utm_campaign:H,onPrepareData:D,promptClassName:J,inputWrapperClassName:Q,inputClassName:Y,subscribeButtonClassName:K,subscribeToSpecificSectionIds:ee,endpointOverride:et,separateInputAndSubmitButton:ei,placeholder:en}=e,{loading:ea,requires_confirmation:er,currentEmail:eo}=t,el="treatment_bold_fade"===O,es=(null===(o=(0,Z.x)("referring_pub_ids"))||void 0===o?void 0:null===(r=o.split)||void 0===r?void 0:null===(n=r.call(o,","))||void 0===n?void 0:n[0])||void 0,eu=(null===(p=(0,Z.x)("referring_pub_ids"))||void 0===p?void 0:null===(u=p.split)||void 0===u?void 0:null===(s=u.call(p,","))||void 0===s?void 0:s.slice(1))||void 0,ec=this.getPrefilledEmail(),{iString:ed,language:ep}=this.context;if(ee&&(G||X))throw Error("Specific section subscriptions only supported on /api/v1/free");return(0,l.BX)("div",{className:c()(B,C.Z.container),children:[(0,l.BX)(d.ZP,{ref:this.assignForm,className:C.Z.form,noInlineErrors:!0,action:et||(G?(0,w.n1t)("/api/v1/bulk_signup"):X?(0,w.n1t)("/api/v1/reader/signup/pub"):(0,w.n1t)("/api/v1/free")),noJsAction:et||(G?(0,w.n1t)("/api/v1/bulk_signup",{nojs:!0}):X?(0,w.n1t)("/api/v1/reader/signup/pub",{nojs:!0}):(0,w.n1t)("/api/v1/free",{nojs:!0})),prepareData:async e=>(er&&(e.resend_confirmation=!0),"string"==typeof e.publications&&(e.publications=JSON.parse(e.publications)),D&&await D(e),e),onChangeLoadingState:this.onLoadingState.bind(this),onError:e=>this.onError(e),onSuccess:e=>this.onSuccess(e),typoFound:e=>this.setState({emailSuggestion:e}),disableSubmit:$,analyticsName:"Free Email Form",children:[(0,l.tZ)("input",{type:"hidden",name:"first_url",value:f.xY}),(0,l.tZ)("input",{type:"hidden",name:"first_referrer",value:f.ip}),(0,l.tZ)("input",{type:"hidden",name:"current_url",value:f.UE}),(0,l.tZ)("input",{type:"hidden",name:"current_referrer",value:f.xU}),(0,l.tZ)("input",{type:"hidden",name:"first_session_url",value:f.ac}),(0,l.tZ)("input",{type:"hidden",name:"first_session_referrer",value:f.qR}),(0,l.tZ)("input",{type:"hidden",name:"referral_code",value:L}),(0,l.tZ)("input",{type:"hidden",name:"source",value:O}),(0,l.tZ)("input",{type:"hidden",name:"referring_pub_id",value:es}),(0,l.tZ)("input",{type:"hidden",name:"additional_referring_pub_ids",value:null==eu?void 0:eu.join(",")}),F&&(0,l.tZ)("input",{type:"hidden",name:"redirect",value:F}),ee&&(0,l.tZ)("input",{type:"hidden",name:"specific_section_ids",value:ee}),ee&&(0,l.tZ)("input",{type:"hidden",name:"section_and_root",value:"true"}),!G&&X&&(0,l.tZ)("input",{type:"hidden",name:"publication_id",value:j.id}),G&&(0,l.tZ)("input",{type:"hidden",name:"publications",value:JSON.stringify(G.concat(j.id))}),(0,l.BX)("div",{className:c()(J,{[C.Z.sideBySideWrap]:!ei}),children:[!!ec&&(0,g.e5)(),(0,l.tZ)("div",{className:c()(Q,C.Z.emailInputWrapper,{[null!==(m=C.Z.emailInputWrapperExpectTruncation)&&void 0!==m?m:"undefined"]:P}),children:(0,l.tZ)(_.oi,{className:c()(Y,"pencraft",C.Z.emailInput,{[null!==(h=C.Z.emailInputOnAccentBackground)&&void 0!==h?h:"undefined"]:T,[null!==(x=C.Z.emailInputExpectTruncation)&&void 0!==x?x:"undefined"]:P,[null!==(N=C.Z.emailInputOnWelcomePage)&&void 0!==N?N:"undefined"]:R}),onChange:this.handleEmailChange,onInput:this.handleEmailChange,ref:this.assignEmailInput,type:"email",name:el?"email-pop":"email",readOnly:!!(this.getSavedEmail()||ea||z),disabled:!!(ea||z),placeholder:null!=en?en:ed("Type your email..."),value:eo||ec||null})}),(0,l.tZ)(v.kG,{resetCss:!0,className:c()(K,"rightButton primary subscribe-btn",C.Z.button,{pop:el,[null!==(I=C.Z.buttonOnAccentBackground)&&void 0!==I?I:"undefined"]:T}),type:"submit",disabled:!!(ea||z),onClick:()=>{$&&(location.href=(0,w.W1P)(j,(0,a._)({addBase:!0,user:V,utm_source:S.b3.substack,utm_medium:S.lP.web,utm_campaign:H,next:F},(eo||ec)&&{email:eo||ec})))},children:(0,l.tZ)("span",{className:"button-text ".concat(el?"pop":""),children:q||(0,E.getSubscribeText)(j,{language:ep})})})]}),er?(0,l.tZ)("div",{children:(0,l.BX)(b.xv,{translated:!0,className:"error other-error",children:["This email address is not confirmed yet.",(0,l.tZ)("br",{}),(0,l.tZ)("a",{href:"javascript:void(0)",onClick:()=>{if(this.form)return this.form.handleSubmit()},children:"Click here"})," ","to resend the confirmation email."]})}):(0,l.tZ)("div",{id:"error-container"}),M||U||A?(0,l.BX)("div",{className:c()("subtle-help-text below-input",C.Z.links),children:[M&&(this.getSavedEmail()?(0,l.tZ)("a",{className:"login-button",href:(0,w.ZPN)({for_pub:j.subdomain}),native:!0,children:ed("Not you?")}):(0,l.tZ)("a",{className:"login-button",href:(0,w.uXE)({for_pub:j.subdomain,redirect:W}),native:!0,children:ed("Login")})),U&&[(0,l.tZ)("a",{className:"legal",href:(0,k.RF)({pub:j}),target:"_blank",native:!0,children:ed("Privacy")}),(0,l.tZ)("a",{className:"legal",href:(0,k.P8)({pub:j}),target:"_blank",native:!0,children:ed("Terms")}),(0,l.tZ)("a",{className:"legal",href:(0,k.WF)(),target:"_blank",native:!0,children:ed("Information collection notice")})],A]}):null]}),(0,l.tZ)(y.cr,{onRequest:()=>i.e("3894").then(i.bind(i,19523)),resolve:e=>e.EmailTypoHandler,module:"@/frontend/login/typo_handler/EmailTypoHandler",emailSuggestions:this.state.emailSuggestions,currentEmail:this.state.currentEmail,onAccept:this.onAcceptSuggestion})]})}constructor(e){super(e),(0,n._)(this,"emailInput",void 0),(0,n._)(this,"form",void 0),(0,n._)(this,"assignEmailInput",e=>{this.emailInput=e}),(0,n._)(this,"assignForm",e=>{this.form=e}),(0,n._)(this,"handleEmailChange",()=>{var e,t,i;let n=null===(e=this.emailInput)||void 0===e?void 0:e.value;if(n){if(this.setState({currentEmail:n}),this.state.emailSuggestions&&this.state.emailSuggestions.hasOwnProperty(n))return;null===(t=(i=this.state).fetchSuggestion)||void 0===t||t.call(i,n).then(e=>{let[t,i]=e;this.setState({emailSuggestions:(0,r._)((0,a._)({},this.state.emailSuggestions),{[null!=t?t:"undefined"]:null!=i?i:""})})})}}),(0,n._)(this,"_onSuccess",async e=>{let{iTemplate:t}=this.context;e.body.prompt_to_login||h.IU(),(Array.isArray(e.body)&&e.body.every(e=>e.requires_confirmation)||e.body.requires_confirmation)&&(this.props.onConfirmationRequired?await this.props.onConfirmationRequired(e):alert(t(x(),e.body.email))),this.props.freeSignupEmail&&this.props.freeSignupEmail!==e.body.email&&(0,m.a)({freeSignupEmail:e.body.email}),this.props.onSuccess&&await this.props.onSuccess(e)}),(0,n._)(this,"onSuccess",async e=>{"undefined"!=typeof window&&window.campaign&&(0,Z.x)("referralCode")?window.campaign.identify({email:e.body.email},()=>this._onSuccess(e)):await this._onSuccess(e)}),(0,n._)(this,"onAcceptSuggestion",e=>{this.emailInput&&(this.emailInput.value=null!=e?e:"",this.form.handleSubmit(null,!0))}),this.state={emailSuggestions:{}}}}(0,n._)(N,"contextType",p.wj)},95441:function(e,t,i){i.d(t,{M1:()=>m,_7:()=>h,fz:()=>f,wj:()=>p});var n=i(7409),a=i(99282),r=i(16584),o=i(36808),l=i.n(o),s=i(98661),u=i(68833),c=i(48884),d=i(31742);let p=(0,s.createContext)({language:"en",baseLanguage:"en",preferredLanguage:l().get(d.ky.PREFERRED_LANGUAGE),userLocale:void 0,iString:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e},iContext:(e,t)=>t,iPlural:(e,t,i)=>i>1?t:e,iTemplate:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return(0,c.u8)(e,...i)},iCombo:function(e,t,i,n){for(var a=arguments.length,r=Array(a>4?a-4:0),o=4;o<a;o++)r[o-4]=arguments[o];return t},setPreferredLanguage:e=>void 0,iMarker:e=>e});function m(){return(0,s.useContext)(p)}function h(e){let{children:t,language:i="en",locale:a,preferredLanguage:o}=e,[m,h]=(0,s.useState)(()=>o);(0,s.useEffect)(()=>{m?l().set(d.ky.PREFERRED_LANGUAGE,m):l().remove(d.ky.PREFERRED_LANGUAGE)},[m]);let f=(0,s.useMemo)(()=>{let e=a?"".concat(a.language,"-").concat(a.region):void 0;return(0,n._)({language:i,baseLanguage:i,preferredLanguage:m,userLocale:e,setPreferredLanguage:e=>{(0,u.j)(u.FP.PREFERRED_LANGUAGE_SET,{from:i,to:e,surface:"writer-signup"}),h(e)}},c.mb.i(i))},[i,m,a]);return(0,r.tZ)(p.Provider,{value:f,children:t})}function f(e){let t=(0,s.forwardRef)((t,i)=>{let o=m();return(0,r.tZ)(e,(0,a._)((0,n._)({},o,t),{ref:i}))});return t.displayName="withI18NContext(".concat(e.displayName||e.name||"Anonymous",")"),t}p.displayName="I18NContext"},75905:function(e,t,i){i.d(t,{E:()=>a}),i(16584);var n=i(6400);i(56629),i(40647);let a=(0,n.createContext)({isStatic:!1,isAmp:!1,isFreeSubscribed:!0,isFreemail:!0,siteConfigValues:{},isPledged:!1})},21811:function(e,t,i){i.d(t,{j:()=>r,l:()=>o});var n=i(7409);let a={};function r(e){a=(0,n._)({},e)}function o(){return(0,n._)({},a)}},65205:function(e,t,i){let n,a;i.d(t,{UE:()=>y,ac:()=>b,ip:()=>v,qR:()=>_,xU:()=>w,xY:()=>g});var r=i(79546),o=i.n(r),l=i(62195),s=i.n(l),u=i(8728),c=i.n(u),d=i(58855),p=i.n(d);let m=s().createStore([p(),c()]),h="substack_ref_url",f="substack_ref";"undefined"!=typeof window&&window.location&&window.location.href&&(n=window.location.href,a=document.referrer,o().get(h)||(o().set(h,n),o().set(f,a)),m.get(h)||(m.set(h,n),m.set(f,a)));let g=o().get(h)||"",v=o().get(f)||"",b=m.get(h)||"",_=m.get(f)||"",y=n,w=a},58076:function(e,t,i){i.d(t,{PU:()=>o,Qq:()=>a,Z7:()=>r,nx:()=>n});let n=1002,a=1001,r=1e3,o=999},38841:function(e,t,i){i.d(t,{wk:()=>E,jM:()=>C,nZ:()=>x,CN:()=>S});var n=i(7409),a=i(99282),r=i(98848),o=i(16584),l=i(94184),s=i.n(l),u=i(64515),c=i(91313);function d(e){let{className:t,type:i,accentColor:n}=e;return(0,o.BX)(u.l,{name:"ReaderBadgeIcon",className:t,svgParams:{width:22,height:22,viewBox:"0 0 22 22"},fill:"none",stroke:"none",strokeWidth:1,children:[(0,o.tZ)("circle",{cx:"11",cy:"11",r:"11",fill:"var(--color-bg-primary)"}),(0,o.tZ)("circle",{cx:"11",cy:"11",r:"9",fill:n||c.H}),"subscribed"===i?(0,o.BX)(o.HY,{children:[(0,o.tZ)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 12.926 12.9255)",stroke:"white"}),(0,o.tZ)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 9.07543 9.07503)",stroke:"white"}),(0,o.tZ)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 9.05152 12.9494)",stroke:"white"}),(0,o.tZ)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 12.95 9.05009)",stroke:"white"})]}):(0,o.BX)(o.HY,{children:[(0,o.tZ)("path",{d:"M11.9018 10.3229C11.9018 12.2029 10.3777 13.7269 8.49775 13.7269C6.61777 13.7269 5.09375 12.2029 5.09375 10.3229C5.09375 8.44296 6.61777 6.91894 8.49775 6.91894C10.3777 6.91894 11.9018 8.44296 11.9018 10.3229Z",stroke:"white"}),(0,o.tZ)("path",{d:"M12.8178 13.4959C12.8178 15.3759 11.2938 16.8999 9.41377 16.8999C7.5338 16.8999 6.00977 15.3759 6.00977 13.4959C6.00977 11.6159 7.5338 10.0919 9.41377 10.0919C11.2938 10.0919 12.8178 11.6159 12.8178 13.4959Z",stroke:"white"}),(0,o.tZ)("path",{d:"M15.9564 13.503C15.9564 15.383 14.4324 16.907 12.5524 16.907C10.6725 16.907 9.14844 15.383 9.14844 13.503C9.14844 11.623 10.6725 10.099 12.5524 10.099C14.4324 10.099 15.9564 11.623 15.9564 13.503Z",stroke:"white"}),(0,o.tZ)("path",{d:"M14.4047 8.49824C14.4047 10.3782 12.8807 11.9022 11.0007 11.9022C9.1207 11.9022 7.59668 10.3782 7.59668 8.49824C7.59668 6.61826 9.1207 5.09424 11.0007 5.09424C12.8807 5.09424 14.4047 6.61826 14.4047 8.49824Z",stroke:"white"}),(0,o.tZ)("path",{d:"M16.9066 10.3229C16.9066 12.2029 15.3826 13.7269 13.5026 13.7269C11.6227 13.7269 10.0986 12.2029 10.0986 10.3229C10.0986 8.44296 11.6227 6.91894 13.5026 6.91894C15.3826 6.91894 16.9066 8.44296 16.9066 10.3229Z",stroke:"white"})]})]})}var p=i(82621),m=i(24421),h=i(94874),f=i(80026),g=i(19081),v=i(63474),b=i(38202),_=i(24791),y=i(70408),w=i(63651),Z=i(21963);function k(e){var t,i,n,a,r;let{pub:o,logoUrl:l,publicationName:s,initialRadius:u="sm"}=e,c=!(null==o?void 0:o.logo_url)&&!l,d="",p=l,m=u;if(c){m="full";let e=(null==o?void 0:null===(t=o.author)||void 0===t?void 0:t.id)||(null==o?void 0:o.author_id);d=null!==(a=null!==(n=null==o?void 0:null===(i=o.author)||void 0===i?void 0:i.photo_url)&&void 0!==n?n:null==o?void 0:o.author_photo_url)&&void 0!==a?a:(0,y.I4)(null!=e?e:0)}return o&&!p&&(p=null!==(r=(0,_.R7)(o))&&void 0!==r?r:""),o&&!s&&(s=o.name||o.subdomain),{showAuthorAvatar:c,authorAvatarUrl:d,pubLogoUrl:p,pubName:s,radius:m}}function E(e){var t,{pub:i,logoUrl:l,publicationName:s,size:u=40,radius:c="sm",bg:p="white",title:m,badgeType:f,belowTheFold:v,alt:b}=e,_=(0,r._)(e,["pub","logoUrl","publicationName","size","radius","bg","title","badgeType","belowTheFold","alt"]);let{showAuthorAvatar:y,authorAvatarUrl:w,pubLogoUrl:E,pubName:S,radius:C}=k({pub:i,logoUrl:l,publicationName:s,initialRadius:c});return(0,o.BX)(g.hs,{className:_.className,position:"relative",title:m,draggable:!1,children:[(0,o.tZ)(g.hs,(0,a._)((0,n._)({style:{width:u,height:u},bg:E?p:"secondary",radius:C,sizing:"border-box",overflow:"hidden"},_),{children:y?(0,o.tZ)(h.qE,{size:u,photoUrl:w,alt:b}):(0,o.tZ)(N,{logoUrl:null!=E?E:void 0,size:u,pubName:S,belowTheFold:v,radius:C,alt:b})})),f&&(0,o.tZ)(d,{className:Z.Z.badge,type:f,accentColor:(null==i?void 0:null===(t=i.theme)||void 0===t?void 0:t.background_pop_color)||(null==i?void 0:i.theme_var_background_pop)||null})]})}function S(e){let{pub:t,logoUrl:i,publicationName:n,size:a=40,radius:r="sm",title:l,className:u,format:c}=e,{showAuthorAvatar:d,authorAvatarUrl:h,pubLogoUrl:f,pubName:g,radius:v}=k({pub:t,logoUrl:i,publicationName:n,initialRadius:r});return d?(0,o.tZ)(m.N,{size:a,src:h}):f?(0,o.tZ)(p.Z,{src:(0,w.zF4)(f,2*a,{height:2*a,crop:"fill",gravity:"auto",format:c}),width:a,height:a,className:s()(u,Z.Z.static),alt:g,name:g,title:l}):(0,o.tZ)(I,{pubName:g,radius:v,size:a})}function C(e){var{href:t,openInNewTab:i=!1,native:a=!0}=e,l=(0,r._)(e,["href","openInNewTab","native"]);let s=(0,o.tZ)(E,(0,n._)({pub:l.pub},l)),u=t||(0,w.SVA)(l.pub)||"#";return i?(0,o.tZ)("a",{href:u,target:"_blank",rel:"noopener noreferrer",style:{width:l.size,height:l.size},draggable:!1,children:s}):(0,o.tZ)(v.A0,{href:u,native:a,children:s})}function x(e){var{href:t,openInNewTab:i=!1}=e,a=(0,r._)(e,["href","openInNewTab"]);let l=(0,o.tZ)(S,(0,n._)({pub:a.pub},a)),s=t||(0,w.SVA)(a.pub)||"#";return i?(0,o.tZ)("a",{href:s,target:"_blank",rel:"noopener noreferrer",style:{width:a.size,height:a.size},children:l}):(0,o.tZ)("a",{href:s,native:!0,style:{width:a.size,height:a.size},children:l})}function N(e){let{logoUrl:t,alt:i,size:n,pubName:a,belowTheFold:r,radius:l}=e;return t?(0,o.tZ)(b.t,{src:t,size:n,alt:null!=i?i:a,loading:r?"lazy":void 0,draggable:!1}):(0,o.tZ)(I,{pubName:a,radius:l,size:n})}function I(e){let{pubName:t,radius:i,size:n}=e;return(0,o.tZ)(g.hs,{style:{width:n,height:n},bg:"secondary",border:"detail",justifyContent:"center",alignItems:"center",sizing:"border-box",radius:i,children:(0,o.tZ)(f.xv,{weight:"heavy",size:20,className:Z.Z.text,color:"white",children:null==t?void 0:t[0]})})}S.displayName="StaticPubAvatar"},91021:function(e,t,i){i.d(t,{A:()=>c});var n=i(7409),a=i(98848),r=i(16584),o=i(94184),l=i.n(o);i(98661);var s=i(15771),u=i(26935);function c(e){var{className:t}=e,i=(0,a._)(e,["className"]);return(0,r.tZ)(s.kG,(0,n._)({resetCss:!0,className:l()(t,u.Z.textButton)},i))}},80058:function(e,t,i){i.d(t,{E:()=>l,X:()=>s});var n=i(58865),a=i(95441);function r(){let e=(0,n._)(["","'s avatar"]);return r=function(){return e},e}function o(){let e=(0,n._)(["View ","'s profile"]);return o=function(){return e},e}function l(e,t){let{iString:i,iTemplate:n}=(0,a.M1)();if(t)return t;let o=null!=e?e:i("User");return n(r(),o)}function s(e,t){let{iString:i,iTemplate:n}=(0,a.M1)();if(t)return t;let r=null!=e?e:i("User");return n(o(),r)}},63474:function(e,t,i){i.d(t,{A0:()=>a.A,M5:()=>n.M5,X2:()=>n.X2,oB:()=>r.oB,sg:()=>n.sg,zo:()=>r.zo});var n=i(31892),a=i(39276),r=i(71068)},36889:function(e,t,i){i.d(t,{V:()=>d});var n=i(7409),a=i(99282),r=i(98848),o=i(16584),l=i(94184),s=i.n(l),u=i(71068),c=i(26725);function d(e){var{className:t,style:i,type:l,width:d,height:p,size:m,maxWidth:h,elevated:f,radius:g="sm"}=e,v=(0,r._)(e,["className","style","type","width","height","size","maxWidth","elevated","radius"]);return null!=m&&(d=m,p=m),(0,o.tZ)(u.xu,(0,a._)((0,n._)({},v),{className:s()(c.Z.placeholder,t,f&&c.Z.elevated,"bar"===l&&c.Z.bar,"circle"===l&&c.Z.circle),radius:g,style:(0,a._)((0,n._)({},i),{width:d,height:p,maxWidth:h,minWidth:d})}))}},51699:function(e,t,i){i.d(t,{F:()=>n});function n(e){let{plan:t}=e;return!!t.metadata&&!!t.metadata.founding&&!t.metadata.fixed_price}},17043:function(e,t,i){i.d(t,{UH:()=>r,zF:()=>a,zJ:()=>o});var n=i(14773);function a(e,t){var i,a;let{quality:l="auto:good",format:s="auto",crop:u="limit",lossy:c=!1,attachment:d=!1,filename:p=null,gravity:m=null,height:h=null,aspect:f=null,backgroundColor:g,version:v=null,smartCrop:b=!1,portraitCrop:_=!1,skipDomainValidation:y=!1,leadingSegments:w=[],trailingSegments:Z=[],blurSigma:k=null,bgAuto:E=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return e;e.startsWith("/")&&!e.startsWith("//")&&(e=(0,n.ZJ)()+e),e=r(e);try{if(new URL(e).hostname.endsWith(".localhost"))return e}catch(e){}if("undefined"!=typeof window&&(null===(a=window)||void 0===a?void 0:null===(i=a.location)||void 0===i?void 0:i.hostname)&&["subwit.com","herokuapp.com"].reduce((e,t)=>e||window.location.hostname.endsWith(t),!1)&&(e=e.replace("//substack.com","//".concat(window.location.hostname))),e.startsWith("https://substackcdn.com")||e.startsWith(n.L4))return e;if(e.startsWith("https://d3b3sm9t19x0yd.cloudfront.net"))return e.replace(/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net/,n.L4);if(e.startsWith("https://res.cloudinary.com"))return e.replace(/^https:\/\/res\.cloudinary\.com\/[^/]+/,n.L4);if(!y&&!e.match(/^https?:\/\/(bucketeer[^/]*\.s3\.amazonaws\.com|(.*\.)?substack\.com|substack\.info|substack-post-media\.s3\.amazonaws\.com|substack-post-media-staging\.s3\.amazonaws\.com|substack-video\.s3\.amazonaws\.com|substack-video-staging\.s3\.amazonaws\.com|substack-staging-pr-\d+\.herokuapp\.com|.*\.ngrok\.io|.*\.subwit\.com|www\.shatnerchatner\.com|cyberrisk\.news|proofofwork\.news|www\.trapital\.co|www\.truehoop\.com|www\.creditwritedowns\.com|sinocism\.com|nb\.sinocism\.com|popular\.info|robertcottrell\.com|pbs\.twimg\.com|www\.theupside\.us|www\.exponentialview\.co|storage\.opensea\.io).*/))return e;if(b&&t&&h){let i=o(e);if(i){let e=t/h,n=i.width/i.height;(e<1&&n>=1||e>=1&&n<1||1===e&&n>=1||1===e&&n<=1)&&Math.abs(e-n)>=.5&&(u="fill",m=null!=m?m:"auto")}}if(b&&(u="fill",m=null!=m?m:"auto"),f&&t&&null==h&&"string"==typeof f&&f.match(/^(\d+\.?\d*:\d+\.?\d*|\d+\.?\d*)$/)){if(f.includes(":")){let[e,i]=f.split(":").map(e=>parseFloat(e));h=Math.round(t*i/e)}else h=Math.round(t/Number(f))}let S=e=>e.replace(/,/g,"%252C"),C=[t&&"w_".concat(t),h&&"h_".concat(h),u&&(t||h)&&"c_".concat(u),s&&"f_".concat(s),l&&"q_".concat(l),"fl_".concat(c?"lossy":"progressive:steep"),m&&"g_".concat(m),d&&"fl_attachment".concat(p?":".concat(S(p)):""),E&&"b_auto:".concat(E),g&&"b_rgb:".concat(g),k&&"e_blur:".concat(k)].filter(Boolean).join(","),x=[t&&"w_".concat(t),s&&"f_".concat(s),l&&"q_".concat(l),"fl_".concat(c?"lossy":"progressive:steep"),d&&"fl_attachment".concat(p?":".concat(S(p)):""),g&&"b_rgb:".concat(g)].filter(Boolean).join(","),N=[u&&(t||h)&&"c_".concat(u),m&&"g_".concat(m),f?"ar_".concat(f):"ar_1"].filter(Boolean).join(","),I=_?[x,"/if_ar_lt_1.0/",N,"/if_end"].join(""):[C].filter(Boolean).join(","),A=w.concat([I]).concat(Z).join("/"),B="$s_!".concat(function(e){let t=0x811c9dc5;for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);t^=255&n,t=Math.imul(t=Math.imul(t,0x1000193)^n>>8&255,0x1000193)}let i=t>>>0;return btoa(String.fromCharCode(i>>>24&255,i>>>16&255,i>>>8&255,255&i)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"").slice(0,4)}(e),"!");return"".concat(n.L4,"/image/fetch/").concat(B,",").concat(A,"/").concat(encodeURIComponent(e+(v?"".concat(-1!==e.indexOf("?")?"&":"?","version=").concat(v):"")))}function r(e){if(!e)return e;for(let t of[/^https:\/\/substackcdn\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/substackcdn\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.info\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/res\.cloudinary\.com\/hhsslviub\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i]){let i=t.exec(e);if(i)return decodeURIComponent(i[1])}return e}function o(e){let t=e.match(/(\d+)x(\d+)(\.\w+)?$/);return t?{width:+t[1],height:+t[2]}:null}}}]);