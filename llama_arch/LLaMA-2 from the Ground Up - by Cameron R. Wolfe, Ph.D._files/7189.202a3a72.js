"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["7189"],{37430:function(e,t,i){i.d(t,{Z:()=>o});let o={avatar:"avatar-KIJVyG",avatarOther:"avatarOther-uvAI8g",avatarOtherIcon:"avatarOtherIcon-FpqVMX",link:"link-OtwxxI",column:"column-ADckUl",row:"row-rF9rT4",button:"button-teBUKU",textFace:"textFace-jeUWz6"}},51885:function(e,t,i){i.d(t,{Z:()=>o});let o={mention:"mention-pnpTE1",mentionStatic:"mentionStatic-liMklk"}},23750:function(e,t,i){i.d(t,{Z:()=>o});let o={closeButton:"closeButton-YU1ngO",imageCloseButton:"imageCloseButton-YQIpP0"}},25390:function(e,t,i){i.d(t,{Z:()=>o});let o={personYouMayKnow:"personYouMayKnow-g7Alxo",personYouMayKnowFeed:"personYouMayKnowFeed-bb1Yh4",withSocialContext:"withSocialContext-bZjv3u",personYouMayKnowFeedButton:"personYouMayKnowFeedButton-JiQmpP",personYouMayKnowImage:"personYouMayKnowImage-peGMNI",personYouMayKnowMutuals:"personYouMayKnowMutuals-ZOuD6k",facepileLink:"facepileLink-N3nvHV",facepileFace:"facepileFace-_GchsT",shareProfile:"shareProfile-nfq3_a",fbConnect:"fbConnect-U6M5tm",avatarContainer:"avatarContainer-Bsasck",close:"close-kHICWg",badge:"badge-S8RI6g",badgeIcon:"badgeIcon-jk16vG"}},35240:function(e,t,i){i.d(t,{L:()=>p});var o=i(7409),r=i(16584),n=i(2564),l=i(93974),a=i(12281),s=i(90099);i(71068);var c=i(58175);i(60308);var u=i(63651),d=i(84864);let h={bubble:"bubble-ufWvfM",img:"img-cbG6oW",linkImg:"linkImg-_n19TI",paywallBubble:"paywallBubble-VDFuNU bubble-ufWvfM"};function p(e){var t,i,o;let{communityPost:u,author:h,cta:p,withAttribution:b,attributionText:Z,hideReply:_,truncateBodyAt:w}=e,k=!u,y=null==u?void 0:null===(i=u.threadMediaUploads)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.mediaUpload,C=null;return!k&&u.body&&(C=w?(0,d.truncateText)(u.body,w):u.body),(0,r.BX)(s.zK,{gap:12,verticalAlign:"top",children:[(0,r.tZ)(s.NS,{src:null!==(o=null==h?void 0:h.photo_url)&&void 0!==o?o:"",size:40}),(0,r.BX)(s.i$,{gap:4,style:{lineHeight:0},children:[b&&(0,r.tZ)(l.xn,{isStatic:!0,text:Z||"From ".concat((null==h?void 0:h.name)?(0,d.possessive)(h.name):"Substack user"," subscriber chat")}),k?(0,r.tZ)(g,{}):["media"===u.type&&u.media_assets?u.media_assets.slice(0,1).map(e=>(0,r.tZ)(v,{asset:e},e.url)):"link"===u.type&&(0,r.tZ)(m,{communityPost:u}),y&&(0,r.tZ)(a.L,{mediaUpload:y}),C&&(0,r.tZ)(f,{children:(0,r.BX)("span",{children:[(0,r.tZ)(c.xv,{as:"span",weight:"bold",children:h?h.name:"Substack writer"})," ",C]})})],!_&&(0,r.tZ)(f,{children:(0,r.tZ)(s.YF,{children:(0,r.BX)("tr",{children:[(0,r.tZ)("td",{align:"left",children:(0,r.tZ)(c.xv,{as:"span",color:"secondary",children:"Reply..."})}),(0,r.tZ)("td",{align:"right",children:(0,r.tZ)(n.Z,{size:20,stroke:"var(--color-secondary}"})})]})})}),p&&(0,r.tZ)(s.b9,{fullWidth:!0,href:p.url,children:p.text}),p&&p.blurb&&(0,r.tZ)("div",{children:(0,r.tZ)(c.xv,{color:"secondary",align:"center",size:14,lineHeight:20,children:p.blurb})})]})]})}function f(e){return(0,r.tZ)("div",(0,o._)({className:h.bubble},e))}function g(){return(0,r.tZ)("div",{className:h.paywallBubble,style:{backgroundImage:"url(".concat((0,u.zF4)("/img/community/paywall-pixels-light.png"),")")},children:(0,r.tZ)(c.xv.Meta,{children:"SUBSCRIBERS ONLY"})})}function v(e){var t;let{asset:i}=e;return(0,r.tZ)("img",{className:h.img,width:400,src:(0,u.zF4)(null!==(t=i.url)&&void 0!==t?t:"",800,{crop:"limit",height:800})})}function m(e){var t,i;let o,{communityPost:n}=e,{link_metadata:l,link_url:a}=n,d=null!==(i=null!==(t=null==l?void 0:l.url)&&void 0!==t?t:a)&&void 0!==i?i:"";try{let e=new URL(d);o="".concat(e.host).concat(e.pathname).concat(e.search).concat(e.hash)}catch(e){o=d}return(0,r.tZ)(f,{children:(0,r.tZ)(s.YF,{style:{width:"400px"},children:(0,r.BX)("tr",{children:[(0,r.BX)("td",{align:"left",style:{verticalAlign:"top"},children:[(null==l?void 0:l.title)&&(0,r.tZ)(c.xv,{font:"serif",lineHeight:24,children:l.title}),(0,r.tZ)(c.xv.Meta,{color:"secondary",children:o})]}),(0,r.tZ)("td",{width:"16"}),(0,r.tZ)("td",{align:"right",children:(null==l?void 0:l.image)&&(0,r.tZ)("img",{className:h.linkImg,src:(0,u.zF4)(l.image,144,{height:144,smartCrop:!0})})})]})})})}},50012:function(e,t,i){i.d(t,{C:()=>m,l:()=>Z});var o=i(7409),r=i(99282),n=i(98848),l=i(16584),a=i(30396),s=i(94184),c=i.n(s),u=i(85685),d=i(93252),h=i(63018),p=i(32700),f=i(63651),g=i(81821),v=i(90271);function m(e){var{children:t,disabled:i}=e,a=(0,n._)(e,["children","disabled"]);return i||(0,g.tq)()||(0,d.P)()?(0,l.tZ)(l.HY,{children:t}):(0,l.tZ)(b,(0,r._)((0,o._)({},a),{children:t}))}function b(e){var t,i,s,c,d,{className:g,children:m,subject:b,placement:_="right-center",utmSource:w}=e,k=(0,n._)(e,["className","children","subject","placement","utmSource"]);let[y,C]=(0,a.eJ)(!1),S=(t=null!==(d=null!==(c=b.slug)&&void 0!==c?c:b.handle)&&void 0!==d?d:(0,f._IO)(b),i={auto:y},(0,h._I)("/api/v1/user/".concat(t,"/public_profile"),i)),B=S.data,P=(0,p.o)((0,o._)({className:v.Z.profileHoverCard,loading:S.isLoading,hideOnScroll:!0,onOpen:()=>{C(!0)},layerOptions:{placement:_},content:B?(0,l.tZ)(u.ProfileCard,{profile:B,subject:b,utmSource:w,forceRefresh:()=>S.mutate()}):null},k));return(0,l.BX)(Z,(0,r._)((0,o._)({className:g},P.hoverProps),{forwardRef:null===(s=P.triggerProps)||void 0===s?void 0:s.ref,children:[m,P.layer]}))}function Z(e){var{inline:t,className:i,forwardRef:r}=e,a=(0,n._)(e,["inline","className","forwardRef"]);return(0,l.tZ)("div",(0,o._)({className:c()("profile-hover-card-target",v.Z.profileHoverCardTarget,t&&v.Z.inline,i),ref:r},a))}},38457:function(e,t,i){i.d(t,{Z:()=>s});var o=i(7409),r=i(99282),n=i(98848),l=i(16584),a=i(64515);let s=e=>{var{size:t=24,color:i="var(--color-fg-primary)"}=e,s=(0,n._)(e,["size","color"]);return(0,l.tZ)(a.l,(0,r._)((0,o._)({},s),{name:"NoteQuoteForwardIcon",svgParams:{viewBox:"0 0 24 24"},width:t,height:t,stroke:i,strokeWidth:2,fill:"none",children:(0,l.tZ)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z",strokeLinecap:"round","stroke-linejoin":"round"})}))}},70522:function(e,t,i){i.d(t,{ZP:()=>b});var o=i(27412),r=i(16584),n=i(6400),l=i(94184),a=i.n(l),s=i(81094),c=i(70149),u=i(15702),d=i(82621),h=i(42493),p=i(20888),f=i(86603),g=i(32261),v=i(68833),m=i(60308);class b extends n.Component{static getSubject(e){return e?"author_id"in e&&e.author_id?{id:e.author_id,name:e.author_name,photo_url:(0,m.SMH)(e,{preferAuthorPhoto:!0}),publications:e.subdomain?[e]:[]}:"user_id"in e&&e.user_id?{id:e.user_id,name:e.name,photo_url:(0,m.SMH)(e),publications:[]}:{id:"id"in e?e.id:void 0,name:"name"in e?e.name:void 0,photo_url:(0,m.SMH)(e),publications:[]}:{id:null,name:null,photo_url:m.zUJ,publications:[]}}static hasCustomProfilePhoto(e){return!!b.getSubject(e).photo_url}isSelf(){return this.props.user&&this.props.user.id===b.getSubject(this.props.subject).id||!this.props.subject}profileUrl(){return this.props.url?this.props.url:this.props.isAuthor?(0,m.LwU)(b.getSubject(this.props.subject),this.props.pub):(0,m.NNq)(b.getSubject(this.props.subject))}onBeforeProfileClose(e){if(e){if(!this.props.onEdit)return document.location.reload(),!1;this.props.onEdit()}}render(e){let{subject:t,pub:i,user:o,badge:n,freeSignup:l,freeSignupEmail:s,token:c,isStatic:u,size:d,modalProfile:p,isBanned:f,lazy:v,tooltip:m,noLink:_,className:w}=e;d=d||33;let k=b.getSubject(t);return(0,r.BX)("div",{className:a()("user-head",{banned:f},w),children:[_?(0,r.tZ)(Z,{photo_url:k.photo_url,size:d,isStatic:u,isBanned:f,lazy:v,badge:n,tooltip:m,className:"default-pointer"}):(0,r.tZ)("a",{href:u||!p?this.profileUrl():void 0,onClick:this.onClick,children:(0,r.tZ)(Z,{photo_url:k.photo_url,size:d,isStatic:u,isBanned:f,lazy:v,badge:n,tooltip:m})}),this.props.modalProfile&&!u&&"undefined"!=typeof window&&this.state.includeProfile&&(this.isSelf()?(0,r.tZ)(h.EB,{ref:this.assignProfile,user:o,freeSignup:l,freeSignupEmail:s,needsPhoto:!0,token:c,onBeforeClose:e=>this.onBeforeProfileClose(e)}):(0,r.tZ)(g.FI,{ref:this.assignProfile,profileUser:k,pub:i,isBanned:null!=f&&f}))]})}constructor(...e){super(...e),(0,o._)(this,"profileShown",void 0),(0,o._)(this,"profile",void 0),(0,o._)(this,"assignProfile",e=>{this.profile=e}),(0,o._)(this,"onClick",e=>{if(this.props.onClick)this.props.onClick(e);else if(!this.props.modalProfile)return!1;else if(e.preventDefault(),e.stopPropagation(),this.profileShown||(this.profileShown=!0,(0,v.j)(v.FP.USER_HEAD_CLICKED,{is_self:this.isSelf()})),this.state.includeProfile){var t;null===(t=this.profile)||void 0===t||t.open()}else this.setState({includeProfile:!0},()=>{var e;return null===(e=this.profile)||void 0===e?void 0:e.open()})})}}let Z=e=>{let{photo_url:t,size:i,isStatic:o,isBanned:n,lazy:l,badge:d,tooltip:h,style:p,children:f,className:g}=e,v=!t&&!!f,m={founding:(0,r.tZ)(u.Z,{height:14,width:14,stroke:"var(--print_on_pop)",strokeWidth:1,title:h}),author:(0,r.tZ)(s.Z,{height:14,width:14,stroke:"var(--print_on_pop)",title:h})}[null!=d?d:"undefined"];return(0,r.BX)("div",{className:a()("profile-img-wrap",g),children:[v?f:l?(0,r.tZ)(w,{photo_url:t,size:i,isStatic:o,badge:d,style:p}):(0,r.tZ)(k,{photo_url:t,size:i,isStatic:o,badge:d,style:p}),m&&(0,r.tZ)("div",{className:"profile-img-badge",title:null!=h?h:void 0,children:m}),n&&(0,r.tZ)(c.Z,{})]})},_=(e,t)=>(0,m.zF4)(e,2*t,{height:2*t,crop:"fill"}),w=e=>{let{photo_url:t,size:i,isStatic:o,badge:n,style:l}=e,[a,s]=(0,f.Z)({}),c=!s||s.isIntersecting?t:m.zUJ;return(0,r.tZ)(y,{url:_(c,i),size:i,ref:a,badge:n,isStatic:o,style:l})},k=e=>{let{photo_url:t,size:i,isStatic:o,badge:n,style:l}=e;return(0,r.tZ)(y,{url:_(t,i),size:i,badge:n,isStatic:o,style:l})},y=e=>{let{url:t,size:i,isStatic:o,ref:n,badge:l,className:a}=e;return o?(0,r.tZ)(d.Z,{className:a,src:(0,m.zF4)(t,2*i,{height:2*i,crop:"fill"}),ref:n,height:i,width:i,alt:l||""}):(0,r.tZ)(p.e,{className:a,src:t,imageProps:{height:2*i,crop:"fill"},maxWidth:2*i,ref:n,alt:l||""})}},12461:function(e,t,i){i.d(t,{$:()=>d});var o=i(16584),r=i(35543),n=i(60807),l=i(80878),a=i(15771),s=i(3021),c=i(63651),u=i(47929);function d(e){let{person:t,surface:i="suggestion"}=e,d=(0,n.aF)(),{primary_publication:h}=t,p=(0,r.Sv)(t,i),f=p.isFollowing?"Following":"Follow",g=p.isFollowing?"secondary-outline":"secondary";return(0,o.tZ)(s.kJ,{user:t,publication:h,label:h?h.name:"",source:i,onClick:e=>(0,l.Q)(e,(0,c.NNq)(t,{utm_source:u.b3.substack,utm_content:u.fZ.resackerItem}),{state:{showBack:!0}}),cta:t.id===(null==d?void 0:d.id)?null:(0,o.tZ)(a.zx,{priority:g,size:"sm",onClick:e=>{e.preventDefault(),p.toggle()},children:f})})}}}]);