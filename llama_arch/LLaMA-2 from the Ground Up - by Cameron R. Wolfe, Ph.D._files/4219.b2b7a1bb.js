"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["4219"],{45537:function(e,t,n){n.d(t,{Z:()=>i});let i={webContainer:"webContainer-IIk356",container:"container-hh54mh",emailWrapper:"emailWrapper-NhzydE",text:"text-Fj8WVT",title:"title-RBoKZn",button:"button-hAEuwt"}},18427:function(e,t,n){n.d(t,{Z:()=>i});let i={container:"container-sfnj9V",emailWrapper:"emailWrapper-qwz6NP"}},35144:function(){},11085:function(e,t,n){n.d(t,{Z:()=>i});let i={cardBlack:"cardBlack-dn8aTu",cardGreen:"cardGreen-BvacOd",secondaryText:"secondaryText-Kde6jh",valueSmall:"valueSmall-XtHNnD",valueBig:"valueBig-wmUc5E",sparkle1:"sparkle1-RUNGBp",sparkle2:"sparkle2-mQOtay",sparkle3:"sparkle3-We1mnM"}},81567:function(e,t,n){n.d(t,{Z:()=>i});let i={imageGallery:"imageGallery-npMLlr",static:"static-he6Urp",canEdit:"canEdit-MxZtx8",editGalleryWrap:"editGalleryWrap-GFPuXa",editGallery:"editGallery-Z5jDW6",imageCaption:"imageCaption-iHC8xR",image:"image-IE_pDY",zoom:"zoom-YdDT6p",imageRow:"imageRow-_Y6x8T","length-2":"length-2-inHdHY",length2:"length-2-inHdHY",inbox:"inbox-uLXwi5",imageGalleryWrap:"imageGalleryWrap-ICPFaM",imageWrap:"imageWrap-egM10V",small:"small-AA4Dt8",medium:"medium-ZeIdEU"}},60520:function(e,t,n){n.d(t,{Z:()=>i});let i={latexWrapper:"latexWrapper-xXiahu",latexEdit:"latexEdit-CT7sNA",emptyStateWrapper:"emptyStateWrapper-SwgxAc"}},4291:function(e,t,n){n.d(t,{Z:()=>i});let i={pubTheme:"pubTheme-yiXxQA"}},87857:function(e,t,n){n.d(t,{Z:()=>i});let i={container:"container-xiJVit"}},82021:function(e,t,n){n.d(t,{Z:()=>i});let i={containerElevated:"containerElevated-R4qz8n",containerInline:"containerInline-L_YjpZ",videoTrimmerWrapper:"videoTrimmerWrapper-m8Tcry",videoTrimmerSlider:"videoTrimmerSlider-RWqSeS",videoTrimmerSliderVisible:"videoTrimmerSliderVisible-kDKdSk",durationContainer:"durationContainer-h05YYe",captionsAvailable:"captionsAvailable-C8g24C",captionsNotAvailable:"captionsNotAvailable-gazpbB"}},8525:function(e,t,n){n.d(t,{Z:()=>i});let i={modalTitle:"modalTitle-uFJ1Ep",qrCode:"qrCode-zZoQdZ",appBadge:"appBadge-Vbgl8S",phoneInput:"phoneInput-PdUisS",noGrow:"noGrow-lP58Da"}},71075:function(e,t,n){n.d(t,{Z:()=>i});let i={digestPostEmbed:"digestPostEmbed-flwiST",menu:"menu-juA09f",caption:"caption-QiPycG",captionEditor:"captionEditor-bK4vPR",smSquare:"smSquare-NGbPBa",mdSquare:"mdSquare-pPKPYa",fullWidth:"fullWidth-Ta6aEE",inheritColor:"inheritColor-WetTGJ",link:"link-HREYZo",disableLink:"disableLink-tkz2Oq"}},30060:function(e,t,n){n.d(t,{Z:()=>i});let i={fpRecircBlock:"fpRecircBlock-HKJKYS",alignLeft:"alignLeft-WOT5JO",alignRight:"alignRight-bj2Dhz",header:"header-ie27mg",editor:"editor-V2JXka",sectionTitle:"sectionTitle-Xp9aWg",editable:"editable-oVCSpQ",titleInput:"titleInput-yIjmBm",postWrapper:"postWrapper-gPIVFt",postCard:"postCard-QEnqbK",hoverButton:"hoverButton-N0n6PV",emptySlot:"emptySlot-P_So_W",postImage:"postImage-tnGOF4",imageWrapper:"imageWrapper-mC7xPu",imagePlaceholder:"imagePlaceholder-uxRFZW",postContent:"postContent-kE5vyY",postTitle:"postTitle-WVs0I0",postAuthor:"postAuthor-Wuf0b1",tooltipContainer:"tooltipContainer-_Xo3J2",settingsButton:"settingsButton-LeI8A4",loading:"loading-HVK0LW",emptySlotContainer:"emptySlotContainer-Hjnza1",emptySlotItem:"emptySlotItem-OuTb9G",emptySlotTrigger:"emptySlotTrigger-vqGF5w",searchModal:"searchModal-ZuQoVH",searchModalTitle:"searchModalTitle-ii8cvR",searchModalInput:"searchModalInput-hXDbwI",searchModalResults:"searchModalResults-OojB5D",selected:"selected-wxI5Rb",noResults:"noResults-7fr0n7",editButtonContainer:"editButtonContainer-WIMQ0a",fpRecircBlockEmail:"fpRecircBlockEmail-bQo7e4",sectionTitleEmail:"sectionTitleEmail-OAZP1e",postTitleEmail:"postTitleEmail-HJC8Ka",postAuthorEmail:"postAuthorEmail-MsYeIm",emailLink:"emailLink-AegMn8",imageWrapperEmail:"imageWrapperEmail-yADEGT",postImageEmail:"postImageEmail-T8eGUY",imagePlaceholderEmail:"imagePlaceholderEmail-vtKzp8"}},57747:function(e,t,n){n.d(t,{Z:()=>i});let i={mediaNodeView:"mediaNodeView-e5SnLi","align-left":"align-left-zBTRM0",alignLeft:"align-left-zBTRM0","align-center":"align-center-GLlHHY",alignCenter:"align-center-GLlHHY","align-right":"align-right-b0iEsr",alignRight:"align-right-b0iEsr",staticView:"staticView-rMg88c",staticImageWrap:"staticImageWrap-zeAxjE",left:"left-Pmbfny",right:"right-jUl_lm",imageContainer:"imageContainer-BFwwV8",large:"large-zd0XRW",full:"full-B7kzBg",caption:"caption-hKmpHN",placeholder:"placeholder-HWtRBz",static:"static-oTq1ez",inlineCaptionEditor:"inlineCaptionEditor-kbzlrs",horizontalResizeHandle:"horizontalResizeHandle-nC_iub",mediaControlButtons:"mediaControlButtons-lqBkgd",active:"active-jfe8JH",mediaControlTextEditor:"mediaControlTextEditor-oFhu3a",hasCaption:"hasCaption-A8cBUm",zoom:"zoom-zeAR_Z",pointer:"pointer-Hr6Xl2"}},24718:function(e,t,n){n.d(t,{Z:()=>i});let i={editorBorder:"editorBorder-I0g0rz",editorWrapper:"editorWrapper-HyGil8",editorHelperText:"editorHelperText-PWUmEI"}},66033:function(e,t,n){n.d(t,{Z:()=>i});let i={button:"button-ultxpw",buttonDisabled:"buttonDisabled-Uxc4ZD","button-justify-content-start":"button-justify-content-start-X35nBJ",buttonJustifyContentStart:"button-justify-content-start-X35nBJ","button-size-lg":"button-size-lg-mFsNs8",buttonSizeLg:"button-size-lg-mFsNs8","button-size-md":"button-size-md-J2SsUW",buttonSizeMd:"button-size-md-J2SsUW","button-size-sm":"button-size-sm-M_QSNF",buttonSizeSm:"button-size-sm-M_QSNF","button-variant-primary":"button-variant-primary-XjvZp5",buttonVariantPrimary:"button-variant-primary-XjvZp5","button-variant-primary-accent":"button-variant-primary-accent-YDCMgj",buttonVariantPrimaryAccent:"button-variant-primary-accent-YDCMgj","button-variant-tertiary":"button-variant-tertiary-TX9xVJ",buttonVariantTertiary:"button-variant-tertiary-TX9xVJ","button-variant-inverse":"button-variant-inverse-e7GG60",buttonVariantInverse:"button-variant-inverse-e7GG60","button-variant-outline":"button-variant-outline-sYoYJU",buttonVariantOutline:"button-variant-outline-sYoYJU","button-variant-outline-accent":"button-variant-outline-accent-EBL9Rj",buttonVariantOutlineAccent:"button-variant-outline-accent-EBL9Rj","button-variant-inactive":"button-variant-inactive-A_4LkS",buttonVariantInactive:"button-variant-inactive-A_4LkS","button-as-link":"button-as-link-Cr7op3",buttonAsLink:"button-as-link-Cr7op3","button-variant-accordion":"button-variant-accordion-qRdmQc",buttonVariantAccordion:"button-variant-accordion-qRdmQc"}},4777:function(e,t,n){n.d(t,{Z:()=>i});let i={container:"container-s8tYit","preset-h1-sans":"preset-h1-sans-Qop2bo",presetH1Sans:"preset-h1-sans-Qop2bo","preset-h1-serif":"preset-h1-serif-QyYae8",presetH1Serif:"preset-h1-serif-QyYae8","preset-h1-text":"preset-h1-text-Xj6FhR",presetH1Text:"preset-h1-text-Xj6FhR","preset-h2-serif":"preset-h2-serif-IuXvG0",presetH2Serif:"preset-h2-serif-IuXvG0","preset-h3-compressed":"preset-h3-compressed-dB9FAX",presetH3Compressed:"preset-h3-compressed-dB9FAX","preset-h3-condensed":"preset-h3-condensed-kGahdt",presetH3Condensed:"preset-h3-condensed-kGahdt","preset-h4-sans-condensed":"preset-h4-sans-condensed-Reqd8Y",presetH4SansCondensed:"preset-h4-sans-condensed-Reqd8Y","preset-h4-sans-regular":"preset-h4-sans-regular-S6R6pb",presetH4SansRegular:"preset-h4-sans-regular-S6R6pb","preset-h4-sans-regular-menu":"preset-h4-sans-regular-menu-RuwXXd",presetH4SansRegularMenu:"preset-h4-sans-regular-menu-RuwXXd","preset-h4-serif":"preset-h4-serif-sMtXaD",presetH4Serif:"preset-h4-serif-sMtXaD","preset-h5-sans":"preset-h5-sans-oGxgjp",presetH5Sans:"preset-h5-sans-oGxgjp","preset-h5-serif":"preset-h5-serif-mY7BSm",presetH5Serif:"preset-h5-serif-mY7BSm","preset-h6-sans":"preset-h6-sans-Gi2FdE",presetH6Sans:"preset-h6-sans-Gi2FdE","preset-h6-serif":"preset-h6-serif-NHX2Ix",presetH6Serif:"preset-h6-serif-NHX2Ix","preset-h7-serif":"preset-h7-serif-qxcjrB",presetH7Serif:"preset-h7-serif-qxcjrB","preset-h7-sans":"preset-h7-sans-bXgWg2",presetH7Sans:"preset-h7-sans-bXgWg2","preset-d1-sans-regular":"preset-d1-sans-regular-HmsiTa",presetD1SansRegular:"preset-d1-sans-regular-HmsiTa","preset-d1-sans-medium":"preset-d1-sans-medium-qccA4g",presetD1SansMedium:"preset-d1-sans-medium-qccA4g","preset-d1-serif":"preset-d1-serif-eNQpMA",presetD1Serif:"preset-d1-serif-eNQpMA","preset-d2-serif":"preset-d2-serif-Zt3T9I",presetD2Serif:"preset-d2-serif-Zt3T9I","preset-d2-serif-bold":"preset-d2-serif-bold-b6ZIUk",presetD2SerifBold:"preset-d2-serif-bold-b6ZIUk","preset-d3-serif":"preset-d3-serif-RnjX7h",presetD3Serif:"preset-d3-serif-RnjX7h","preset-d3-serif-bold":"preset-d3-serif-bold-IdUurP",presetD3SerifBold:"preset-d3-serif-bold-IdUurP","preset-d4-serif":"preset-d4-serif-SEAETp",presetD4Serif:"preset-d4-serif-SEAETp","preset-d4-serif-bold":"preset-d4-serif-bold-HsJN25",presetD4SerifBold:"preset-d4-serif-bold-HsJN25","preset-st1":"preset-st1-O4T2tk",presetSt1:"preset-st1-O4T2tk","preset-st2":"preset-st2-XavWyr",presetSt2:"preset-st2-XavWyr","preset-st3":"preset-st3-mae929",presetSt3:"preset-st3-mae929","preset-st4":"preset-st4-nrV6E9",presetSt4:"preset-st4-nrV6E9","preset-body":"preset-body-JzLL5Q",presetBody:"preset-body-JzLL5Q","preset-body-link":"preset-body-link-V8UQqw",presetBodyLink:"preset-body-link-V8UQqw","preset-detail-large":"preset-detail-large-s2MDYG",presetDetailLarge:"preset-detail-large-s2MDYG","preset-detail-small":"preset-detail-small-mk1EbE",presetDetailSmall:"preset-detail-small-mk1EbE","preset-pullquote":"preset-pullquote-jlelFS",presetPullquote:"preset-pullquote-jlelFS","preset-article-byline":"preset-article-byline-YLd430",presetArticleByline:"preset-article-byline-YLd430","preset-timestamp":"preset-timestamp-JIzgHn",presetTimestamp:"preset-timestamp-JIzgHn","preset-caption":"preset-caption-U1Uztw",presetCaption:"preset-caption-U1Uztw","preset-misc-sans":"preset-misc-sans-y4snTd",presetMiscSans:"preset-misc-sans-y4snTd","preset-sm-preview-byline":"preset-sm-preview-byline-W4hKcb",presetSmPreviewByline:"preset-sm-preview-byline-W4hKcb","preset-lg-preview-byline":"preset-lg-preview-byline-dy8tib",presetLgPreviewByline:"preset-lg-preview-byline-dy8tib","preset-list-item-menu":"preset-list-item-menu-EiM1Es",presetListItemMenu:"preset-list-item-menu-EiM1Es","align-left":"align-left-kbuSQE",alignLeft:"align-left-kbuSQE","align-center":"align-center-UWtlhT",alignCenter:"align-center-UWtlhT","align-right":"align-right-onO3hJ",alignRight:"align-right-onO3hJ","wrap-pretty":"wrap-pretty-ejTmFK",wrapPretty:"wrap-pretty-ejTmFK","wrap-balance":"wrap-balance-jmGdbe",wrapBalance:"wrap-balance-jmGdbe",clamp:"clamp-Vi5QjU","clamp-1":"clamp-1-OfiQ1V",clamp1:"clamp-1-OfiQ1V","clamp-2":"clamp-2-_Mb9Jj",clamp2:"clamp-2-_Mb9Jj","clamp-3":"clamp-3-jYPWgo",clamp3:"clamp-3-jYPWgo","clamp-4":"clamp-4-qoVcAB",clamp4:"clamp-4-qoVcAB","clamp-5":"clamp-5-rto_2V",clamp5:"clamp-5-rto_2V","clamp-6":"clamp-6-tHjoiW",clamp6:"clamp-6-tHjoiW","color-accent":"color-accent-ACVlDT",colorAccent:"color-accent-ACVlDT","color-primary":"color-primary-NaQ4Ae",colorPrimary:"color-primary-NaQ4Ae","color-white":"color-white-MlYGuP",colorWhite:"color-white-MlYGuP","color-blue":"color-blue-MQGY4t",colorBlue:"color-blue-MQGY4t","color-tertiary":"color-tertiary-mHRDyo",colorTertiary:"color-tertiary-mHRDyo","color-disabled":"color-disabled-gVbtOK",colorDisabled:"color-disabled-gVbtOK","white-space-nowrap":"white-space-nowrap-oTjHiF",whiteSpaceNowrap:"white-space-nowrap-oTjHiF"}},67312:function(e,t,n){n.d(t,{Z:()=>i});let i={buttonContainer:"buttonContainer-tH3LP9"}},12811:function(e,t,n){n.d(t,{Z:()=>i});let i={verticalMenuLabel:"verticalMenuLabel-vDULBF"}},22777:function(e,t,n){n.d(t,{Z:()=>i});let i={verticalMenu:"verticalMenu-iEWUZS",customThumbnailInput:"customThumbnailInput-XO3HWP",placeholder:"placeholder-VDJ0cC",loadingPlaceholder:"loadingPlaceholder-PycMQg",videoPlaceholder:"videoPlaceholder-z7fCRh",thumbnailPicture:"thumbnailPicture-sSZ1qk",videoEditorMenu:"videoEditorMenu-PM9LlQ",verticalMenuLabel:"verticalMenuLabel-lDnMVg",clipIcon:"clipIcon-bRPUgg"}},96085:function(e,t,n){n.d(t,{Z:()=>i});let i={videoEditorEmbed:"videoEditorEmbed-YEDZay",videoUploaderEmbed:"videoUploaderEmbed-nDin41",videoUploaderProgressEmbed:"videoUploaderProgressEmbed-WeUy9l",videoUploaderProgressHero:"videoUploaderProgressHero-GSgd0q",videoPortal:"videoPortal-J4jgUG",contextMenu:"contextMenu-YJ0GMi",uploadThumbnailButton:"uploadThumbnailButton-mlBfUX",updatingThumbnailLoader:"updatingThumbnailLoader-TIJ3Re",resumingVideoUploadAlert:"resumingVideoUploadAlert-WC3zea",topLabels:"topLabels-Od3jRz",topLabel:"topLabel-x6LVGU"}},24750:function(){},54888:function(e,t,n){n.d(t,{Z:()=>i});let i={ufiContainer:"ufiContainer-LU0_2M",buttonContainer:"buttonContainer-xv9qhQ",button:"button-RzzGHK",icon:"icon-Eo432M",count:"count-hQZHkH",hidden:"hidden-UUUxXN",like:"like-IrcdrZ",active:"active-R2L4nI",heart:"heart-CVM02Z",clickedOnce:"clickedOnce-OWrgAu",isLiked:"isLiked-wLecwK","heart-bounce":"heart-bounce-Lo7g_9",heartBounce:"heart-bounce-Lo7g_9",spark:"spark-Lg1gFb","spark-burst":"spark-burst-g6xVlj",sparkBurst:"spark-burst-g6xVlj",restack:"restack-bjXABC",isRestacked:"isRestacked-UViDCR",restackIcon:"restackIcon-BPrd9M","restack-spin":"restack-spin-XskJfD",restackSpin:"restack-spin-XskJfD",heartWrapper:"heartWrapper-xJzNVs",sparks:"sparks-p7Vzbk"}},20063:function(e,t,n){n.d(t,{Z:()=>i});let i={livePill:"livePill-wNMCye"}},50475:function(e,t,n){n.d(t,{Z:()=>i});let i={input:"input-ZGrgg4"}},54991:function(e,t,n){n.d(t,{Z:()=>i});let i={avatar:"avatar-LanjdX",badge:"badge-Uvjr_O",container:"container-t1XakO",header:"header-MPtCPc",emailButton:"emailButton-TJW1DY",cta:"cta-htyRl8"}},52434:function(e,t,n){n.d(t,{Z:()=>i});let i={value:"value-MNKe0r"}},52503:function(e,t,n){n.d(t,{Z:()=>i});let i={kbd:"kbd-PuF2B0"}},36827:function(e,t,n){n.d(t,{Z:()=>i});let i={searchInput:"searchInput-fUS3Nw"}},165:function(e,t,n){n.d(t,{Z:()=>i});let i={tooltip:"tooltip-Q8Qb8b",title:"title-qpYgW3",imageContainer:"imageContainer-cm3Y_o",endcapContainer:"endcapContainer-h2D5mj",animate:"animate-EcT71w",hide:"hide-R_ZrJm",show:"show-bB8i0L",fromLeft:"fromLeft-ZFh9Fx",fromRight:"fromRight-O8y24A",fromAbove:"fromAbove-XaD6qa",fromBelow:"fromBelow-T9zppy"}},53501:function(e,t,n){n.d(t,{Z:()=>i});let i={input:"input-AalwWx",error:"error-Feisn0",textarea:"textarea-Y7xHxw","font-text":"font-text-O992pd",fontText:"font-text-O992pd","font-monospace":"font-monospace-lad5nM",fontMonospace:"font-monospace-lad5nM"}},12517:function(e,t,n){n.d(t,{Z:()=>i});let i={container:"container-ODcHQE",containerMultiply:"containerMultiply-l6GUkC",containerAnimated:"containerAnimated-jVAZvQ","silhouette-scroll":"silhouette-scroll-zaCEVB",silhouetteScroll:"silhouette-scroll-zaCEVB"}},87089:function(e,t,n){n.d(t,{Z:()=>i});let i={pill:"pill-KqexDs",pillSelected:"pillSelected-ngbq5t"}},5749:function(e,t,n){n.d(t,{Z:()=>i});let i={variables:"variables-fH4ag7",containsAppPrompt:"containsAppPrompt-UMsmqt",isHidden:"isHidden-vzcyV0",page:"page-aOaH_e",miniInboxItem:"miniInboxItem-qLFrMG",newItems:"newItems-twwRBA",facepile:"facepile-BvssMQ",face:"face-P6q4PH",tabIcon:"tabIcon-KkbGZ1",feedItem:"feedItem-ONDKv3",feedUnit:"feedUnit-NTpfyQ",showThreadGutter:"showThreadGutter-X3iYha",hasAvatar:"hasAvatar-XDSVUi",hasAction:"hasAction-pgoBA3",seeMoreFade:"seeMoreFade-xP5n8v",feedPermalinkUnit:"feedPermalinkUnit-JBJrHa",permalinkHeader:"permalinkHeader-bQJTnJ",seeMoreReplies:"seeMoreReplies-K4uhty",seeMoreThread:"seeMoreThread-KEnEyq",seeMoreThreadSegment:"seeMoreThreadSegment-_Apecq",top:"top-zb_BJC",hasContext:"hasContext-_DCyNJ",replyUnit:"replyUnit-tO0ejm",youtube:"youtube-AgNZc0",tiktok:"tiktok-x4gDkP",spotify:"spotify-cCmxPs",appleMusic:"appleMusic-OezLQy",soundcloud:"soundcloud-p1bsAU",youtubeIframe:"youtubeIframe-kP47yC",tiktokIframe:"tiktokIframe-izo_uk",feedCommentBody:"feedCommentBody-UWho7S",feedCommentBodyInner:"feedCommentBodyInner-AOzMIC",smallPreview:"smallPreview-dZMrxO",underlineLink:"underlineLink-RuIQrC",disabled:"disabled-W2Bv0n",peopleYouMayKnowContainer:"peopleYouMayKnowContainer-A79AYm",peopleYouMayKnow:"peopleYouMayKnow-GCnR1N",seeMore:"seeMore-D88zkH",seeMoreText:"seeMoreText-Y5A1El",postAttachment:"postAttachment-eYV3fM",saveButton:"saveButton-BUhk5Q",commentContainer:"commentContainer-kpPRBB",vibrantHeader:"vibrantHeader-We3FVb",postImage:"postImage-L4FlO9",vibrantPostImage:"vibrantPostImage-TTXyOq",linkImage:"linkImage-i4xmRa",linkImagePlaceholder:"linkImagePlaceholder-zpM5qk",actionRow:"actionRow-T4wXed",moreButtonContainer:"moreButtonContainer-zdayXV",moreButton:"moreButton-EXZOW4",shortPostText:"shortPostText-HTEthL",large:"large-xah3K0",stat:"stat-Q5QJPb",reportModal:"reportModal-LypavT",likeButton:"likeButton-R3Kfso",heartWrapper:"heartWrapper-PXEHho",heart:"heart-oifoWn",active:"active-c0Nov_",clickedOnce:"clickedOnce-CLj8DV",isLiked:"isLiked-iBpLIp","heart-bounce":"heart-bounce-_VxmXZ",heartBounce:"heart-bounce-_VxmXZ",spark:"spark-Jja6Nt","spark-burst":"spark-burst-qrrWP7",sparkBurst:"spark-burst-qrrWP7",sparks:"sparks-KOlXwI",ripple:"ripple-DknUjK",vibrant:"vibrant-Ys_KyG",saved:"saved-BzlEct",videoThumbnailImage:"videoThumbnailImage-GeQb7o",feedStatsGrid:"feedStatsGrid-lsizQ6",inlineLinkRow:"inlineLinkRow-b2tbOE",transparentLoginPrompt:"transparentLoginPrompt-sD3O95",appPrompt:"appPrompt-gZ1qj_",asParent:"asParent-gmw3iy"}},73015:function(e,t,n){n.d(t,{Z:()=>i});let i={controlsCentered:"controlsCentered-TEIxxh",track:"track-pNMNGn"}},66861:function(e,t,n){n.d(t,{Z:()=>i});let i={playButton:"playButton-VfYy0S",playButtonIcon:"playButtonIcon-iVd8T6",videoIcon:"videoIcon-pEKkgy",pauseIconBar:"pauseIconBar-fixY8H",pauseIcon:"pauseIcon-bgib4b",videoPauseIconBar:"videoPauseIconBar-boRJoC",audioWaveform:"audioWaveform-K3CCe7",voiceAmplitude:"voiceAmplitude-Hp8N5A"}},73798:function(e,t,n){n.d(t,{Z:()=>i});let i={bottomControlsContainer:"bottomControlsContainer-kx5Iet",bottomInnerControlsContainer:"bottomInnerControlsContainer-nA_qdP",backDrop:"backDrop-OMzeTr",captionsContainer:"captionsContainer-sSAb5L",centerControlsContainer:"centerControlsContainer-CKUlUi",settingsControlsContainer:"settingsControlsContainer-V3A25d",settingsControlsBox:"settingsControlsBox-svKH2p",topOverlaysContainer:"topOverlaysContainer-xo1FwD",bottomOverControlsContainer:"bottomOverControlsContainer-FnhEyj",castStatus:"castStatus-Gq0e5M",spinner:"spinner-iKxsfj"}},20080:function(e,t,n){n.d(t,{Z:()=>i});let i={volumeBarContainer:"volumeBarContainer-AVLNVa",volumeBar:"volumeBar-N1rUCF",mainContainer:"mainContainer-_32N5B",volumeLevel:"volumeLevel-VDMLnw"}},19925:function(e,t,n){n.d(t,{A:()=>a});var i=n(16584),r=n(55679),o=n(45528);let a=e=>{let{node:t}=e,{attrs:n}=t;return(0,i.tZ)(r.T5,{children:(0,i.tZ)(o.V,{postId:n.postId})})}},21793:function(e,t,n){n.d(t,{h:()=>m});var i=n(58865),r=n(16584),o=n(63623),a=n(95441),l=n(94874),s=n(19081),d=n(38841),c=n(58175),u=n(11085);function p(){let e=(0,i._)(["","-Month Paid Pass"]);return p=function(){return e},e}function h(){let e=(0,i._)(["","-Day Paid Pass"]);return h=function(){return e},e}function m(e){let{pub:t,variant:n="avatar",isStatic:i=!1,days:m,gifter:g,value:v}=e,{iString:f,iTemplate:C}=(0,a.M1)();return(0,r.BX)(s.gq,{className:"avatar"===n?u.Z.cardBlack:u.Z.cardGreen,justifyContent:"center",radius:"lg",children:[(0,r.BX)(s.tu,{alignItems:"center",justifyContent:"center",gap:16,children:["cashappcore"===n?(0,r.tZ)(c.xv,{className:u.Z.valueBig,color:"white",font:"display",children:v}):i?(0,r.tZ)(d.CN,{pub:t,size:100,format:"png"}):(null==g?void 0:g.photo_url)?(0,r.tZ)(l.qE,{user:g,size:100}):(0,r.tZ)(d.wk,{pub:t,size:100}),(0,r.BX)(s.tu,{alignItems:"center",gap:4,paddingX:8,children:[(0,r.tZ)(c.xv.H3,{color:"white",weight:"heavy",align:"center",children:t.name}),(0,r.tZ)(c.xv.B3,{className:u.Z.secondaryText,children:m?m%30==0?C(p(),m/30):C(h(),m):f("Free Guest Pass")})]})]}),"avatar"===n&&v&&(0,r.tZ)(c.xv.H4,{className:u.Z.valueSmall,weight:"medium",children:v}),(0,r.tZ)(o.Z,{className:u.Z.sparkle1,size:33,strokeWidth:0}),(0,r.tZ)(o.Z,{className:u.Z.sparkle2,size:27,strokeWidth:0}),(0,r.tZ)(o.Z,{className:u.Z.sparkle3,size:20,strokeWidth:0})]})}},52244:function(e,t,n){n.d(t,{v:()=>p});var i=n(16584),r=n(55679),o=n(19242),a=n(70843),l=n(95441),s=n(19081),d=n(58175),c=n(87077);let u="icon-goBaOg",p=e=>{let{}=e,{iString:t}=(0,l.M1)(),n=t("This may be a temporary error, please refresh the page to try again.");return(0,i.tZ)(r.T5,{children:(0,i.BX)(s.tu,{alignItems:"center",justifyContent:"center",className:"container-njkc6x",children:[(0,i.tZ)(o.Z,{className:u}),(0,i.BX)(s.gq,{alignItems:"center",gap:4,children:[(0,i.tZ)(d.xv.Meta,{translated:!0,color:"accent",children:"Image not found"}),(0,i.tZ)(c.u,{text:n,children:(0,i.tZ)(a.Z,{size:12,className:u})})]})]})})}},81138:function(e,t,n){n.d(t,{t:()=>a});var i=n(16584),r=n(55679),o=n(22582);let a=e=>{let{node:t,editor:n}=e;return(0,i.tZ)(r.T5,{className:"image-gallery-embed","data-drag-handle":"",children:(0,i.tZ)(o.hJ,{node:t,editor:n})})}},3880:function(e,t,n){n.d(t,{E:()=>m,i:()=>f});var i=n(16584),r=n(30396),o=n(94184),a=n.n(o),l=n(24202),s=n(20888),d=n(27625),c=n(19081),u=n(58175),p=n(91400),h=n(54796);function m(e){let{className:t,assets:n,readOnly:o,isRestack:s,isPreview:d,isDm:u,onClick:p,aspect:m,maxWidth:v,maxHeight:f,children:C,isContained:Z,outline:b,isPermalink:w}=e,y=(0,l.dz)(n),_=y;y.length>6&&(_=_.slice(0,6));let[k,A]=(0,r.eJ)(null),E=(e,t)=>{e.preventDefault(),A({index:t})};return(0,i.BX)(c.hs,{className:a()(h.Z.imageGrid,h.Z["size-".concat(Math.min(y.length,6))],u&&h.Z.dm,d&&h.Z.preview,Z&&h.Z.contained,w&&h.Z.permalink,s&&h.Z.restack,t),gap:4,radius:"md",overflow:"hidden",children:[_.map((e,t)=>{let{src:n,explicit:r,width:a,height:l,id:s}=e,d=y.length-(t+1);return(0,i.tZ)(g,{asset:n,explicit:r,total:y.length,readOnly:o,aspect:m,width:a,height:l,numRemaining:t+1===6&&d>0?d:void 0,maxWidth:v,maxHeight:f,outline:Z||1!==y.length?b:"detail",onClick:o?void 0:e=>{e.defaultPrevented||(e.preventDefault(),p&&p({attachmentId:s,attachmentType:"image"}),E(e,t))},children:C},n)}),!o&&(0,i.tZ)(l.$9,{assets:y,imageViewer:k,setImageViewer:A,readOnly:o})]})}function g(e){let t,n,r,o,{asset:a,explicit:s,onClick:d,total:c,numRemaining:u,readOnly:m,aspect:g,width:f,height:C,outline:Z="none",maxWidth:b=500,maxHeight:w=420,children:y}=e,_=(0,p.XA)();null!=f&&null!=C&&(f/=2,C/=2,t=Math.round(null!=b?Math.min(f,b):f),n=Math.round(C/f*t),1===c&&(t>b?(o=Math.round(n*b/t),r=b):(r=t,o=n),w&&o>w&&(r=Math.round(r*w/o),o=w),_&&(o="auto")));let k=(0,i.BX)(i.HY,{children:[y,u&&(0,i.tZ)(v,{count:u})]});return(0,i.tZ)(l.Z4,{asset:a,explicit:s,onClick:d,readOnly:m,width:r,height:o,maxWidth:r,className:h.Z.gridImage,imageProps:{aspect:g||(1===c?"":"1:1"),smartCrop:1!==c},outline:Z,flex:"grow",radius:"sm",style:{"--aspect-ratio":"".concat(t," / ").concat(n)},children:k})}function v(e){let{count:t}=e;return(0,i.tZ)(c.hs,{className:h.Z.imageCountOverlay,position:"absolute",justifyContent:"center",alignItems:"center",inset:0,children:(0,i.BX)(u.xv.B1,{color:"vibrance-primary",weight:"medium",children:["+",t]})})}function f(e){let{className:t,assets:n}=e,r=(0,l.dz)(n),o=r;r.length>4&&(o=o.slice(0,4));let s=(0,l.iv)(r),{onShow:u}=(0,d.Sl)(s);return(0,i.BX)(c.hs,{className:a()(h.Z.imageGridThumbnail,h.Z["size-".concat(Math.min(r.length,4))],t),gap:2,width:72,height:72,radius:"md",overflow:"hidden",sizing:"border-box",border:"detail",position:"relative",flex:"auto",children:[o.map(e=>{let{src:t}=e;return(0,i.tZ)(C,{asset:t,size:72},t)}),s&&(0,i.tZ)(d.HU,{onShow:u})]})}function C(e){let{asset:t,size:n=64}=e;return(0,i.tZ)(c.hs,{className:h.Z.thumbnailImage,bg:"secondary",overflow:"hidden",children:(0,i.tZ)(s.e,{src:t,maxWidth:n,useRetinaSizing:!0,imageIsFixedWidth:!0,imageProps:{aspect:"1:1",smartCrop:!0},width:n,height:n,loading:"lazy",ignorePicture:!0})})}},2563:function(e,t,n){n.r(t),n.d(t,{ImageViewerContents:()=>Z,ImageViewerModal:()=>C});var i=n(16584),r=n(30396),o=n(94184),a=n.n(o),l=n(2564),s=n(56743),d=n(71375),c=n(71212);n(98661);var u=n(98914),p=n(15771),h=n(19081),m=n(6490),g=n(98248),v=n(60308);let f={chrome:"chrome-_LLvs8",inactive:"inactive-_Lk_xA",modalImageButtonContainer:"modalImageButtonContainer-gaFoGh",modalImageSidebar:"modalImageSidebar-WtdDRF",imgContainer:"imgContainer-_cFpip",img:"img-nwpk1x",isLoading:"isLoading-siuKfF"};function C(e){let{showModal:t,modalContent:n,onClose:r,step:o,includeDownloadButton:a=!0}=e;return(0,i.tZ)(m.u_,{isOpen:t,onClose:r,position:"full",children:(0,i.tZ)(Z,{modalContent:n,onClose:r,stepDefault:o,includeDownloadButton:a})})}function Z(e){let{modalContent:t=[],onClose:n,stepDefault:o,includeDownloadButton:p}=e,[h,m]=(0,r.eJ)(o),[C,Z]=(0,r.eJ)(!0),w=(0,u.K1)(),y=e=>{e.currentTarget===e.target&&n()},[_,k]=(0,r.eJ)(!1);(0,r.d4)(()=>{if(!w){let e;let t=e=>{let{key:t}=e;["ArrowRight","ArrowDown"].includes(t)?(E(),e.stopPropagation()):["ArrowLeft","ArrowUp"].includes(t)&&(A(),e.stopPropagation())},n=n=>{(null==n?void 0:n.type)==="keydown"&&t(n),clearTimeout(e),k(!1),e=setTimeout(()=>{k(!0)},2e3)};return window.addEventListener("pointermove",n,{capture:!0,passive:!0}),window.addEventListener("pointerdown",n,{capture:!0,passive:!0}),window.addEventListener("keydown",n,{capture:!0,passive:!0}),n(),()=>{clearTimeout(e),window.removeEventListener("pointermove",n,{capture:!0}),window.removeEventListener("pointerdown",n,{capture:!0}),window.removeEventListener("keydown",n,{capture:!0})}}},[w,h]);let A=()=>{0!==h&&(m(h-1),Z(!0))},E=()=>{h!==t.length-1&&(m(h+1),Z(!0))},{attrs:{src:x,alt:T,title:I}}=t[h];(0,r.d4)(()=>{if(!C){var e;let n=null===(e=t[h+1])||void 0===e?void 0:e.attrs.src;n&&(new Image().src=(0,v.zF4)(n,void 0,{quality:"auto:good"}))}},[h,C]);let B=w?8:16;return(0,i.BX)(i.HY,{children:[(0,i.BX)("div",{className:a()(f.chrome,_&&f.inactive),children:[h<t.length-1&&(0,i.tZ)(b,{buttonFunction:E,style:{right:0,padding:B},isSidebar:!0,icon:(0,i.tZ)(l.Z,{size:20,strokeWidth:2})}),h>0&&(0,i.tZ)(b,{buttonFunction:A,style:{left:0,padding:B},isSidebar:!0,icon:(0,i.tZ)(s.Z,{size:20,strokeWidth:2})}),(0,i.tZ)(b,{buttonFunction:n,style:{position:"absolute",right:B,top:B},isSidebar:!1,icon:(0,i.tZ)(d.Z,{size:20})}),p&&(0,i.tZ)(b,{buttonFunction:e=>{e.stopPropagation(),function(e,t){let n=document.createElement("a");document.body.appendChild(n),n.href=t,n.target="_blank",n.click(),document.body.removeChild(n)}(0,x)},style:{position:"absolute",left:B,top:B},isSidebar:!1,icon:(0,i.tZ)(c.Z,{size:20})})]}),(0,i.tZ)("div",{className:f.imgContainer,onClick:y,children:(0,i.tZ)("img",{className:a()(f.img,C&&f.isLoading),onLoad:()=>{Z(!1)},alt:null!=T?T:void 0,title:null!=I?I:void 0,src:(0,v.zF4)(x,void 0,{quality:"auto:good"}),onClick:y},x)}),C&&(0,i.tZ)("div",{style:{position:"absolute",top:"50%",left:"50%"},children:(0,i.tZ)(g.$j,{})})]})}function b(e){let{buttonFunction:t,style:n,isSidebar:r,icon:o,tetherRef:l}=e;return(0,i.tZ)(h.hs,{className:a()(f.modalImageButtonContainer,r?f.modalImageSidebar:null),style:n,alignItems:"center",justifyContent:"center",onClick:t,ref:l,children:(0,i.tZ)(p.GI,{priority:"secondary",rounded:!0,children:o})})}},33804:function(e,t,n){n.d(t,{w:()=>a});var i=n(16584),r=n(4615),o=n(5406);function a(e){let{children:t}=e;return(0,i.tZ)(r.f6,{theme:o.Z.pubAccentTheme,children:t})}},36671:function(e,t,n){n.d(t,{Z:()=>o});var i=n(16584),r=n(30396);let o=e=>{let{min:t,max:n,step:o,value:a,onChange:l}=e,s=(0,r.sO)(null),d=(0,r.sO)(null),c=(0,r.I4)(e=>{if(!s.current)return;let{left:i,width:r}=s.current.getBoundingClientRect();l(Math.round((t+Math.max(Math.min(e.clientX-i,r),0)/r*(n-t))/o)*o)},[t,n,o,l]),u=(0,r.I4)(()=>{document.removeEventListener("mousemove",c)},[c]),p=()=>{document.addEventListener("mousemove",c)},h=(a-t)/(n-t)*100;return(0,i.tZ)("div",{className:"range-slider-bhPvhQ",ref:s,onMouseDown:p,onMouseUp:u,onBlur:u,children:(0,i.BX)("div",{className:"range-slider__rail-P4vlSM",children:[(0,i.tZ)("div",{className:"range-slider__track-Q9dod1",style:{width:"".concat(h,"%")}}),(0,i.tZ)("div",{className:"range-slider__thumb-SArpZE",style:{left:"".concat(h,"%")},ref:d,onMouseDown:p})]})})}},5772:function(e,t,n){n.d(t,{R:()=>a});var i=n(30396),r=n(23279),o=n.n(r);function a(e){let{items:t,getKeys:n,sort:r=!0,sortFunc:a,deps:l}=e,s=(e,t)=>{let i=n(e),r=n(t);for(let e=0;e<Math.min(i.length,r.length);e++){let t=i[e].localeCompare(r[e]);if(0!==t)return t}return i.length-r.length},[d,c]=(0,i.eJ)(""),u=(0,i.Ye)(()=>o()(c,100),[c]),p=d.trim();return{setQuery:u,filteredItems:(0,i.Ye)(()=>{if(!p)return t;let e=t.filter(e=>n(e).some(e=>e.toLowerCase().includes(p.toLowerCase())));return(r||a)&&(e=e.sort(a||s)),e},l?[p,...l]:[p,t]),hasFiltered:""!==p,query:p}}},40297:function(e,t,n){n.d(t,{RF:()=>g,AM:()=>m,wb:()=>v});var i=n(16584);n(6400);var r=n(30396),o=n(94184),a=n.n(o),l=n(74691),s=n.n(l),d=n(61649),c=n(19081),u=n(98248),p=n(93370);let h={timeline:"timeline-WDyd1C",railContainer:"railContainer-W63jgB",rail:"rail-LM6nrG",draggable:"draggable-XUqwr1",draggableLeft:"draggableLeft-MDthpn",draggableRight:"draggableRight-LVVwsd",tooltip:"tooltip-ceWgga",visible:"visible-Y2jC2J",hidden:"hidden-G_OmGT",playback:"playback-UIgSL0",nonSelectable:"nonSelectable-SHHRwG",tick:"tick-RKB6b5",lgTick:"lgTick-iLU6yS",smTick:"smTick-ED2tnj",currentTick:"currentTick-xH7tpT",selection:"selection-m8n06y",selectionFadeLeft:"selectionFadeLeft-rID4fZ",selectionFadeRight:"selectionFadeRight-iIPOWk",handle:"handle-prO_Ky",storyboard:"storyboard-xsBzUl",ticks:"ticks-EA7bBQ",handles:"handles-waTdni",shadow:"shadow-wpFmkU",shadowContainer:"shadowContainer-JsGn6N"},m=e=>{let{videoElement:t,start:n,setStart:o,end:a,setEnd:l,storyboard:s,maxDuration:p,minDuration:m,maxTimelineDuration:g=360,minTimelineDuration:v=360,looping:C,zoom:Z,setZoom:b}=e,[w,y]=(0,r.eJ)(!1),[_,k]=(0,r.eJ)(0),[A,E]=(0,r.eJ)(Math.max(0,n-d.Zl)),[x,T]=(0,r.eJ)(0),[I,B]=(0,r.eJ)(0),L=(0,r.sO)(0),[S,M]=(0,r.eJ)({isDragging:!1,element:void 0});return(0,r.d4)(()=>{let e=()=>{if(t){k(t.duration);let e=[360,t.duration];g&&e.push(g),T(Math.min(...e))}};return t&&t.addEventListener("loadedmetadata",e),(null==t?void 0:t.duration)&&e(),()=>{t&&t.removeEventListener("loadedmetadata",e)}},[g,t]),(0,r.d4)(()=>{let e=()=>{t&&B(t.currentTime)};if(t)return t.addEventListener("timeupdate",e),()=>{t.removeEventListener("timeupdate",e)}},[t]),(0,r.d4)(()=>{if(!w)return;let e=Math.abs(I-L.current);if(L.current=I,e<1){C&&t&&!S.isDragging&&(I>a||I<n)&&(t.currentTime=n);return}if(!S.isDragging&&(I>x||I<A)){let e=x-A,t=Math.min(I,_-e);E(t),T(t+e)}},[I,w]),(0,r.d4)(()=>{if(!_||S.isDragging)return;if(n>A&&a<x){y(!0);return}let e=a-n,t=Math.min(_,a+e);E(Math.max(0,n-e)),T(t);let i=(0,d.MZ)(e);(!Z||i<Z)&&b(i),y(!0)},[n,a,_]),(0,r.d4)(()=>{if(!w)return;let e=x-A,t=(0,d.AO)(Z),i=isNaN(e)||e<d.Zl?.5:(n-A)/e,r=A+i*e,o=r-i*t,a=r+(1-i)*t,l=o,s=a;o<0?s=Math.min(_,(l=0)+t):a>_&&(l=Math.max(0,(s=_)-t)),(!g||!(s-l>g))&&(!v||!(s-l<v))&&(T(s),E(l))},[Z,g,v,_,w]),(0,i.tZ)("div",{className:h.timeline,children:_>0?(0,i.tZ)(f,{startTimeline:A,setStartTimeline:E,endTimeline:x,setEndTimeline:T,startPosition:n,setStartPosition:e=>{if(m&&e+m>=a){o(a-m);return}if(p&&e+p<=a){o(a-p);return}o(e)},endPosition:a,setEndPosition:e=>{if(m&&e-m<=n){l(n+m);return}if(p&&e-p>=n){l(n+p);return}l(e)},setPosition:(e,t)=>{o(e),l(t)},playerPosition:I,setPlayback:e=>{t&&(t.currentTime=e)},duration:_,onDragging:e=>{M(e)},storyboard:s}):(0,i.tZ)(c.gq,{alignItems:"center",justifyContent:"center",children:(0,i.tZ)(u.$j,{})})})},g=e=>{let{storyboard:t,imageUrl:n,x:r,y:o,displayWidth:a,displayHeight:l,className:s}=e,d=(r?r/t.tile_width:0)*a,c=(o?o/t.tile_height:0)*l,u={width:"".concat(a,"px"),height:"".concat(l,"px"),backgroundImage:"url(".concat(n,")"),backgroundPosition:"-".concat(d,"px -").concat(c,"px"),backgroundSize:"500%"};return(0,i.tZ)("div",{className:s,style:u})};function v(e,t){return e.reduce((e,n)=>Math.abs(n.start-t)<Math.abs(e.start-t)?n:e)}let f=e=>{let{startTimeline:t,setStartTimeline:n,endTimeline:o,setEndTimeline:l,startPosition:d,setStartPosition:u,endPosition:m,setEndPosition:f,setPosition:b,playerPosition:w,setPlayback:y,duration:_,storyboard:k,onDragging:A}=e,E=(0,r.sO)(null),x=(0,r.sO)(null),T=(0,r.sO)(m-d),I=(0,r.sO)(null),[B,L]=(0,r.eJ)({isDragging:!1,element:void 0}),S=o-t,M=(0,r.Ye)(()=>m-d,[m,d]),P=d-t,N=m-t,D=w-t,R=t<1,O=1>Math.abs(o-_),X=(0,r.Ye)(()=>P/S*100,[S,P]),j=(0,r.Ye)(()=>N/S*100,[N,S]),z=(0,r.Ye)(()=>D/S*100,[D,S]),U="linear-gradient(to right, \n    rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.5) calc(".concat(X,"% - 6px), \n    rgba(0,0,0,0) calc(").concat(X,"% - 6px), rgba(0,0,0,0) calc(").concat(j,"% + 6px), \n    rgba(0,0,0,0.5) calc(").concat(j,"% + 6px), rgba(0,0,0,0.5) 100%)"),H=(0,r.I4)(e=>{u(Math.max(0,e/100*S+t))},[S,u,t]),F=(0,r.I4)(e=>{f(Math.min(_,e/100*S+t))},[_,S,f,t]);(0,r.d4)(()=>{A(B)},[B]);let V=()=>{document.addEventListener("selectstart",q)},W=()=>{document.removeEventListener("selectstart",q)},q=e=>{e.preventDefault(),e.stopPropagation()},Y=()=>{setTimeout(()=>{L({isDragging:!1,element:void 0})},300),x.current=null,I.current=null,W(),document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",Y),document.removeEventListener("pointerup",Y)},J=e=>{if(null===x.current)return;let i=e.clientX-x.current;if(L({isDragging:!0,element:"interval"}),!E.current)return;let r=i/E.current.getBoundingClientRect().width*S,a=d+r,s=a+T.current;I.current?a<0?(b(0,T.current),n(0)):s>_?(b(_-T.current,_),l(_)):b(a,s):t-r>0&&o-r<=_&&(n(Math.max(0,t-r)),l(Math.min(_,o-r)))};return(0,i.tZ)("div",{className:h.railContainer,children:(0,i.BX)("div",{className:h.rail,ref:E,onMouseDown:e=>{if(!E.current)return;V(),x.current=e.clientX,T.current=m-d;let t=E.current.getBoundingClientRect().left,n=(e.clientX-t)/E.current.getBoundingClientRect().width*100,i=n>=X&&n<=j;I.current=i,document.addEventListener("mousemove",J),document.addEventListener("mouseup",Y),document.addEventListener("pointerup",Y)},onClick:e=>{if(e.stopPropagation(),e.preventDefault(),B.isDragging||!E.current)return;x.current=e.clientX,T.current=m-d;let n=E.current.getBoundingClientRect().left,i=(e.clientX-n)/E.current.getBoundingClientRect().width*100,r=i>=X&&i<=j,o=t+i/100*S;if(r)y(o);else{let e=s()(o,0,_-T.current),t=e+T.current;b(e,t)}},children:[(()=>{var e,n;if(!k)return null;let r=null!==(n=null==E?void 0:null===(e=E.current)||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==n?n:0;if(0===r)return null;let a=(function(e,t,n){let i=[],r=Math.floor(e/n)*n,o=Math.ceil(t/n)*n;for(let e=r;e<=o;e+=n)i.push(e);return i})(t,o,S/r*(60*(k.tile_width/k.tile_height))).map(e=>({time:e,tile:v(k.tiles,e)}));return(0,i.tZ)(c.gq,{className:h.storyboard,children:a.map((e,n)=>{let{time:r,tile:o}=e,a=(r-t)/S*100;return(0,i.tZ)("div",{style:{position:"absolute",left:"calc(".concat(a,"% + 6px)")},children:(0,i.tZ)(g,{storyboard:k,imageUrl:k.url,displayHeight:60,displayWidth:k.tile_width/k.tile_height*60,x:o.x,y:o.y},"".concat(o.x,"-").concat(o.y,"-").concat(n))})})})})(),(0,i.tZ)("div",{className:h.nonSelectable,style:{background:U,position:"absolute",top:0,bottom:0,left:0,right:0}}),(0,i.BX)("div",{className:a()(h.handles,h.nonSelectable),children:[(0,i.tZ)("div",{className:h.selection,style:{left:"calc(".concat(X,"% - 6px)"),width:"calc(".concat(j-X,"% + 12px)")}}),!R&&(0,i.tZ)("div",{className:h.selectionFadeLeft}),!O&&(0,i.tZ)("div",{className:h.selectionFadeRight})]}),(0,i.tZ)(Z,{divRef:E,startTimeline:t,railDuration:o-t,active:!B.isDragging}),(0,i.BX)("div",{className:h.handles,children:[(0,i.tZ)(C,{className:"".concat(h.draggable," ").concat(h.draggableLeft),railRef:E,label:(0,p.DL)(null!=M?M:0,!0),position:X,maxPosition:j,setPosition:H,isDragging:"start"===B.element,setIsDragging:e=>e?L({isDragging:!0,element:"start"}):L({isDragging:!1,element:void 0})}),(0,i.tZ)(C,{className:"".concat(h.draggable," ").concat(h.draggableRight),railRef:E,label:(0,p.DL)(null!=M?M:0,!0),position:j,minPosition:X,setPosition:F,isDragging:"end"===B.element,setIsDragging:e=>e?L({isDragging:!0,element:"end"}):L({isDragging:!1,element:void 0})}),(0,i.tZ)(C,{className:h.playback,railRef:E,label:(0,p.DL)(M,!0),position:z,isDragging:B.isDragging,disabled:!0})]})]})})};h.lgTick,h.lgTick,h.smTick,h.smTick;let C=e=>{let{railRef:t,position:n,disabled:o,setPosition:a,label:l,maxPosition:s,minPosition:d,className:c,onDragStart:u,onDragEnd:p,showIcon:m=!0,setIsDragging:g}=e,v=(0,r.sO)(null),[f,C]=(0,r.eJ)(!1),Z=()=>{document.addEventListener("selectstart",w)},b=()=>{document.removeEventListener("selectstart",w)},w=e=>{e.preventDefault(),e.stopPropagation()},y=()=>{setTimeout(()=>{null==g||g(!1)},0),C(!1),b(),document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",y),document.removeEventListener("pointerup",y),p&&p()},_=e=>{if(null==g||g(!0),!t.current||!v.current)return;let n=t.current.getBoundingClientRect().left,i=t.current.getBoundingClientRect().width,r=(e.clientX-n)/i*100;a&&(void 0!==s&&void 0!==d?a(Math.min(s,Math.max(d,r))):void 0!==s?a(Math.min(s,r)):void 0!==d?a(Math.max(d,r)):a(r))};return(0,i.BX)("div",{className:c,ref:v,style:{left:"".concat(n,"%")},onMouseDown:e=>{!o&&(null==g||g(!1),e.stopPropagation(),C(!0),Z(),document.addEventListener("mousemove",_),document.addEventListener("mouseup",y),document.addEventListener("pointerup",y),u&&u())},children:[m&&(0,i.tZ)("div",{className:h.handle}),(0,i.tZ)("div",{className:"".concat(h.tooltip," ").concat(f?h.visible:h.hidden," ").concat(h.nonSelectable),children:l})]})},Z=e=>{let{divRef:t,startTimeline:n,railDuration:o,active:l}=e,[s,d]=(0,r.eJ)(null),[c,u]=(0,r.eJ)(!1),m=e=>{if(t.current){let i=t.current.getBoundingClientRect(),{left:r,width:a}=i,l=e.clientX-r;d({x:e.clientX-i.left,time:n+l/a*100/100*o})}},g=()=>u(!0),v=()=>u(!1);return((0,r.d4)(()=>(t.current&&(t.current.addEventListener("mousemove",m),t.current.addEventListener("mouseenter",g),t.current.addEventListener("mouseleave",v)),()=>{t.current&&(t.current.removeEventListener("mousemove",m),t.current.removeEventListener("mouseenter",g),t.current.removeEventListener("mouseleave",v))}),[n,o]),l&&s&&c)?(0,i.BX)("div",{className:a()(h.shadowContainer,h.nonSelectable),style:{left:s.x},children:[(0,i.tZ)("div",{className:h.shadow}),(0,i.tZ)("div",{className:a()(h.tooltip,h.mouseTracker),children:(0,p.DL)(s.time,!0)})]}):null}},46543:function(e,t,n){n.d(t,{i:()=>N});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(30396),s=n(94184),d=n.n(s),c=n(71212),u=n(80569),p=n.n(u),h=n(61649),m=n(15345),g=n(14068),v=n(7654),f=n.n(v),C=n(23493),Z=n.n(C),b=n(75697),w=n(68833),y=n(19081),_=n(43681);let k=e=>{let{clipEnd:t,clipStart:n,post:r,pub:o}=e,l={t:n.toFixed(1),d:(t-n).toFixed(1)},s={variant:"icon",url:(0,b.O1)(null,{post:r,pub:o,useCustomDomainOverOpen:!0,params:l}),onLinkClicked:e=>{(0,w.j)(w.FP.SHARE_LINK_CLICKED,(0,i._)({is_clip:!0,type:e,post_id:r.id},l)),(0,w.j)(w.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"share_to_".concat(e),source:"video clipper"})}},d=(0,_.LM)(s),c=(0,_.oy)(s),u=(0,_.gY)(s),p=(0,_.Wh)(s),h=(0,_.kB)(s);return(0,a.BX)(y.gq,{alignItems:"center",gap:16,children:[d,u,c,p,h]})};var A=n(33804),E=n(40297),x=n(95441),T=n(15771),I=n(82021);function B(e){var t,n,i;let{hideBottomControls:r,initialEnd:o,initialStart:s,isInline:c,videoPlayerRef:u,videoUpload:m,post:g,pub:v,onCancel:C,onSubmit:b,onSubmitLabel:w,minClipDuration:_=1,maxClipDuration:B=Number.MAX_VALUE,minTimelineDuration:L=0,maxTimelineDuration:S=Number.MAX_VALUE}=e,{clipTimes:M,setClipEnd:P,setClipStart:N,zoom:D,setZoom:R}=(0,h.Sr)(),{start:O,end:X}=null!=M?M:{start:null!=s?s:0,end:null!=o?o:Math.min(h.ss,null!==(i=null==m?void 0:m.duration)&&void 0!==i?i:h.ss)};(0,l.d4)(()=>{setTimeout(()=>{var e,t;!M&&(null==u?void 0:null===(t=u.current)||void 0===t?void 0:null===(e=t.player)||void 0===e?void 0:e.duration)&&(N(O),P(X))},1e3)},[]);let[j,z]=(0,l.eJ)(),[U,H]=(0,l.eJ)(!1),{iString:F}=(0,x.M1)(),V=(0,l.Ye)(()=>Z()(e=>{var t;let{time:n}=e;!(null==u?void 0:null===(t=u.current)||void 0===t?void 0:t.player)||f()(n)||(u.current.player.currentTime=n)},10),[u]);(0,l.d4)(()=>{u&&V({time:X})},[X,V,u]),(0,l.d4)(()=>{u&&V({time:O})},[O,V,u]),(0,l.d4)(()=>{let e=async e=>{let{body:{src:t}}=await p().get("/api/v1/video/upload/".concat(e,"/storyboard"));z((await p().get(t)).body)};(null==m?void 0:m.id)&&e(m.id)},[m]);let W=async()=>{H(!0),await (null==b?void 0:b({start:O,duration:X-O,render_transcript_as:void 0})),H(!1)};return u?(0,a.tZ)(A.w,{children:(0,a.tZ)(y.hs,{bg:"primary",className:d()(I.Z.containerElevated,{[I.Z.containerInline]:c}),children:(0,a.BX)(y.tu,{gap:16,flex:"grow",children:[(0,a.tZ)(y.gq,{className:I.Z.videoTrimmerWrapper,children:(null===(t=u.current)||void 0===t?void 0:t.player)&&(0,a.tZ)(E.AM,{videoElement:null===(n=u.current)||void 0===n?void 0:n.player,start:O,setStart:e=>{N(e)},end:X,setEnd:e=>{P(e)},minDuration:_,maxDuration:B,maxTimelineDuration:S,minTimelineDuration:L,storyboard:j,looping:!0,zoom:D,setZoom:R})}),!r&&(0,a.BX)(y.gq,{justifyContent:"space-between",alignItems:"center",gap:16,opacity:U?50:100,children:[(0,a.tZ)(h.l7,{}),(0,a.BX)(y.gq,{alignItems:"center",gap:16,children:[g&&v&&(0,a.tZ)(k,{clipEnd:X,clipStart:O,post:g,pub:v}),C&&(0,a.tZ)(T.zx,{priority:"secondary",onClick:C,disabled:U,children:F("Cancel")}),"string"==typeof w?(0,a.tZ)(T.zx,{priority:"primary",onClick:W,disabled:U,children:w}):null==w?void 0:w(W)]})]})]})})}):null}var L=n(32246),S=n(98914),M=n(70379),P=n(60308);let N=e=>{var t;let{postId:n,visible:s,videoPlayerRef:c}=e,u=(0,o._)(e,["postId","visible","videoPlayerRef"]),{onCancelClipping:p}=(0,h.Sr)(),[m,v]=(0,l.eJ)(!1),[f,C]=(0,l.eJ)(),Z=()=>{if(s){var t,i,r,o;null===(i=c.current)||void 0===i||null===(t=i.player)||void 0===t||t.pause(),(0,w.j)(w.FP.VIDEO_CLIP_CREATE_MODAL_CLOSED,{post_id:null!=n?n:null===(r=e.post)||void 0===r?void 0:r.id}),u.hideBottomControls||(0,w.j)(w.FP.MEDIA_CLIP_CREATE_MODAL_CLOSED,{video_upload_id:u.videoUpload.id,post_id:null!=n?n:null===(o=e.post)||void 0===o?void 0:o.id,is_post_editor:!1})}p()},b=async e=>{var t,n;C({id:(0,S.EH)(),created_at:new Date,media_upload_id:u.videoUpload.id,title:null!==(n=null===(t=u.post)||void 0===t?void 0:t.slug)&&void 0!==n?n:"",start_time:e.start,duration:e.duration,source:"user",assets:[],user_id:null,description:""}),v(!0)};return((0,g.Z)(e.containerRef,Z),s)?(0,a.BX)(y.gq,{className:d()(I.Z.videoTrimmerSlider,{[I.Z.videoTrimmerSliderVisible]:s}),children:[(0,a.tZ)(D,(0,r._)((0,i._)({},u),{videoPlayerRef:c,onCancel:Z,onSubmit:b})),f&&(0,a.tZ)(L._,{videoUpload:u.videoUpload,transcription:null===(t=u.videoUpload.extractedAudio)||void 0===t?void 0:t.transcription,isOpen:m,onClose:()=>{v(!1),p()},clip:f,useDownloadsCenter:!0,surface:"post_view"})]}):null},D=e=>{let{hideBottomControls:t,isInline:n,videoPlayerRef:o,videoUpload:s,post:d,pub:u,onCancel:g,onSubmit:v}=e,f=(0,M.pm)(),C=(0,m.Gi)(),{iString:Z}=(0,x.M1)();(0,l.d4)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);let b=async e=>{var t,n;(0,w.j)(w.FP.VIDEO_CLIP_CREATE_BUTTON_CLICKED,{post_id:null==d?void 0:d.id,media_upload_id:null==d?void 0:null===(t=d.videoUpload)||void 0===t?void 0:t.id,start_time:e.start,end_time:e.start+e.duration}),o&&setTimeout(()=>{var e,t;return null===(t=o.current)||void 0===t?void 0:null===(e=t.player)||void 0===e?void 0:e.pause()},100);try{let t=await p().post("/api/v1/video/assets/".concat(null==s?void 0:s.id,"/clips")).send(e);return C.addMediaUpload({mediaUpload:t.body.mediaUpload,thumbnailUrl:(0,P.kOB)(s),title:null!==(n=null==d?void 0:d.title)&&void 0!==n?n:Z("Download"),source:"user"}),g(),e}catch(e){console.error(e),f.popToast(e=>(0,a.tZ)(M.FN,(0,r._)((0,i._)({},e),{text:Z("Error creating clip")})))}};return(0,a.tZ)(B,{hideBottomControls:t,isInline:n,videoPlayerRef:o,videoUpload:s,post:d,pub:u,onSubmit:null!=v?v:b,onSubmitLabel:e=>(0,a.tZ)(T.zx,{leading:(0,a.tZ)(c.Z,{size:20}),onClick:e,children:Z("Create clip")}),minClipDuration:h.AT,maxClipDuration:h.ar,minTimelineDuration:h.Zl,maxTimelineDuration:h.eD})}},70075:function(e,t,n){n.d(t,{c:()=>Z});var i=n(16584),r=n(98661),o=n(30396),a=n(94874),l=n(15771),s=n(86075),d=n(19081),c=n(98248),u=n(38841),p=n(58175),h=n(71460),m=n(60308);let g={items:"items-SZnmh_",item:"item-VxynEz",isSelected:"isSelected-Yq6O15",showMore:"showMore-rDQFwq",badge:"badge-cOMigQ"},v=e=>{let{items:t,selectItem:n,selectedItem:r,setSelectedItem:o,selectedItemRef:a,query:l}=e;return(0,i.tZ)(i.HY,{children:t.map(e=>(0,i.tZ)(C,{isSelected:r&&e.id===r.id&&e.type===r.type,onClick:()=>n(e),onMouseEnter:()=>o(e),elemRef:r&&e.id===r.id&&e.type===r.type?a:void 0,isDisabled:!!e.disabledReason,children:(0,i.BX)(d.gq,{flex:"grow",alignItems:"center",gap:12,padding:8,children:["user"===e.type&&(0,i.tZ)(f,{item:e,query:l}),"pub"===e.type&&(0,i.BX)(i.HY,{children:[(0,i.tZ)(u.wk,{className:g.profileImg,logoUrl:e.photo_url||(0,m.I4e)(e.id),size:32,publicationName:e.name}),(0,i.BX)(d.tu,{style:{maxWidth:"260px"},children:[(0,i.tZ)(p.xv.B4,{weight:"semibold",color:"primary",ellipsis:!0,as:"div",children:e.name}),e.author_name&&e.author_name.length>0?(0,i.BX)(p.xv.B5,{color:"secondary",ellipsis:!0,translated:!0,children:["by ",I18N.p(e.author_name)]}):null]})]})]})},e.id+e.type))})};function f(e){let{item:t}=e,n=t.publication_name;if(!n&&t.publications&&t.publications.length>0){var r,o;n=t.primary_publication_id?null===(r=t.publications.find(e=>{let{id:n}=e;return n===t.primary_publication_id})||t.publications[0])||void 0===r?void 0:r.name:null===(o=t.publications[0])||void 0===o?void 0:o.name}return(0,i.BX)(i.HY,{children:[(0,i.tZ)(a.qE,{className:g.avatar,photoUrl:(0,m.zF4)(t.photo_url||(0,m.I4e)(t.id),80),size:36}),(0,i.BX)(d.tu,{maxWidth:220,children:[(0,i.BX)(d.gq,{gap:4,minWidth:0,children:[(0,i.tZ)(p.xv.B4,{color:t.disabledReason?"secondary":"primary",weight:"semibold",ellipsis:!0,children:t.name}),0!==t.bestseller_tier&&(0,i.tZ)(h.UserBadge,{className:g.badge,tier:t.bestseller_tier,size:"sm",userId:t.id})]}),"unmentionable"===t.disabledReason?(0,i.tZ)(p.xv.B5,{color:"secondary",children:"\uD83D\uDD12 Mentions disabled"}):n&&t.handle?(0,i.BX)(p.xv.B4,{color:"secondary",ellipsis:!0,children:[t.handle," • ",n]}):n?(0,i.tZ)(p.xv.B5,{color:"secondary",ellipsis:!0,children:n}):t.handle?(0,i.tZ)(p.xv.B4,{color:"secondary",ellipsis:!0,children:t.handle}):null]})]})}let C=e=>{let{children:t,isSelected:n,onClick:r,onMouseEnter:o,elemRef:a,className:l,isDisabled:s}=e;return(0,i.tZ)("button",{className:"".concat(g.item," ").concat(n?g.isSelected:""," ").concat(null!=l?l:""),onClick:r,onMouseEnter:o,onMouseDown:e=>{e.preventDefault();let{target:t}=e;t&&void 0!==t.focus&&t.focus()},ref:a,tabIndex:-1,disabled:s,children:t})},Z=(0,r.forwardRef)((e,t)=>{var n;let{items:r,selectItem:a,query:u,isLoading:p,placeholderText:h,noResultsText:m,minQueryLength:v=0,language:f}=e,{iString:Z}=I18N.i(f),[w,y]=(0,o.eJ)(0),[_,k]=(0,o.eJ)(!1),A=r.size>1,E=Array.from(r.values()).some(e=>e.length>(A?3:6))&&!_,x=Array.from(r.values()).map(e=>_?e:e.slice(0,A?3:6)).flat(),T=(0,o.sO)(),I=null!==(n=x[w])&&void 0!==n?n:null,B=x.length+ +!!E,L=!!E&&w===B-1,S=(0,o.sO)(null);(0,o.d4)(()=>{w>=0&&T.current&&T.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[w,T]);let M=()=>{y((w+B-1)%B)},P=()=>{y((w+1)%B)},N=()=>{I&&a(I),L&&k(!0)};(0,o.d4)(()=>{y(0),k(!1)},[r]);let D=e=>{let t=x.findIndex(t=>t.id===e.id);-1!==t?y(t):y(0)};return((0,o.aP)(t,()=>({getElement:()=>S.current,onKeyDown:e=>{let{event:t}=e;return"ArrowUp"===t.key?(M(),!0):"ArrowDown"===t.key?(P(),!0):"Enter"===t.key&&(N(),!0)}})),h&&(!u||u.length<v))?(0,i.tZ)(d.tu,{className:g.items,alignItems:"center",children:(0,i.tZ)(s.u,{title:h,description:Z("Start typing...")})}):(0,i.BX)("div",{className:g.items,ref:S,children:[Array.from(r.entries()).map(e=>{let[t,n]=e;return(0,i.tZ)(b,{title:A?Z(t):void 0,maxItemsToDisplay:_?void 0:A?3:6,items:n,selectItem:a,selectedItem:I,setSelectedItem:D,selectedItemRef:T,query:u})}),p&&(0,i.tZ)(d.tu,{padding:8,alignItems:"center",children:(0,i.tZ)(c.$j,{})}),!p&&0===B&&(0,i.tZ)(d.gq,{padding:8,children:(0,i.tZ)(s.u,{title:m,description:Z("Try another search...")})}),E&&(0,i.tZ)(d.tu,{padding:8,children:(0,i.tZ)(C,{isSelected:L,onMouseEnter:()=>y(B-1),onClick:()=>k(!0),elemRef:L?T:void 0,className:g.showMore,children:(0,i.tZ)(l.zx,{priority:"secondary",flex:"grow",children:Z("Load more...")})})})]})}),b=e=>{let{title:t,maxItemsToDisplay:n,items:r,selectItem:o,selectedItem:a,setSelectedItem:l,selectedItemRef:s,query:c}=e,u=n?r.slice(0,n):r;return(0,i.BX)(i.HY,{children:[t&&(0,i.tZ)(d.tu,{padding:8,children:(0,i.tZ)(p.xv.Meta,{color:"secondary",weight:"semibold",children:t})}),(0,i.tZ)(v,{items:u,selectItem:o,selectedItem:a,setSelectedItem:l,selectedItemRef:s,query:c})]})}},72984:function(e,t,n){n.d(t,{k:()=>d});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(98661),s=n(98914);let d=(0,l.forwardRef)((e,t)=>{var{onClick:n,href:l,localNavigation:d,newTab:c}=e,u=(0,o._)(e,["onClick","href","localNavigation","newTab"]);let p=l?e=>{(!n||(n.call(e.target,e),!e.defaultPrevented))&&(0,s.uX)(l,{event:e,local_navigation:d,newTab:c})}:n;return(0,a.tZ)("button",(0,r._)((0,i._)({tabIndex:0},u),{ref:t,onClick:p}))})},17117:function(e,t,n){n.d(t,{Z:()=>u});var i=n(16584),r=n(30396),o=n(94184),a=n.n(o),l=n(80569),s=n.n(l),d=n(60308);let c=e=>parseFloat(e).toFixed(2),u=e=>{let{symbol:t,prependSymbol:n=!1,isStatic:o=!1}=e,l="/api/v1/price/".concat(t),[u,p]=(0,r.eJ)(null),[h,m]=(0,r.eJ)(null),[g,v]=(0,r.eJ)(!1);return((0,r.d4)(()=>{(async()=>{try{let e=await s().get(l);if(e.body){if("not_found"===e.body.status){v(!0);return}p(e.body.price),m(e.body.change_pct)}}catch(e){v(!0)}})()},[l]),!n&&t.startsWith("$")&&(t=t.slice(1)),o)?(0,i.tZ)("span",{children:(0,i.BX)("a",{"data-component-name":"CashtagStatic",href:"".concat((0,d.eSs)(t)),children:[t," "]})}):g?(0,i.BX)("span",{children:[t," "]}):(0,i.BX)("a",{className:a()("cashtag",{neutral:0==h,positive:h&&parseFloat(h)>0,negative:h&&0>parseFloat(h)}),target:"_blank",rel:"noopener",href:"".concat((0,d.eSs)(t)),"data-attrs":JSON.stringify({symbol:t}),"data-component-name":"Cashtag",children:["".concat(t.toUpperCase()," "),(0,i.tZ)("span",{children:(0,i.tZ)("span",{children:(0,i.BX)("span",{className:a()("delta"),children:["".concat(c(h||0),"%"),!h||parseFloat(h)>0?String.fromCharCode(8593):String.fromCharCode(8595)]})})})]})}},12277:function(e,t,n){n.d(t,{M:()=>o});var i=n(16584),r=n(30396);let o=e=>{var t;let{attrs:n}=e,o=(0,r.sO)(null);if((0,r.d4)(()=>{let e=e=>{let t;if(!o.current||e.source!==o.current.contentWindow)return;let n=e.data;if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return}n&&"number"==typeof n.height?t=n.height:"number"==typeof n&&(t=n),"number"==typeof t&&t>0&&o.current&&(o.current.style.height="".concat(t,"px"))};if(null==n?void 0:n.url)return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[null==n?void 0:n.url]),!n||!n.url)return null;let a="iframe-pinterest-".concat((null===(t=n.url.split("/").pop())||void 0===t?void 0:t.split("?")[0])||Date.now());return(0,i.tZ)("div",{class:"pinterest-embed-wrap outer","data-url":n.url,children:(0,i.tZ)("iframe",{ref:o,id:a,className:"pinterest-embed-iframe",src:n.url,width:"350px",frameBorder:"0",scrolling:"no",loading:n.belowTheFold?"lazy":void 0,title:n.title||"Pinterest Pin"})})}},74204:function(e,t,n){n.d(t,{$:()=>a});var i=n(16584),r=n(55679),o=n(84892);let a=e=>{let{node:t}=e;return(0,i.tZ)(r.T5,{children:(0,i.tZ)(o.cM,{label:t.attrs.label,src:"/api/v1/audio/upload/".concat(t.attrs.mediaUploadId,"/src"),duration:t.attrs.duration})})}},19691:function(e,t,n){n.d(t,{Z:()=>g});var i=n(7409),r=n(99282),o=n(16584),a=n(30396),l=n(91036),s=n.n(l),d=n(42123),c=n(347),u=n(15771),p=n(19081),h=n(64300),m=n(71075);let g=e=>{let{initialCaption:t,onSave:n,onCancel:l}=e,g=t.replace(/<br\s*\/?>/gi,"\n"),[v,f]=(0,a.eJ)(g);return(0,o.tZ)(c.h,{children:(0,o.BX)(p.tu,{flex:"grow",gap:8,children:[(0,o.tZ)(h.g,(0,r._)((0,i._)({},d.H),{className:m.Z.captionEditor,maxLength:5e3,name:"description",placeholder:"Enter a caption...",rows:6,value:v,onChange:e=>{f(e.target.value)}})),(0,o.BX)(p.hs,{gap:8,justifyContent:"end",paddingY:8,children:[(0,o.tZ)(u.zx,{priority:"secondary",onClick:l,children:"Cancel"}),(0,o.tZ)(u.zx,{priority:"primary",onClick:()=>{let e=v.replace(/\n/g,"<br>");n(s()(e,(0,r._)((0,i._)({},s().defaults),{allowedTags:["br"]})))},children:"Save"})]})]})})}},89198:function(e,t,n){n.d(t,{X:()=>s});var i=n(7409),r=n(99282),o=n(16584),a=n(55679),l=n(17218);let s=e=>{let{node:t,editor:n,deleteNode:s,updateAttributes:d,getPos:c}=e,u=t.attrs,p=(0,r._)((0,i._)({},u),{isEditor:!!n});return(0,o.tZ)(a.T5,{className:"digestPostEmbed","data-drag-handle":"",children:(0,o.tZ)(l.F,(0,r._)((0,i._)({},p),{isEditor:!0,editor:n,updateAttributes:d,deleteNode:s,getPos:c}))})}},17218:function(e,t,n){n.d(t,{F:()=>V});var i=n(7409),r=n(99282),o=n(16584),a=n(30396),l=n(94184),s=n.n(l),d=n(66120),c=n(95441),u=n(15771),p=n(61254),h=n(19081),m=n(84747),g=n(71075);let v=e=>{let{enableExtraSmallOption:t,size:n,onOpen:i,onClose:r,onEditCaption:a,onSetLayout:l,onSetShowBylines:s,showBylines:v,onConvertToLink:f,onConvertToEmbeddedPost:C,onDelete:Z,showBylinesOption:b}=e,{iString:w}=(0,c.M1)();return(0,o.tZ)(h.hs,{className:g.Z.menu,justifyContent:"end",children:(0,o.BX)(m.M,{layerOptions:{placement:"bottom-end"},trigger:(0,o.tZ)(u.hU,{priority:"secondary-outline",children:(0,o.tZ)(d.Z,{size:20})}),onClose:r,onOpen:i,children:[t&&(0,o.tZ)(m.u,{disabled:"xs"===n,onClick:()=>l("xs"),children:w("Extra small display")}),(0,o.tZ)(m.u,{disabled:"sm"===n,onClick:()=>l("sm"),children:w("Small display")}),(0,o.tZ)(m.u,{disabled:"md"===n,onClick:()=>l("md"),children:w("Medium display")}),(0,o.tZ)(m.u,{disabled:"lg"===n,onClick:()=>l("lg"),children:w("Large display")}),(0,o.tZ)(p.iz,{}),b&&(0,o.tZ)(m.u,{onClick:()=>s(!v),children:w(v?"Hide bylines":"Show bylines")}),("lg"===n||"md"===n)&&(0,o.tZ)(m.u,{onClick:a,children:w("Edit caption")}),(0,o.tZ)(m.u,{onClick:()=>C(),children:w("Convert to default")}),(0,o.tZ)(m.u,{onClick:f,children:w("Convert to link")}),(0,o.tZ)(m.u,{priority:"destructive",onClick:Z,children:w("Remove")})]})})};var f=n(26522),C=n(77116),Z=n(57219),b=n(42123),w=n(51776);let y=e=>{let{initialValue:t,placeholder:n,onSave:l,onCancel:s}=e,{iString:d}=(0,c.M1)(),[p,m]=(0,a.eJ)(t),g=(0,a.sO)(null);return(0,a.d4)(()=>{g.current&&(g.current.focus(),g.current.select())},[]),(0,o.BX)(h.tu,{gap:16,children:[(0,o.tZ)(w.oi,(0,r._)((0,i._)({},b.H),{ref:g,placeholder:n,value:p,onInput:e=>{m(e.target.value)}})),(0,o.BX)(h.hs,{gap:8,justifyContent:"end",children:[(0,o.tZ)(u.zx,{priority:"tertiary",onClick:e=>{e.preventDefault(),e.stopPropagation(),null==s||s()},children:d("Cancel")}),(0,o.tZ)(u.zx,{priority:"primary",onClick:e=>{e.preventDefault(),e.stopPropagation(),null==l||l(p.trim())},children:d("Save")})]})]})};var _=n(620),k=n(7523),A=n(32926);let E={link:"link-LXCHWO"},x=e=>{let{disableLinks:t,isEditingTitle:n,post:i,onEditTitle:r,onSaveTitle:a,onCancelTitle:l}=e,{iString:s}=(0,c.M1)(),{title:d,canonical_url:u}=i,p=(0,A.Q)(i);return(0,o.tZ)(_.l,{children:(0,o.BX)(h.tu,{gap:8,children:[(0,o.tZ)(k.Z,{color:"accent",preset:"detail-large",children:p}),n?(0,o.tZ)(h.tu,{padding:8,children:(0,o.tZ)(y,{initialValue:d,placeholder:s("Edit title..."),onCancel:l,onSave:a})}):(0,o.tZ)("a",{href:u,rel:"noopener",target:"_blank",onClick:e=>{t&&e.preventDefault()},children:(0,o.tZ)(k.Z,{className:E.link,preset:"h7-serif",style:{cursor:"pointer"},onClick:null!=r?r:void 0,children:d})})]})})};var T=n(19691),I=n(20888),B=n(74626);let L={button:"button-PdemLh"},S=e=>{let{buttonSize:t,cta:n,disableLinks:i,handleCancelCta:r,handleEditCta:a,handleSaveCta:l,href:s,isEditingCta:d}=e,{iString:u}=(0,c.M1)();return(0,o.tZ)("div",{onClick:d?void 0:null!=a?a:void 0,children:d?(0,o.tZ)(y,{initialValue:n,placeholder:u("Edit CTA..."),onCancel:r,onSave:l}):(0,o.tZ)(B._,{className:L.button,href:s,justifyContent:"start",renderAsLink:!0,size:t,trailingIcon:"chevron-right",variant:"tertiary",onClick:i?e=>{e.preventDefault()}:void 0,children:n||u("Read full story")})})};var M=n(1548);let P=e=>{let{bylines:t}=e;return(null==t?void 0:t.length)?(0,o.tZ)(k.Z,{color:"tertiary",preset:"detail-large",children:(0,o.tZ)(M.M,{array:t||[],formatter:e=>{let{name:t}=e;return t},limit:3})}):null},N=e=>{let{caption:t,cta:n,disableLinks:i,isEditingCaption:r,isEditingTitle:a,isEditingCta:l,post:s,onCancelCaption:d,onCancelTitle:u,onCancelCta:p,onEditCaption:m,onEditTitle:g,onEditCta:v,onSaveCaption:f,onSaveTitle:C,onSaveCta:Z,showBylines:b}=e,{iString:w}=(0,c.M1)(),{publishedBylines:A,title:E,canonical_url:x,cover_image:B,cover_image_alt:L}=s;return(0,o.tZ)(_.l,{children:(0,o.BX)(h.tu,{children:[(0,o.tZ)(h.tu,{paddingBottom:12,children:a?(0,o.tZ)(h.tu,{padding:8,children:(0,o.tZ)(y,{initialValue:E,placeholder:w("Edit title..."),onCancel:u,onSave:C})}):(0,o.tZ)("a",{href:x,rel:"noopener",target:"_blank",onClick:e=>{i&&e.preventDefault()},children:(0,o.tZ)(k.Z,{preset:"h5-sans",onClick:null!=g?g:void 0,children:E})})}),(0,o.tZ)(h.tu,{paddingBottom:12,children:b&&(0,o.tZ)(P,{bylines:A})}),B&&(0,o.tZ)(h.tu,{paddingBottom:16,children:(0,o.tZ)("a",{href:x,rel:"noopener",target:"_blank",onClick:e=>{i&&e.preventDefault()},children:(0,o.tZ)(I.e,{alt:null!=L?L:E,imageProps:{height:Math.round(650),smartCrop:!0},maxWidth:1300,src:B})})}),(0,o.tZ)(h.hs,{flex:"grow",paddingBottom:8,children:(0,o.tZ)("div",{className:"captionContainer-e38vU2",children:r&&d&&f?(0,o.tZ)(h.tu,{paddingX:8,children:(0,o.tZ)(T.Z,{initialCaption:t,onCancel:d,onSave:f})}):(0,o.tZ)("p",{dangerouslySetInnerHTML:{__html:t},onClick:null!=m?m:void 0})})}),(0,o.tZ)(S,{cta:n,disableLinks:i,handleCancelCta:p,handleEditCta:v,handleSaveCta:Z,href:x,isEditingCta:l})]})})};var D=n(98422);let R={imageLink:"imageLink-AC6EYn",image:"image-DiWGMJ",imageMobile:"imageMobile-PivMk8"},O=e=>{var t;let{disableLinks:n,post:i,isEditingTitle:r,onEditTitle:a,onSaveTitle:l,onCancelTitle:d,isEditingCta:u,onEditCta:p,onCancelCta:m,onSaveCta:g,cta:v,showBylines:f}=e,{iString:C}=(0,c.M1)(),{isMobile:Z}=(0,D.v9)(),{publishedBylines:b,title:w,canonical_url:A,cover_image:E,cover_image_alt:x}=i;return(0,o.tZ)(_.l,{children:(0,o.BX)(h.gq,{alignItems:"stretch",gap:16,children:[E&&(0,o.tZ)("a",{className:R.imageLink,href:A,rel:"noopener",target:"_blank",onClick:e=>{n&&e.preventDefault()},children:(0,o.tZ)(I.e,{alt:null!=x?x:w,className:s()(R.image,{[null!==(t=R.imageMobile)&&void 0!==t?t:""]:Z}),imageProps:{height:Z?180:300,smartCrop:!0,aspect:"1:1"},maxWidth:Z?180:300,src:E})}),(0,o.BX)(h.tu,{flex:"grow",gap:8,children:[r?(0,o.tZ)(h.tu,{paddingRight:8,paddingY:8,children:(0,o.tZ)(y,{initialValue:w,placeholder:C("Edit title..."),onCancel:d,onSave:l})}):(0,o.tZ)("a",{href:A,rel:"noopener",target:"_blank",onClick:e=>{n&&e.preventDefault()},children:(0,o.tZ)(k.Z,{preset:"h5-sans",style:n?{}:{cursor:"pointer"},onClick:null!=a?a:void 0,children:w})}),f&&(0,o.tZ)(P,{bylines:b}),(0,o.tZ)(S,{cta:v,disableLinks:n,handleCancelCta:m,handleEditCta:p,handleSaveCta:g,href:A,isEditingCta:u})]})]})})},X=e=>{let{post:t,disableLinks:n,isEditingTitle:i,onEditTitle:r,onSaveTitle:a,onCancelTitle:l,onEditCta:s,onSaveCta:d,onCancelCta:u,isEditingCta:p,showBylines:m,cta:g}=e,{iString:v}=(0,c.M1)(),{publishedBylines:f,title:C,canonical_url:Z}=t;return(0,o.tZ)(_.l,{children:(0,o.BX)(h.tu,{gap:4,children:[(0,o.BX)(h.tu,{gap:8,children:[i?(0,o.tZ)(h.tu,{padding:8,children:(0,o.tZ)(y,{initialValue:C,placeholder:v("Edit title..."),onCancel:l,onSave:a})}):(0,o.tZ)("a",{href:Z,rel:"noopener",target:"_blank",onClick:e=>{n&&e.preventDefault()},children:(0,o.tZ)(k.Z,{preset:"h5-sans",onClick:null!=r?r:void 0,children:C})}),m&&(0,o.tZ)(P,{bylines:f})]}),(0,o.tZ)(S,{buttonSize:"sm",cta:g,disableLinks:n,handleCancelCta:u,handleEditCta:s,handleSaveCta:d,href:Z,isEditingCta:p})]})})};var j=n(6070);let z=e=>{document.dispatchEvent(new CustomEvent("updateDigestPostEmbed",{detail:e,bubbles:!0}))},U=e=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToLink",{detail:e,bubbles:!0}))},H=e=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToEmbeddedPost",{detail:e,bubbles:!0}))},F=()=>{document.dispatchEvent(new CustomEvent("deleteDigestPostEmbed",{bubbles:!0}))},V=e=>{let{nodeId:t,caption:n,cta:l,size:d="lg",isEditor:c,showBylines:u,title:p,publishedBylines:h,post_date:m,cover_image:b,cover_image_alt:w,canonical_url:y,section_name:_,id:k,type:A,video_upload_id:E,reaction_count:T,comment_count:I,publication_name:B,publication_logo_url:L,editor:S,updateAttributes:M,deleteNode:P,getPos:D,pub:R}=e,[V,W]=(0,a.eJ)(!1),[q,Y]=(0,a.eJ)(!1),[J,G]=(0,a.eJ)(!1),[K,Q]=(0,a.eJ)(!1),[$,ee]=(0,a.eJ)(!1),et=(0,j.HD)({pub:R}),en={title:p,publishedBylines:h,post_date:m,cover_image:b,cover_image_alt:w,canonical_url:y,section_name:_,id:k,type:A,video_upload_id:E,reaction_count:T,comment_count:I,publication_name:B,publication_logo_url:L},ei=()=>{Y(!0),W(!1),z({nodeId:t,shouldDisableDrag:!0})},er={onCancelTitle:c?()=>{G(!1),z({nodeId:t,shouldDisableDrag:!1})}:null,onEditTitle:c?()=>{G(!0),W(!1),z({nodeId:t,shouldDisableDrag:!0})}:null,onSaveTitle:c?e=>{G(!1),M?M({title:e}):z({nodeId:t,title:e,shouldDisableDrag:!1})}:null,isEditingTitle:J},eo={onCancelCaption:c?()=>{Y(!1),z({nodeId:t,shouldDisableDrag:!1})}:null,onEditCaption:c?ei:null,onSaveCaption:c?e=>{Y(!1),M?M({caption:e}):z({nodeId:t,caption:e,shouldDisableDrag:!1})}:null,isEditingCaption:q},ea={onCancelCta:c?()=>{Q(!1),z({nodeId:t,shouldDisableDrag:!1})}:null,onEditCta:c?()=>{Q(!0),W(!1),z({nodeId:t,shouldDisableDrag:!0})}:null,onSaveCta:c?e=>{Q(!1),M?M({cta:e}):z({nodeId:t,cta:e,shouldDisableDrag:!1})}:null,isEditingCta:K};return(0,o.tZ)("div",{className:s()(g.Z.digestPostEmbed),"data-component-name":"DigestPostEmbed",onMouseEnter:()=>!q&&!J&&W(!0),onMouseLeave:()=>!$&&W(!1),children:(0,o.BX)(o.HY,{children:[c&&V&&(0,o.tZ)(v,{enableExtraSmallOption:et,showBylines:u,showBylinesOption:et,size:d,onClose:()=>ee(!1),onConvertToEmbeddedPost:()=>{S&&D?S.commands.convertDigestPostEmbedToEmbeddedPostV2({pos:D(),attrs:(0,i._)({url:y},en)}):H({url:y})},onConvertToLink:()=>{S&&D?S.commands.convertDigestPostEmbedToLinkV2({pos:D(),url:y}):U({url:y})},onDelete:()=>{P?P():F()},onEditCaption:ei,onOpen:()=>ee(!0),onSetLayout:e=>{M?M({size:e}):z((0,i._)({nodeId:t,caption:n,cta:l,size:e,shouldDisableDrag:!1},en))},onSetShowBylines:e=>{M?M({showBylines:e}):z((0,i._)({nodeId:t,showBylines:e,shouldDisableDrag:!1},en))}}),"xs"===d&&(et?(0,o.tZ)(x,(0,r._)((0,i._)({},er),{disableLinks:c,post:en})):(0,o.tZ)(Z.u,{disableLinks:c,post:en})),"sm"===d&&(et?(0,o.tZ)(X,(0,r._)((0,i._)({},er,ea),{cta:l,disableLinks:c,post:en,showBylines:u})):(0,o.tZ)(Z.u,{disableLinks:c,post:en})),"md"===d&&(et?(0,o.tZ)(O,(0,r._)((0,i._)({},er,ea),{cta:l,disableLinks:c,post:en,showBylines:u})):(0,o.tZ)(C.a,(0,r._)((0,i._)({},eo),{caption:n,disableLinks:c,post:en}))),"lg"===d&&(et?(0,o.tZ)(N,(0,r._)((0,i._)({},eo,er,ea),{caption:n,cta:l,disableLinks:c,post:en,showBylines:u})):(0,o.tZ)(f.c,(0,r._)((0,i._)({},eo),{caption:n,disableLinks:c,post:en})))]})})}},42123:function(e,t,n){n.d(t,{H:()=>r});let i=e=>{e.stopPropagation()},r={onKeyPress:i,onCopy:i,onPaste:i,onKeyDown:i,onMouseDown:i}},33730:function(e,t,n){n.d(t,{V:()=>p});var i=n(58865),r=n(16584),o=n(55679),a=n(28596),l=n(347),s=n(95441),d=n(15771),c=n(19081);function u(){let e=(0,i._)(["Message ",""]);return u=function(){return e},e}let p=e=>{let{node:t}=e,n=t.attrs,{iTemplate:i}=(0,s.M1)();return(0,r.tZ)(o.T5,{className:"directMessage","data-drag-handle":"",children:(0,r.tZ)(l.h,{children:(0,r.tZ)(c.tu,{alignItems:"center",justifyContent:"center",flex:"grow",style:{marginBottom:"20px"},children:(0,r.tZ)(d.zx,{priority:"primary",leading:(0,r.tZ)(a.Z,{size:20}),children:i(u(),n.userName)})})})})}},87847:function(e,t,n){n.d(t,{p:()=>s});var i=n(7409),r=n(16584),o=n(55679),a=n(16973),l=n(58175);let s=e=>{var t;let{node:n,editor:s,deleteNode:d,updateAttributes:c,getPos:u}=e,p=n.attrs,h="undefined"!=typeof window?null===(t=window._preloads)||void 0===t?void 0:t.pub:null;return h?(0,r.tZ)(o.T5,{className:"fpRecircBlock","data-drag-handle":"",children:(0,r.tZ)(a.N,(0,i._)({pub:h,isEditor:!0,editor:s,updateAttributes:c,deleteNode:d,getPos:u},p))}):(0,r.tZ)(l.xv,{translated:!0,children:"Error: Publication not found"})}},11809:function(e,t,n){n.d(t,{l:()=>a});var i=n(30396),r=n(80569),o=n.n(r);let a=e=>{let{pubId:t,onSelectPost:n}=e,[r,a]=(0,i.eJ)(""),[l,s]=(0,i.eJ)([]),[d,c]=(0,i.eJ)(!1),u=(0,i.sO)(null),p=(0,i.I4)(e=>{if(a(e),u.current&&clearTimeout(u.current),!e.trim()){s([]);return}c(!0),u.current=window.setTimeout(async()=>{try{let n=await o().get("/api/v1/post/search").query({query:e,focusedPublicationId:t,numberFocused:10}),i=(n.body.focused||n.body.results||[]).map(e=>{var t,n,i;return{id:e.id,title:e.title,author_name:(null===(n=e.publishedBylines)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.name)||e.author_name,author_names:null===(i=e.publishedBylines)||void 0===i?void 0:i.map(e=>e.name),cover_image:e.cover_image,canonical_url:e.canonical_url,post_date:e.post_date}});s(i)}catch(e){console.error("Error searching posts:",e),s([])}finally{c(!1)}},300)},[t]);return{searchQuery:r,searchResults:l,isSearching:d,handleSearch:p,clearSearch:(0,i.I4)(()=>{u.current&&clearTimeout(u.current),a(""),s([]),c(!1)},[]),onSelectPost:n}}},78532:function(e,t,n){let i;n.d(t,{_:()=>L});var r=n(16584),o=n(30396),a=n(55679),l=n(94184),s=n.n(l),d=n(25235),c=n(31992),u=n(29942),p=n(62686),h=n(40160),m=n(8700),g=n(99869),v=n(92027),f=n(2563),C=n(20888),Z=n(95441),b=n(15771),w=n(19081),y=n(21685),_=n(58175),k=n(51776),A=n(87077),E=n(60308),x=n(57747);let T={normal:"large",large:"full",full:"normal"},I=e=>{let{alt:t,onUpdateAlt:n}=e,{iString:i}=(0,Z.M1)();return(0,r.tZ)(w.tu,{gap:8,justifyContent:"center",className:x.Z.mediaControlTextEditor,children:(0,r.BX)(w.tu,{gap:8,children:[(0,r.tZ)(_.xv.B3,{translated:!0,font:"meta",color:"secondary",children:"Alt text"}),(0,r.tZ)(k.oi,{value:t,onChange:e=>n(e.currentTarget.value),placeholder:i("Describe images…")})]})})},B=e=>{let{href:t,onSave:n}=e,[i,a]=(0,o.eJ)(t||""),{iString:l}=(0,Z.M1)();return(0,r.BX)(w.tu,{gap:8,justifyContent:"center",className:x.Z.mediaControlTextEditor,children:[(0,r.BX)(w.tu,{gap:4,children:[(0,r.tZ)(_.xv.B3,{translated:!0,font:"meta",color:"secondary",children:"URL"}),(0,r.tZ)(k.oi,{placeholder:"Add image link…",value:i,onChange:e=>a(e.currentTarget.value)})]}),(0,r.BX)(w.gq,{gap:8,children:[t&&(0,r.tZ)(b.zx,{priority:"destructive",size:"sm",onClick:()=>n(null),children:l("Remove")}),(0,r.tZ)(b.zx,{priority:"primary",size:"sm",onClick:()=>{let e=(0,d.find)(i,"url");e.length?n(e[0].href.replace("http:","https:")):alert(l("Invalid url"))},disabled:t===i||!i.length,children:(null==t?void 0:t.length)?l("Update"):l("Save")})]})]})},L=e=>{var t;let{node:n,updateAttributes:l}=e,[d,_]=(0,o.eJ)(!1),[k,L]=(0,o.eJ)(0),[S,M]=(0,o.eJ)(0),P=(0,o.sO)(null),{iString:N}=(0,Z.M1)(),D=()=>{let e=document.querySelector(".ProseMirror");e&&M(null==e?void 0:e.clientWidth),P.current&&(P.current.onload=()=>{P.current&&L(P.current.naturalWidth/P.current.naturalHeight)})},R=e=>{i=e};(0,o.d4)(()=>{D()});let[O,X]=(0,o.eJ)(!1),j=e=>{let{width:t,height:n}=e;return t<50||n<50},z=e=>{e.preventDefault(),setTimeout(()=>F(e))},U=()=>{X(!1),i=-1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",U)},H=(e,t)=>{var n,i;if(!P.current){console.error("Media ref is undefined|null",{resizableImg:P.current});return}let r={width:null===(n=P.current)||void 0===n?void 0:n.width,height:null===(i=P.current)||void 0===i?void 0:i.height},o={width:-1,height:-1};"left"===e?o.width=r.width-Math.abs(t):o.width=r.width+Math.abs(t),o.width>S&&(o.width=S),o.height=o.width/k,j(o)||l(o)},F=e=>{if(-1===i)return;let{clientX:t}=e,n=i-t;if(0===n)return;let r=n>0?"left":"right";setTimeout(()=>{H(r,Math.abs(n)),i=t})},V=e=>{let t={size:e,width:"100%"};"normal"!==e&&(t.height="auto",t.align="center"),"large"===e&&(t.width=E.urw),"full"===e&&(t.width=E.hI6),l(t)};return(0,r.BX)(a.T5,{as:"figure",className:s()(x.Z.mediaNodeView,n.attrs.align&&x.Z["align-".concat(n.attrs.align)||""]),"data-drag-handle":"",children:[(0,r.BX)(w.gq,{className:s()(x.Z.imageContainer,x.Z[n.attrs.size]),children:[(0,r.BX)(w.tu,{gap:8,children:[(0,r.BX)(w.gq,{justifyContent:"center",style:{position:"relative"},children:[(0,r.tZ)(C.e,{className:x.Z[n.attrs.size],src:n.attrs.src,alt:n.attrs.alt,title:n.attrs.title,style:{pointerEvents:"none"},maxWidth:(()=>{switch(n.attrs.size){case"large":return E.urw;case"full":return window.innerWidth;default:if("100%"===n.attrs.width)return E.qN9;return n.attrs.width}})(),imageRef:P,useRetinaSizing:!0,imageIsFixedWidth:!1}),"normal"===n.attrs.size&&(0,r.tZ)("div",{className:s()(x.Z.horizontalResizeHandle),title:N("Resize"),onClick:e=>{let{clientX:t}=e;return R(t)},onPointerDown:e=>{X(!0),i=e.clientX,setTimeout(()=>{document.addEventListener("pointermove",z),document.addEventListener("pointerup",U)})},onPointerUp:U,children:(0,r.tZ)(b.hU,{priority:"secondary",children:(0,r.tZ)(c.Z,{height:18,color:"#2b2e3b"})})})]}),(0,r.BX)(w.gq,{justifyContent:"center",className:s()(x.Z.inlineCaptionEditor,{[x.Z.hasCaption]:null===(t=n.content)||void 0===t?void 0:t.size}),children:[(0,r.tZ)(a.ms,{as:"figcaption",className:x.Z.caption,contenteditable:!0}),!n.content.size&&(0,r.tZ)("div",{className:s()(x.Z.caption,x.Z.placeholder),children:"Add caption…"})]})]}),(0,r.BX)(w.gq,{gap:4,className:s()(x.Z.mediaControlButtons),children:[(0,r.tZ)(A.u,{text:N("Toggle standard, large, full-screen"),preferPlacement:"top-center",children:(0,r.tZ)(b.hU,{priority:"tertiary",onClick:()=>V(T[n.attrs.size]),children:(0,r.tZ)(u.Z,{height:18,color:"#2b2e3b"})})}),"normal"===n.attrs.size&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(A.u,{text:N("Align left"),preferPlacement:"top-center",children:(0,r.tZ)(b.hU,{priority:"tertiary",className:s()("left"===n.attrs.align&&x.Z.active),onClick:()=>l({align:"left"}),children:(0,r.tZ)(p.Z,{height:18,color:"#2b2e3b"})})}),(0,r.tZ)(A.u,{text:N("Align center"),preferPlacement:"top-center",children:(0,r.tZ)(b.hU,{priority:"tertiary",className:s()("center"===n.attrs.align&&x.Z.active),onClick:()=>l({align:"center"}),children:(0,r.tZ)(h.Z,{height:18,color:"#2b2e3b"})})}),(0,r.tZ)(A.u,{text:N("Align right"),preferPlacement:"top-center",children:(0,r.tZ)(b.hU,{priority:"tertiary",className:s()("right"===n.attrs.align&&x.Z.active),onClick:()=>l({align:"right"}),children:(0,r.tZ)(m.Z,{height:18,color:"#2b2e3b"})})})]}),(0,r.tZ)(A.u,{text:N("Add link"),preferPlacement:"top-center",children:(0,r.tZ)(y.J,{trigger:(0,r.tZ)(b.hU,{priority:"tertiary",children:(0,r.tZ)(g.Z,{height:18,color:"#2b2e3b"})}),placement:"bottom-start",children:e=>{let{close:t}=e;return(0,r.tZ)(B,{href:n.attrs.href,onSave:e=>{l({href:e}),t()}})}})}),(0,r.tZ)(A.u,{text:N("Edit alt text"),preferPlacement:"top-center",children:(0,r.tZ)(y.J,{trigger:(0,r.tZ)(b.hU,{priority:"tertiary",children:(0,r.tZ)(v.Z,{height:18,color:"#2b2e3b"})}),placement:"bottom-start",children:(0,r.tZ)(I,{alt:n.attrs.alt,onUpdateAlt:e=>l({alt:e})})})})]})]}),(0,r.tZ)(f.ImageViewerModal,{showModal:d,modalContent:[{attrs:n.attrs}],onClose:()=>_(!1),step:0})]})}},72183:function(e,t,n){n.d(t,{Z:()=>E});var i=n(7409),r=n(58865),o=n(16584),a=n(30396),l=n(27194),s=n(78435),d=n(95441),c=n(14952),u=n(40647),p=n(15771),h=n(82402),m=n(19081),g=n(1844),v=n(68709),f=n(6490),C=n(17688),Z=n(58175),b=n(51776),w=n(87077);function y(){let e=(0,r._)(["Each option must be between 1 and "," characters long."]);return y=function(){return e},e}function _(){let e=(0,r._)(["The description must be less than "," characters long."]);return _=function(){return e},e}let k=(e,t)=>{let{question:n,description:i,expiry:r,audience:o,options:a}=e,{iString:l,iTemplate:s}=I18N.i(t),d=a.filter(Boolean);if(n.length<1||n.length>255)return l("The question must be between 1 and 255 characters long.");if(d.length<2||d.length>5)return l("Your poll must have 2 to 5 options.");if(d.some(e=>e.length<1||e.length>35))return s(y(),35);if(!["all_subscribers","only_paid"].includes(o))return l("Your poll audience is invalid.");if(![1,24,72,168,999999].includes(r))return l("The length of your poll is invalid.");else if(i.length>250)return s(_(),250);return null},A=e=>{let{index:t,text:n,onChange:i,onDelete:r,showDeleteButton:a,disabled:c}=e,{language:u}=(0,d.M1)();return(0,o.BX)(m.X2,{flex:"grow",gap:8,children:[(0,o.tZ)(b.oi,{disabled:c,flex:"grow",maxLength:35,placeholder:(0,s.v8)(t,u),value:n,onChange:e=>{i(t,e.currentTarget.value)}}),a&&(0,o.tZ)(p.hU,{disabled:c,priority:"tertiary",tabIndex:a?void 0:-1,onClick:()=>r(t),children:(0,o.tZ)(l.Z,{size:20})})]})},E=e=>{let{poll:t,isOpen:n,onClose:r,onSave:l,isPublished:s,shouldShowAudiencePicker:y}=e,_=t.options.map(e=>e.label);_.length>1?_.length<5&&_.push(""):_=["",""];let{iString:E,language:x,iPlural:T}=(0,d.M1)(),{getConfigFor:I}=(0,u.xR)(),{payments_state:B}=(0,c.Ij)()||{},L=!!I("enable_description_on_polls"),S=y&&"enabled"===B?"only_paid":"all_subscribers",[M,P]=(0,a.eJ)(t.question||""),[N,D]=(0,a.eJ)(t.description||""),[R,O]=(0,a.eJ)(_),[X,j]=(0,a.eJ)(t.expiry||24),[z,U]=(0,a.eJ)(t.audience||S),[H,F]=(0,a.eJ)(!1),[V,W]=(0,a.eJ)(t.votes_hidden||!1),[q,Y]=(0,a.eJ)(null),J=k({question:M,description:N,options:R,expiry:X,audience:z},x),G=(0,a.I4)(()=>{var e;P(t.question||""),D(t.description||""),O((null===(e=t.options)||void 0===e?void 0:e.map(e=>e.label))||["",""]),j(t.expiry||24),U(t.audience||S),W(t.votes_hidden||!1),Y(null),r()},[t.question,t.description,t.options,t.expiry,t.audience,t.votes_hidden,S,r]),K=(0,a.I4)(e=>{let{value:t}=e;["only_paid","all_subscribers"].includes(t)&&U(t)},[]),Q=(0,a.I4)(e=>{let{value:t}=e,n=Number(t);[1,24,72,168,999999].includes(n)&&j(n)},[]),$=(0,a.I4)((e,t)=>{let n=[...R];n.splice(e,1,t),e===n.length-1&&n.length<5&&n.push(""),O(n)},[R]),ee=(0,a.I4)(e=>{var t;if(R.length<=2||e>=R.length)return;let n=[...R];n.splice(e,1),(null===(t=n[n.length-1])||void 0===t?void 0:t.length)&&n.push(""),O(n)},[R]),et=Array(Math.max(2,R.length||0)).fill("").map((e,t)=>R.length>t?R[t]:e),en=q||s&&t.total_votes>0&&T("This poll is part of a post that has already been published. If you modify it, 1 existing vote will be removed.","This poll is part of a post that has already been published. If you modify it, %1 existing votes will be removed.",t.total_votes);return(0,o.BX)(f.u_,{className:"poll-editor-modal",isOpen:n,onClose:r,children:[(0,o.tZ)(f.xB,{showClose:!0,showDivider:!0,title:E("Edit poll"),onClose:r}),(0,o.tZ)(f.fe,{children:(0,o.BX)(m.sg,{gap:20,children:[(0,o.BX)(b.fv,{children:[(0,o.tZ)(v.__,{children:E("Poll question")}),(0,o.tZ)(b.oi,{disabled:H,maxLength:255,placeholder:E("Enter your question..."),value:M,onChange:e=>P(e.currentTarget.value)})]}),L&&(0,o.BX)(b.fv,{children:[(0,o.tZ)(v.__,{children:E("Poll description")}),(0,o.tZ)(b.oi,{disabled:H,maxLength:250,placeholder:E("Enter your description..."),value:N,onChange:e=>D(e.currentTarget.value)})]}),(0,o.BX)(b.fv,{children:[(0,o.tZ)(v.__,{children:E("Poll options")}),et.map((e,t)=>(0,o.tZ)(A,{disabled:H,index:t,showDeleteButton:et.length>2&&(t<et.length-1||e&&e.length>0),text:e,onChange:$,onDelete:ee},t))]}),(0,o.BX)(b.fv,{children:[(0,o.tZ)(v.__,{children:E("Poll duration")}),(0,o.BX)(C.i,{disabled:H,value:String(X),onChange:e=>Q({value:e.target.value}),children:[(0,o.tZ)("option",{value:"1",children:E("1 hour")}),(0,o.tZ)("option",{value:"24",children:E("1 day")}),(0,o.tZ)("option",{value:"72",children:E("3 days")}),(0,o.tZ)("option",{value:"168",children:E("1 week")}),(0,o.tZ)("option",{value:"999999",children:E("Forever")})]})]}),y&&"enabled"===B&&(0,o.BX)(b.fv,{children:[(0,o.tZ)(v.__,{children:E("Who can vote?")}),(0,o.BX)(C.i,{disabled:H,value:z,onChange:e=>K({value:e.target.value}),children:[(0,o.tZ)("option",{value:"only_paid",children:E("Only paid subscribers")}),(0,o.tZ)("option",{value:"all_subscribers",children:E("All subscribers who can see this post")})]})]}),(0,o.tZ)("label",{children:(0,o.BX)(m.X2,{alignItems:"center",gap:12,children:[(0,o.tZ)(h.X,{checked:V,name:"votes-hidden",onChange:()=>W(!V)}),(0,o.tZ)(Z.xv.B3,{children:E("Hide the total vote count from readers?")})]})}),en&&(0,o.tZ)(b.fv,{children:(0,o.tZ)(g.y,{children:en})})]})}),(0,o.tZ)(f.mz,{primaryButton:(0,o.tZ)(w.u,{disabled:null===J,text:null!=J?J:"",children:(0,o.tZ)(p.zx,{disabled:null!==J||H,priority:"primary",onClick:async()=>{let e=k({question:M,description:N,options:R,expiry:X,audience:z},x);if(e){Y(e);return}F(!0),Y(null);try{await l((0,i._)({audience:z,question:M,options:R.filter(Boolean),expiry:X,votes_hidden:V},L?{description:N}:{}))}catch(e){Y(E("An error occurred while saving this poll."))}finally{F(!1)}},children:E("Save")})}),secondaryButton:(0,o.tZ)(p.zx,{disabled:H,priority:"secondary",onClick:G,children:E("Cancel")}),showDivider:!0})]})}},38724:function(e,t,n){n.d(t,{Z:()=>u});var i=n(7409),r=n(99282),o=n(16584),a=n(20253),l=n(93666),s=n(68833),d=n(60308),c=n(47929);class u extends l.p{onOpen(){var e;(0,s.j)(s.FP.POLL_SIGNUP_DIALOG_PRESENTED,{poll_id:this.props.pollId,post_id:null===(e=this.props.post)||void 0===e?void 0:e.id})}onClose(){var e;(0,s.j)(s.FP.POLL_SIGNUP_DIALOG_CLOSED,{poll_id:this.props.pollId,post_id:null===(e=this.props.post)||void 0===e?void 0:e.id})}renderChildren(){let{pub:e,post:t,user:n,audience:l,pollId:u}=this.props,{email:p}=this.state;return(0,o.BX)("div",{children:[(0,o.BX)("div",{className:"poll-signup-header",children:[(0,o.tZ)("div",{className:"poll-signup-title",children:"Subscribe to ".concat(null==e?void 0:e.name," to vote on this poll")}),(0,o.BX)("div",{className:"poll-signup-audience",children:["Only ","only_paid"===l?"paid subscribers":"subscribers"," can vote on this poll."]})]}),(0,o.BX)(a.ZP,{action:(0,d.n1t)("/api/v1/free"),autoLock:!0,loading:!1,method:"post",onSuccess:n=>{(0,s.IU)(),(0,s.j)(s.FP.POLL_SIGNUP_DIALOG_SUBMITTED,{poll_id:u,post_id:null==t?void 0:t.id}),e&&(e.plans||e.has_recommendations)?document.location.href=(0,d.W1P)(e,(0,r._)((0,i._)({utm_medium:c.lP.web,utm_source:c.b3.pollSubscribeModal,utm_content:t&&t.id,just_signed_up:!0,requires_confirmation:n.body.requires_confirmation?"true":""},n.body.subscription_id&&{subscription_id:n.body.subscription_id},n.body.referral_token&&{referral_token:n.body.referral_token}),{next:(0,d.uRy)(e,t)})):document.location.reload()},children:[(0,o.BX)("div",{className:"poll-signup",children:[(0,o.tZ)("input",{"aria-label":"Email",disabled:!!n.email,name:"email",placeholder:"Type your email...",tabIndex:0,type:"email",value:null!=p?p:void 0,onChange:e=>{this.setState({email:e.target.value})}}),(0,o.tZ)("input",{name:"source",type:"hidden",value:"poll-subscribe-modal"})]}),(0,o.tZ)("div",{id:"error-container"}),(0,o.tZ)("button",{className:"button primary",type:"submit",children:"Subscribe"})]}),!n.email&&(0,o.BX)("div",{className:"poll-signin-prompt",children:["Already a subscriber?"," ",(0,o.tZ)("a",{className:"poll-signin-link",href:(0,d.uXE)({for_pub:null==e?void 0:e.subdomain,redirect:(0,d.uRy)(e,t)}),children:"Sign in"})]})]})}constructor(e,t){var n,i;super(e,t),this.state.email=null!==(i=null===(n=this.props.user)||void 0===n?void 0:n.email)&&void 0!==i?i:null}}},77216:function(e,t,n){n.d(t,{Z:()=>s});var i=n(16584),r=n(13639),o=n(95441),a=n(19081),l=n(58175);let s=e=>{let{poll:t}=e,{iString:n}=(0,o.M1)(),s=null==t?void 0:t.audience,d=null==t?void 0:t.question,c=null==t?void 0:t.description;return(0,i.BX)(a.tu,{gap:4,children:[(0,i.tZ)(a.gq,{alignItems:"baseline",className:"poll-title",gap:4,children:"only_paid"===s?(0,i.BX)(i.HY,{children:[(0,i.tZ)(r.Z,{size:16}),(0,i.tZ)(l.xv.Meta,{className:"subscriber-only-poll",translated:!0,children:"SUBSCRIBER-ONLY POLL"})]}):(0,i.tZ)(l.xv.Meta,{translated:!0,children:"POLL"})}),(0,i.tZ)(l.xv.H3,{className:"poll-question",color:"pub-primary-text",children:d||n("New Poll")}),c&&(0,i.tZ)(l.xv.B3,{color:"pub-secondary-text",children:c})]})}},38735:function(e,t,n){n.d(t,{k:()=>p});var i=n(7409),r=n(58865),o=n(16584),a=n(95441),l=n(58175);function s(){let e=(0,r._)([""," DAYS REMAINING"]);return s=function(){return e},e}function d(){let e=(0,r._)(["1 DAY REMAINING"]);return d=function(){return e},e}function c(){let e=(0,r._)([""," HOURS REMAINING"]);return c=function(){return e},e}let u=e=>{let{isExpired:t,remainingHours:n,language:i}=e,{iString:r,iTemplate:o}=I18N.i(i);if(t)return r("POLL CLOSED");if(n>=168)return"";if(n>=48){let e=Math.floor(n/24);return o(s(),e)}return n>=24?o(d()):n>=2?o(c(),n):r(1==n?"1 HOUR REMAINING":"LESS THAN 1 HOUR REMAINING")},p=e=>{let{hasVoted:t,isExpired:n,poll:r,remainingHours:s,showResults:d,user:c,onToggleShowResults:p}=e,{iString:h,iPlural:m,language:g}=(0,a.M1)(),v=(0,i._)({is_contributor:!1,is_author:!1,is_admin:!1},c),f=v.is_contributor||v.is_admin||v.is_author,C=m("%1 VOTE","%1 VOTES",r.total_votes),Z=u({isExpired:n,remainingHours:s,language:g});return(0,o.BX)(l.xv.Meta,{className:"poll-status",children:[(f||!r.votes_hidden)&&"".concat(C," \xb7 "),Z,f&&!t&&!n&&(0,o.BX)(o.HY,{children:[" \xb7 ",(0,o.tZ)("span",{className:"poll-author-visibility-toggle",title:h("Only the author, contributors, and admins may view results before voting."),onClick:()=>{p()},children:h(d?"SHOW OPTIONS":"SHOW RESULTS")})]})]})}},52573:function(e,t,n){n.d(t,{w:()=>s});var i=n(16584),r=n(30396),o=n(94184),a=n.n(o),l=n(18693);let s=e=>{let{id:t,text:n,onVote:o,showVotes:s,currentVotes:d,totalVotes:c,myVote:u,canVote:p}=e,h=(0,r.I4)(async()=>{t&&p&&await o(t)},[t,o,p]),m=Math.round(100*(0===c?0:d/c));return(0,i.BX)("div",{className:a()("poll-option",{"show-votes":s,"hide-votes":!s,"can-vote":p,"my-vote":u}),onClick:h,children:[s&&(0,i.tZ)("div",{className:"poll-vote-background",style:{width:"".concat(m,"%")}}),(0,i.tZ)("div",{className:"poll-option-background",children:(0,i.BX)("div",{className:"poll-option-text",children:[n,s&&u&&(0,i.tZ)(l.Z,{className:"vote-icon"})]})}),s&&(0,i.BX)("div",{className:"poll-percentage-text",children:[m,"%"]})]})}},47906:function(e,t,n){n.d(t,{B:()=>c});var i=n(30396),r=n(80569),o=n.n(r),a=n(95441),l=n(60308),s=n(69332),d=n(84864);let c=e=>{let{isEditor:t,isVersionView:n,pollId:r,post:c,onFinishSaving:u}=e,{iString:p}=(0,a.M1)(),[h,m]=(0,i.eJ)(null!=n&&n),[g,v]=(0,i.eJ)(!0),[f,C]=(0,i.eJ)(null),[Z,b]=(0,i.eJ)(null),w=(0,i.Ye)(()=>{let e={token:void 0,uuid:void 0};if("undefined"!=typeof window&&!t){var n;let t=(0,s.m)(window.location.href);if(t&&t.token&&(e.token=t.token),!e.token&&(null===(n=window._preloads)||void 0===n?void 0:n.original_url)){let t=(0,s.m)(window._preloads.original_url);t&&t.token&&(e.token=t.token)}}if("undefined"!=typeof window&&!t&&(null==c?void 0:c.is_draft)){let t=(0,l.RQ)(window.location.href);t&&(0,d.isUUID)(t)&&(e.uuid=t)}return e},[t,null==c?void 0:c.is_draft]),y=(0,i.I4)(async function(){let{shouldNotSetLoading:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{shouldNotSetLoading:!1};e||v(!0);try{let e=await o()("/api/v1/poll/".concat(r)).query(w);C(e.body),b(null)}catch(e){b(p("We were unable to load this poll. Please refresh the page."))}v(!1)},[r,w,p]),_=(0,i.I4)(async e=>{await o().put("/api/v1/poll/".concat(r)).send(e),v(!0),await y(),u()},[y,u,r]),k=(0,i.I4)(async e=>{if(!h){m(!0);try{await o().post("/api/v1/poll/".concat(r,"/vote")).send({poll_option_id:e}).query(w),b(null)}catch(e){b(p("We were unable to record your vote. Please refresh the page and try again.")),m(!1);return}await y({shouldNotSetLoading:!0}),m(!1)}},[h,y,r,w,p]);return(0,i.d4)(()=>{y()},[y]),{error:Z,loading:g,poll:f,fetchPoll:y,savePoll:_,voteForOption:k}}},53568:function(e,t,n){n.r(t),n.d(t,{PullquoteEditor:()=>Z});var i=n(16584),r=n(30396),o=n(55679),a=n(94184),l=n.n(a),s=n(40160),d=n(62686),c=n(8700),u=n(29942),p=n(44981),h=n(95441),m=n(40647),g=n(15771),v=n(19081),f=n(87077);let C={pullquoteEditor:"pullquoteEditor-fRQrlk",alignmentControls:"alignmentControls-E2LyCJ",active:"active-EsdG2H",divider:"divider-QIm1sR",colorButtonText:"colorButtonText-pvxKIk"},Z=e=>{let{node:t,updateAttributes:n}=e,{iString:a}=(0,h.M1)(),{getConfigFor:Z}=(0,m.xR)(),[b,w]=(0,r.eJ)(!1),y=Z("thefp_enable_pullquote_alignment"),_=Z("thefp_enable_pullquote_color"),k=e=>{n({align:e})},A=e=>{n({color:e})};return(0,i.BX)(o.T5,{className:l()("pullquote","center"===t.attrs.align&&"pullquote-align-center","left"===t.attrs.align&&"pullquote-align-left","right"===t.attrs.align&&"pullquote-align-right","wide"===t.attrs.align&&"pullquote-align-wide",t.attrs.color&&"pullquote-color-".concat(t.attrs.color),C.pullquoteEditor),"data-drag-handle":"",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:[(0,i.tZ)(o.ms,{}),b&&(y||_)&&(0,i.BX)(v.gq,{gap:4,className:C.alignmentControls,children:[y&&(0,i.BX)(i.HY,{children:[(0,i.tZ)(f.u,{text:a("Center"),preferPlacement:"top-center",children:(0,i.tZ)(g.hU,{priority:"tertiary",size:"sm",className:l()("center"===t.attrs.align&&C.active),onClick:()=>k("center"),children:(0,i.tZ)(s.Z,{height:16})})}),(0,i.tZ)(f.u,{text:a("Float left"),preferPlacement:"top-center",children:(0,i.tZ)(g.hU,{priority:"tertiary",size:"sm",className:l()("left"===t.attrs.align&&C.active),onClick:()=>k("left"),children:(0,i.tZ)(d.Z,{height:16})})}),(0,i.tZ)(f.u,{text:a("Float right"),preferPlacement:"top-center",children:(0,i.tZ)(g.hU,{priority:"tertiary",size:"sm",className:l()("right"===t.attrs.align&&C.active),onClick:()=>k("right"),children:(0,i.tZ)(c.Z,{height:16})})}),(0,i.tZ)(f.u,{text:a("Wide"),preferPlacement:"top-center",children:(0,i.tZ)(g.hU,{priority:"tertiary",size:"sm",className:l()("wide"===t.attrs.align&&C.active),onClick:()=>k("wide"),children:(0,i.tZ)(u.Z,{height:16})})})]}),y&&_&&(0,i.tZ)("div",{className:C.divider}),_&&(0,i.BX)(i.HY,{children:[(0,i.tZ)(f.u,{text:a("Default color"),preferPlacement:"top-center",children:(0,i.tZ)(g.hU,{priority:"tertiary",size:"sm",className:l()(!t.attrs.color&&C.active),onClick:()=>A(null),children:(0,i.tZ)(p.Z,{height:16})})}),(0,i.tZ)(f.u,{text:a("Red"),preferPlacement:"top-center",children:(0,i.tZ)(g.hU,{priority:"tertiary",size:"sm",className:l()("red"===t.attrs.color&&C.active,C.colorButton),onClick:()=>A("red"),style:{color:"red"},children:(0,i.tZ)("span",{className:C.colorButtonText,children:"R"})})}),(0,i.tZ)(f.u,{text:a("Black"),preferPlacement:"top-center",children:(0,i.tZ)(g.hU,{priority:"tertiary",size:"sm",className:l()("black"===t.attrs.color&&C.active,C.colorButton),onClick:()=>A("black"),style:{color:"black"},children:(0,i.tZ)("span",{className:C.colorButtonText,children:"K"})})}),(0,i.tZ)(f.u,{text:a("Blue"),preferPlacement:"top-center",children:(0,i.tZ)(g.hU,{priority:"tertiary",size:"sm",className:l()("blue"===t.attrs.color&&C.active,C.colorButton),onClick:()=>A("blue"),style:{color:"blue"},children:(0,i.tZ)("span",{className:C.colorButtonText,children:"U"})})})]})]})]})}},84711:function(e,t,n){n.d(t,{d:()=>a});var i=n(16584),r=n(55679),o=n(92314);let a=e=>{let{node:t}=e;return(0,i.tZ)(r.T5,{children:(0,i.tZ)(o.c,{mediaUploadId:t.attrs.mediaUploadId,isEditor:!0,post:null,pub:null})})}},88452:function(e,t,n){n.d(t,{Z:()=>l});var i=n(27412),r=n(6400),o=n(68833),a=n(98914);class l extends r.Component{componentWillUnmount(){this.state.uploading&&this.cancelUpload()}acceptsFile(e){return(this.props.accepts||this.accepts||"*").split(",").map(e=>new RegExp(e.trim().replace(/\./g,"\\.").replace(/\*/g,".*"))).reduce((t,n)=>t||n.test(e.type),!1)}uploadFile(e,t){let{urls:n=null,method:i="POST",rehost:r=!1,fileUrl:o=null,path:a=null,withCredentials:l=!0,useFormData:s=!0,mediaUpload:d=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var c,u=this;if(this.state.uploading)return;if(!window.FormData||!window.XMLHttpRequest){alert("Your browser does not support uploading files!");return}if(e&&!this.acceptsFile(e)){alert("Please select a valid file");return}let p=n||this.props.urls||this.urls,h=[];if(!s&&this.chunkSize>0)for(let t=0;t<p.length;t++)h.push(e.slice(this.chunkSize*t,this.chunkSize*(t+1)));else p=[p[0]],h.push(e);let m=[],g=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new XMLHttpRequest;if(r.upload&&r.upload.addEventListener("progress",e=>u.onProgress(e),!1),r.addEventListener("load",t=>{d&&u.onPartUploadCompleted(d,r,e),u.uploadNextFile(t)},!1),r.addEventListener("error",t=>{console.error("failed to upload",t),n<10?(console.warn("retrying attempt=".concat(n+1),t),setTimeout(()=>{let t=g(e,n+1);u.setState({uploading:t,uploadingXhrs:[...u.state.uploadingXhrs.slice(0,-1),t]})},1e3*Math.pow(2,n))):u.onError(t)},!1),r.addEventListener("abort",e=>u.onAbort(e),!1),r.withCredentials=l,d&&u.onPartUploadStarted(d,r,e),r.open(i,p[e],!0),s){let n=new FormData;if(h[e]&&n.append(u.fileName||"file",h[e]),t)for(let e of Object.keys(t))n.append(e,t[e]);r.send(n)}else if(h[e]){var o,a;(null===(o=h[e])||void 0===o?void 0:o.type)&&r.setRequestHeader("Content-Type",null===(a=h[e])||void 0===a?void 0:a.type),r.send(h[e])}return r};for(let e=0;e<p.length;e++){if(d){let t=(null!==(c=d.parts)&&void 0!==c?c:[]).find(t=>t.part_number===e+1);if(null==t?void 0:t.etag){console.warn("already uploaded part ".concat(e+1));continue}}m.push(()=>g(e))}if(m.length)return this.resetUpload(m,r,o,a,d),m;this.onComplete()}uploadNextFile(e){let{uploadingXhrs:t,uploadingXhrGenerators:n}=this.state;if(t&&n&&t.length<n.length){let e=n[t.length]();this.setState({uploading:e,uploadingXhrs:t.concat([e])});return}this.onComplete(e)}resetUpload(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;arguments.length>4&&arguments[4];let r=null,o=null==e?void 0:e[0];o?r=o():e=null,clearInterval(this.state.percentCompleteInterval),this.setState({uploading:r,uploadingXhrs:r?[r]:null,uploadingXhrGenerators:e,startedAt:new Date().getTime(),percentComplete:null,percentCompleteInterval:null,estimatedTimeLeft:null,estimatedTimeLeftAt:null,rehost:t,fileUrl:n,path:i})}startPercentCompleteInterval(){this.setState({uploadedAt:new Date().getTime(),percentCompleteInterval:window.setInterval(()=>this.onPercentCompleteInterval(),100)})}onPercentCompleteInterval(){if(!this.state.uploading)return;let e=this.state.uploadedAt-this.state.startedAt,t=e*(1/this.fudgeFactor-1),n=e+t,i=Date.now()-this.state.startedAt;i<n?this.setEstimatedTimeLeft(i/n):null!==this.state.percentComplete&&this.state.percentComplete<1&&this.setEstimatedTimeLeft(1)}cancelUpload(){if(this.state.uploading)try{this.state.uploading.abort()}catch(e){console.error("Failed to cancel upload",e)}}setEstimatedTimeLeft(e){let t=0,n=new Date().getTime();if(this.state.startedAt&&Date.now()-this.state.startedAt>=5e3&&e&&e<1){let i=Date.now()-this.state.startedAt,r=i/e-i;r>=6e4&&(this.state.estimatedTimeLeft&&this.state.estimatedTimeLeft<r&&this.state.estimatedTimeLeftAt-Date.now()<5e3?(t=this.state.estimatedTimeLeft,n=this.state.estimatedTimeLeftAt):t=r)}return this.state.estimatedTimeLeft!==t&&this.setState({estimatedTimeLeft:t,estimatedTimeLeftAt:n}),t}getEstimatedTimeLeftMs(){return this.state.estimatedTimeLeft}onProgress(e){let{existingEtags:t=[],uploadingXhrs:n,uploadingXhrGenerators:i,percentCompleteInterval:r}=this.state;if(!r&&e.lengthComputable){var o,a;let r=(null!==(o=null==i?void 0:i.length)&&void 0!==o?o:1)+t.length,l=((null!==(a=null==n?void 0:n.length)&&void 0!==a?a:1)-1+t.length)/r+e.loaded/e.total/r,s=Math.min(l,1);this.setState({percentComplete:s}),this.props.onProgress&&this.props.onProgress({percentComplete:100*s});let d=(null==i?void 0:i.length)||1,c=(((null==n?void 0:n.length)||1)-1)/d+e.loaded/e.total/d;this.setEstimatedTimeLeft(c*this.fudgeFactor),l>=1&&this.startPercentCompleteInterval()}}async onComplete(e){var t,n;let i;let r=this.state.uploading&&this.state.uploading.status;if(!r||r<200||r>=400){this.onError();return}let o=null!==(n=null===(t=this.state.uploading)||void 0===t?void 0:t.responseText)&&void 0!==n?n:"";try{i=JSON.parse(o)}catch(e){console.error("Failed to parse response:",e)}this.resetUpload(),this.props.onUpload&&this.props.onUpload(i,o)}onError(e,t){let n=t||(0,a.zm)(this.state.uploading);alert(n),this.resetUpload(),this.props.onError&&this.props.onError(Error(n))}onAbort(e){this.resetUpload(),this.props.onAbort&&this.props.onAbort()}render(e,t){return console.error("should be implemented by subclass"),null}constructor(e,t){super(e,t),(0,i._)(this,"fudgeFactor",.8),(0,i._)(this,"accepts",null),(0,i._)(this,"chunkSize",null),(0,i._)(this,"fileName",""),(0,i._)(this,"urls",[]),(0,i._)(this,"onPartUploadStarted",async(e,t,n)=>{(0,o.j)(o.FP.MEDIA_UPLOAD_PART_STARTED,{media_upload_id:e.id,post_id:e.post_id,part_number:n})}),(0,i._)(this,"onPartUploadCompleted",async(e,t,n)=>{(0,o.j)(o.FP.MEDIA_UPLOAD_PART_COMPLETED,{media_upload_id:e.id,post_id:e.post_id,part_number:n})}),this.state={uploading:null,uploadingXhrGenerators:[],uploadingXhrs:[],existingEtags:[],startedAt:null,uploadedAt:null,percentComplete:null,percentCompleteInterval:null,estimatedTimeLeft:null,estimatedTimeLeftAt:null,rehost:null,fileUrl:null,path:null}}}},48083:function(e,t,n){n.d(t,{Z:()=>r});var i=n(30396);let r=e=>{let[t,n]=(0,i.eJ)(0);return(0,i.d4)(()=>{let t=()=>{e&&n(e.currentTime)};if(e)return e.addEventListener("timeupdate",t),()=>{e.removeEventListener("timeupdate",t)}},[e]),t}},14068:function(e,t,n){n.d(t,{Z:()=>r});var i=n(30396);let r=function(e,t){(0,i.d4)(()=>{function n(n){let i=n.target;e.current&&!e.current.contains(i)&&t()}function i(e){("Escape"===e.key||27===e.keyCode)&&t()}return document.addEventListener("mousedown",n),document.addEventListener("keydown",i),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("keydown",i)}},[e,t])}},36081:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),o=n(16584),a=n(64515);let l=e=>(0,o.tZ)(a.l,(0,r._)((0,i._)({},e),{name:"Back15Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"},children:(0,o.tZ)("path",{d:"M0 11.8557C0 13.2164 0.260417 14.4989 0.78125 15.7034C1.30208 16.9078 2.02148 17.969 2.93945 18.887C3.85742 19.7984 4.91536 20.5146 6.11328 21.0354C7.31771 21.5562 8.60026 21.8166 9.96094 21.8166C11.3216 21.8166 12.6009 21.5562 13.7988 21.0354C15.0033 20.5146 16.0645 19.7984 16.9824 18.887C17.9004 17.969 18.6198 16.9078 19.1406 15.7034C19.6615 14.4989 19.9219 13.2164 19.9219 11.8557C19.9219 10.6578 19.7168 9.51846 19.3066 8.43773C18.8965 7.357 18.3236 6.38044 17.5879 5.50805C16.8587 4.62914 16.0026 3.89672 15.0195 3.31078C14.043 2.71833 12.985 2.30818 11.8457 2.08031V0.693592C11.8457 0.342029 11.7448 0.12393 11.543 0.039295C11.3411 -0.0453404 11.1068 0.00674294 10.8398 0.195545L7.72461 2.37328C7.49674 2.52953 7.38281 2.71182 7.38281 2.92015C7.38281 3.12849 7.49674 3.31403 7.72461 3.47679L10.8301 5.6643C11.097 5.85961 11.3314 5.91495 11.5332 5.83031C11.7415 5.73916 11.8457 5.51781 11.8457 5.16625V3.77953C12.7702 3.98786 13.6198 4.33943 14.3945 4.83422C15.1758 5.32901 15.8529 5.93448 16.4258 6.65062C17.0052 7.36677 17.4544 8.16755 17.7734 9.05297C18.0924 9.93187 18.252 10.8661 18.252 11.8557C18.252 13.008 18.0371 14.0888 17.6074 15.0979C17.1842 16.1005 16.5918 16.9827 15.8301 17.7444C15.0749 18.4996 14.196 19.0888 13.1934 19.512C12.1908 19.9416 11.1133 20.1565 9.96094 20.1565C8.80859 20.1565 7.72786 19.9416 6.71875 19.512C5.71615 19.0888 4.83398 18.4996 4.07227 17.7444C3.31706 16.9827 2.72461 16.1005 2.29492 15.0979C1.87174 14.0888 1.66016 13.008 1.66016 11.8557C1.66016 10.9312 1.80339 10.0523 2.08984 9.21898C2.3763 8.37914 2.77669 7.61416 3.29102 6.92406C3.80534 6.23396 4.40755 5.64151 5.09766 5.14672C5.29948 4.99698 5.42643 4.81469 5.47852 4.59984C5.53711 4.385 5.50456 4.17666 5.38086 3.97484C5.25716 3.77953 5.07812 3.66234 4.84375 3.62328C4.60938 3.57771 4.38477 3.6363 4.16992 3.79906C3.33008 4.40453 2.59766 5.12719 1.97266 5.96703C1.34766 6.80036 0.86263 7.71833 0.517578 8.72094C0.172526 9.71703 0 10.762 0 11.8557ZM7.10938 15.8596C7.29818 15.8596 7.44792 15.801 7.55859 15.6838C7.66927 15.5601 7.72461 15.3941 7.72461 15.1858V9.02367C7.72461 8.76976 7.66602 8.58096 7.54883 8.45726C7.43164 8.32706 7.26237 8.26195 7.04102 8.26195C6.9043 8.26195 6.77734 8.28799 6.66016 8.34008C6.54297 8.38565 6.39648 8.46703 6.2207 8.58422L4.88281 9.49242C4.77214 9.57055 4.6875 9.65844 4.62891 9.75609C4.57682 9.84724 4.55078 9.94815 4.55078 10.0588C4.55078 10.2216 4.60612 10.3616 4.7168 10.4787C4.82747 10.5959 4.96094 10.6545 5.11719 10.6545C5.21484 10.6545 5.29622 10.6415 5.36133 10.6155C5.42643 10.5894 5.5013 10.5406 5.58594 10.469L6.52344 9.78539H6.50391V15.1858C6.50391 15.3876 6.55924 15.5504 6.66992 15.6741C6.7806 15.7978 6.92708 15.8596 7.10938 15.8596ZM12.0703 15.9768C12.8776 15.9768 13.5254 15.7392 14.0137 15.2639C14.5085 14.7821 14.7559 14.1474 14.7559 13.3596C14.7559 12.6435 14.5378 12.0543 14.1016 11.592C13.6654 11.1298 13.099 10.8987 12.4023 10.8987C12.0898 10.8987 11.7839 10.9703 11.4844 11.1135C11.1914 11.2567 10.9798 11.4521 10.8496 11.6995H10.8984L11.0742 9.49242H13.9941C14.1374 9.49242 14.2611 9.44034 14.3652 9.33617C14.4759 9.232 14.5312 9.09528 14.5312 8.92601C14.5312 8.76325 14.4759 8.63305 14.3652 8.53539C14.2611 8.43122 14.1374 8.37914 13.9941 8.37914H10.8789C10.3646 8.37914 10.0846 8.64932 10.0391 9.18969L9.82422 12.0022C9.80469 12.2431 9.85352 12.4254 9.9707 12.5491C10.0879 12.6662 10.2539 12.7248 10.4688 12.7248C10.625 12.7248 10.752 12.7053 10.8496 12.6662C10.9473 12.6272 11.0645 12.5556 11.2012 12.4514C11.39 12.2821 11.5658 12.1617 11.7285 12.0901C11.8913 12.012 12.0703 11.9729 12.2656 11.9729C12.6432 11.9729 12.9492 12.1031 13.1836 12.3635C13.418 12.6174 13.5352 12.956 13.5352 13.3791C13.5352 13.8088 13.4017 14.1636 13.1348 14.4436C12.8678 14.7235 12.5326 14.8635 12.1289 14.8635C11.8359 14.8635 11.5723 14.7886 11.3379 14.6389C11.1035 14.4827 10.9245 14.2776 10.8008 14.0237C10.7292 13.9 10.6478 13.8056 10.5566 13.7405C10.4655 13.6689 10.3581 13.633 10.2344 13.633C10.0716 13.633 9.93815 13.6851 9.83398 13.7893C9.73633 13.8935 9.6875 14.0302 9.6875 14.1995C9.6875 14.2646 9.69401 14.3297 9.70703 14.3948C9.72005 14.4599 9.73958 14.525 9.76562 14.5901C9.89583 14.9416 10.1628 15.2606 10.5664 15.5471C10.9766 15.8336 11.4779 15.9768 12.0703 15.9768Z"})}))},13304:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),o=n(16584),a=n(64515);let l=e=>(0,o.BX)(a.l,(0,r._)((0,i._)({},e),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"},children:[(0,o.tZ)("path",{d:"M15 5L5 15",strokeWidth:"1.5",strokeLinecap:"round","stroke-linejoin":"round"}),(0,o.tZ)("path",{d:"M5 5L15 15",strokeWidth:"1.5",strokeLinecap:"round","stroke-linejoin":"round"})]}))},86374:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(64515);let s=e=>{var{size:t=18,color:n="var(--color-fg-primary)",className:s}=e,d=(0,o._)(e,["size","color","className"]);return(0,a.tZ)(l.l,(0,r._)((0,i._)({},d),{name:"DropdownIcon",svgParams:{viewBox:"0 0 20 20"},stroke:"none",width:t,height:t,fill:n,className:s,children:(0,a.tZ)("path",{d:"M5.72845 8.252C5.25083 7.59067 5.72336 6.6665 6.53913 6.6665H13.461C14.2767 6.6665 14.7493 7.59067 14.2716 8.25199L10.8107 13.044C10.4116 13.5967 9.58852 13.5967 9.18936 13.044L5.72845 8.252Z",stroke:"none"})}))}},93228:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),o=n(16584),a=n(64515);let l=e=>(0,o.BX)(a.l,(0,r._)((0,i._)({},e),{name:"EmojiPickerIcon",svgParams:{height:15,width:14,viewBox:"0 0 15 14",fill:"none",stroke:"none"},children:[(0,o.tZ)("path",{d:"M12.7474 7.25708C12.3309 7.37462 11.8916 7.4375 11.4375 7.4375C8.77963 7.4375 6.625 5.28287 6.625 2.625C6.625 2.17094 6.68788 1.73156 6.80542 1.31511C6.74549 1.31337 6.68535 1.3125 6.625 1.3125C3.24226 1.3125 0.5 4.05476 0.5 7.4375C0.5 10.8202 3.24226 13.5625 6.625 13.5625C10.0077 13.5625 12.75 10.8202 12.75 7.4375C12.75 7.37715 12.7491 7.31701 12.7474 7.25708ZM5.75 5.25C5.75 5.97487 5.16237 6.5625 4.4375 6.5625C3.71263 6.5625 3.125 5.97487 3.125 5.25C3.125 4.52513 3.71263 3.9375 4.4375 3.9375C5.16237 3.9375 5.75 4.52513 5.75 5.25ZM10.125 8.3125C10.125 10.2455 8.558 11.8125 6.625 11.8125C4.692 11.8125 3.125 10.2455 3.125 8.3125H10.125Z",fill:"#808080",fillRule:"evenodd",clipRule:"evenodd"}),(0,o.tZ)("path",{d:"M12.0938 0H10.7812V1.96875L8.8125 1.96875V3.28125H10.7812V5.25H12.0938V3.28125H14.0625V1.96875L12.0938 1.96875V0Z",fill:"#808080",fillRule:"evenodd",clipRule:"evenodd"})]}))},36813:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),o=n(16584),a=n(64515);let l=e=>(0,o.tZ)(a.l,(0,r._)((0,i._)({},e),{name:"Forward30Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"},children:(0,o.tZ)("path",{d:"M13.1738 15.9615C13.7142 15.9615 14.1829 15.802 14.5801 15.483C14.9837 15.1574 15.2962 14.705 15.5176 14.1255C15.7454 13.5461 15.8594 12.8658 15.8594 12.0845C15.8594 11.2968 15.7454 10.6099 15.5176 10.024C15.2962 9.43803 14.9837 8.9823 14.5801 8.65678C14.1829 8.33126 13.7142 8.1685 13.1738 8.1685C12.6335 8.1685 12.1615 8.33126 11.7578 8.65678C11.3542 8.97579 11.0417 9.42827 10.8203 10.0142C10.599 10.6001 10.4883 11.2902 10.4883 12.0845C10.4883 12.8658 10.599 13.5461 10.8203 14.1255C11.0417 14.705 11.3542 15.1574 11.7578 15.483C12.1615 15.802 12.6335 15.9615 13.1738 15.9615ZM6.875 15.9615C7.64323 15.9615 8.27148 15.7531 8.75977 15.3365C9.25456 14.9133 9.50195 14.3729 9.50195 13.7154C9.50195 13.2401 9.35221 12.83 9.05273 12.4849C8.75326 12.1333 8.3724 11.9315 7.91016 11.8794V11.9283C8.28125 11.8632 8.59701 11.6613 8.85742 11.3228C9.12435 10.9843 9.25781 10.5969 9.25781 10.1607C9.25781 9.57475 9.03971 9.09624 8.60352 8.72514C8.17383 8.35405 7.61719 8.1685 6.93359 8.1685C6.34115 8.1685 5.82357 8.3215 5.38086 8.62749C4.93815 8.92697 4.66471 9.31108 4.56055 9.77983C4.54753 9.83842 4.53776 9.89376 4.53125 9.94585C4.52474 9.99793 4.52148 10.05 4.52148 10.1021C4.52148 10.2779 4.57031 10.4211 4.66797 10.5318C4.77214 10.6425 4.90885 10.6978 5.07812 10.6978C5.35156 10.6978 5.54036 10.5448 5.64453 10.2388C5.74219 9.93282 5.89518 9.7017 6.10352 9.54545C6.31185 9.38269 6.57878 9.30131 6.9043 9.30131C7.24935 9.30131 7.52604 9.39572 7.73438 9.58452C7.94922 9.76681 8.05664 10.0077 8.05664 10.3072C8.05664 10.6197 7.94922 10.8801 7.73438 11.0884C7.51953 11.2902 7.23958 11.3912 6.89453 11.3912H6.47461C6.31185 11.3912 6.18164 11.4432 6.08398 11.5474C5.98633 11.6451 5.9375 11.7818 5.9375 11.9576C5.9375 12.1203 5.98633 12.257 6.08398 12.3677C6.18815 12.4719 6.31836 12.524 6.47461 12.524H6.93359C7.35026 12.524 7.67904 12.6281 7.91992 12.8365C8.16081 13.0448 8.28125 13.3215 8.28125 13.6665C8.28125 13.9986 8.14779 14.2785 7.88086 14.5064C7.62044 14.7277 7.28841 14.8384 6.88477 14.8384C6.53971 14.8384 6.25 14.757 6.01562 14.5943C5.78125 14.4315 5.60872 14.1971 5.49805 13.8912C5.43945 13.7284 5.36458 13.6112 5.27344 13.5396C5.18229 13.468 5.07161 13.4322 4.94141 13.4322C4.77865 13.4322 4.64193 13.4875 4.53125 13.5982C4.42708 13.7089 4.375 13.8521 4.375 14.0279C4.375 14.08 4.37826 14.1353 4.38477 14.1939C4.39128 14.246 4.40104 14.2981 4.41406 14.3501C4.51823 14.8059 4.80469 15.19 5.27344 15.5025C5.74219 15.8085 6.27604 15.9615 6.875 15.9615ZM13.1738 14.7798C12.7441 14.7798 12.3991 14.5389 12.1387 14.0572C11.8848 13.5754 11.7578 12.9179 11.7578 12.0845C11.7578 11.2317 11.8848 10.5643 12.1387 10.0826C12.3926 9.59428 12.7376 9.35014 13.1738 9.35014C13.61 9.35014 13.9518 9.59103 14.1992 10.0728C14.4531 10.5546 14.5801 11.2251 14.5801 12.0845C14.5801 12.9179 14.4531 13.5754 14.1992 14.0572C13.9453 14.5389 13.6035 14.7798 13.1738 14.7798ZM9.96094 21.8111C11.3216 21.8111 12.6009 21.5507 13.7988 21.0298C15.0033 20.509 16.0645 19.7928 16.9824 18.8814C17.9004 17.9634 18.6198 16.9022 19.1406 15.6978C19.6615 14.4934 19.9219 13.2108 19.9219 11.8501C19.9219 10.7564 19.7493 9.71147 19.4043 8.71538C19.0592 7.71277 18.5742 6.7948 17.9492 5.96147C17.3242 5.12163 16.5918 4.39897 15.752 3.7935C15.5371 3.63074 15.3125 3.57215 15.0781 3.61772C14.8438 3.65678 14.6647 3.77397 14.541 3.96928C14.4173 4.17111 14.3815 4.37944 14.4336 4.59428C14.4922 4.80913 14.6224 4.99142 14.8242 5.14116C15.5143 5.63595 16.1165 6.2284 16.6309 6.9185C17.1452 7.60861 17.5456 8.37358 17.832 9.21342C18.1185 10.0468 18.2617 10.9257 18.2617 11.8501C18.2617 13.0025 18.0469 14.0832 17.6172 15.0923C17.194 16.0949 16.6016 16.9771 15.8398 17.7388C15.0846 18.494 14.2025 19.0832 13.1934 19.5064C12.1908 19.9361 11.1133 20.1509 9.96094 20.1509C8.80859 20.1509 7.73112 19.9361 6.72852 19.5064C5.72591 19.0832 4.84375 18.494 4.08203 17.7388C3.32682 16.9771 2.73438 16.0949 2.30469 15.0923C1.88151 14.0832 1.66992 13.0025 1.66992 11.8501C1.66992 10.7043 1.88151 9.63009 2.30469 8.62749C2.73438 7.61837 3.32682 6.73621 4.08203 5.981C4.83724 5.21928 5.71615 4.62358 6.71875 4.19389C7.72135 3.7642 8.79883 3.54936 9.95117 3.54936V1.8892C8.59049 1.8892 7.30794 2.14962 6.10352 2.67045C4.9056 3.19129 3.84766 3.91069 2.92969 4.82866C2.01823 5.74663 1.30208 6.80782 0.78125 8.01225C0.260417 9.21017 0 10.4895 0 11.8501C0 13.2108 0.260417 14.4934 0.78125 15.6978C1.30208 16.9022 2.02148 17.9634 2.93945 18.8814C3.85742 19.7928 4.91536 20.509 6.11328 21.0298C7.31771 21.5507 8.60026 21.8111 9.96094 21.8111ZM8.07617 0.697798V5.17045C8.07617 5.51551 8.17708 5.73361 8.37891 5.82475C8.58724 5.90939 8.82487 5.8573 9.0918 5.6685L12.207 3.481C12.4284 3.33126 12.5391 3.15223 12.5391 2.94389C12.5456 2.72905 12.4349 2.5435 12.207 2.38725L9.10156 0.199751C8.82812 0.00443892 8.58724 -0.0476444 8.37891 0.0435014C8.17708 0.128137 8.07617 0.346236 8.07617 0.697798Z"})}))},20145:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),o=n(16584),a=n(64515);let l=e=>(0,o.tZ)(a.l,(0,r._)((0,i._)({strokeLinecap:"round",strokeLinejoin:"round"},e),{name:"LucideStarIcon",svgParams:{height:24,width:24},children:(0,o.tZ)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}))},1467:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),o=n(16584),a=n(64515);let l=e=>(0,o.tZ)(a.l,(0,r._)((0,i._)({},e),{name:"NoteReplyIcon",svgParams:{height:24,width:24,stroke:e.stroke,strokeWidth:e.strokeWidth},children:(0,o.tZ)("path",{d:"M22 11.4445C22.0038 12.911 21.6612 14.3577 21 15.6667C20.216 17.2353 19.0108 18.5546 17.5194 19.477C16.0279 20.3993 14.3091 20.8882 12.5555 20.8889C11.089 20.8927 9.64234 20.5501 8.33332 19.8889L2 22L4.11111 15.6667C3.44992 14.3577 3.10729 12.911 3.11111 11.4445C3.11179 9.69086 3.60068 7.97208 4.52302 6.48064C5.44536 4.98919 6.76472 3.78399 8.33332 3.00003C9.64234 2.33884 11.089 1.99621 12.5555 2.00003H13.1111C15.427 2.1278 17.6145 3.10532 19.2546 4.74543C20.8947 6.38553 21.8722 8.57297 22 10.8889V11.4445Z","stroke-linecap":"round","stroke-linejoin":"round"})}))},53804:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(64515);let s=e=>{var{size:t=20,stroke:n="var(--color-fg-primary)",strokeWidth:s=1.5,className:d}=e,c=(0,o._)(e,["size","stroke","strokeWidth","className"]);return(0,a.tZ)(l.l,(0,r._)((0,i._)({},c),{name:"NoteRestackIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round",className:d,children:(0,a.tZ)("path",{d:"M2.53001 7.81595C3.49179 4.73911 6.43281 2.5 9.91173 2.5C13.1684 2.5 15.9537 4.46214 17.0852 7.23684L17.6179 8.67647M17.6179 8.67647L18.5002 4.26471M17.6179 8.67647L13.6473 6.91176M17.4995 12.1841C16.5378 15.2609 13.5967 17.5 10.1178 17.5C6.86118 17.5 4.07589 15.5379 2.94432 12.7632L2.41165 11.3235M2.41165 11.3235L1.5293 15.7353M2.41165 11.3235L6.38224 13.0882"})}))}},25226:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(64515);let s=e=>{var{size:t=20,stroke:n="var(--color-fg-primary)",strokeWidth:s=1.5}=e,d=(0,o._)(e,["size","stroke","strokeWidth"]);return(0,a.tZ)(l.l,(0,r._)((0,i._)({},d),{name:"NoteShareIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.tZ)("path",{d:"M10.2171 2.2793L10.2171 12.9745M10.2171 2.2793L13.333 4.99984M10.2171 2.2793L7.08301 4.99984M2.49967 10.9925L2.49967 14.1592C2.49967 16.011 4.00084 17.5121 5.85261 17.5121L14.9801 17.5121C16.8318 17.5121 18.333 16.011 18.333 14.1592L18.333 10.9925"})}))}},52842:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),o=n(16584),a=n(64515);let l=e=>(0,o.tZ)(a.l,(0,r._)((0,i._)({},e),{name:"PauseIconRounded",svgParams:{height:16,width:16},stroke:"none",children:(0,o.tZ)("path",{d:"M3.43396 16C2.47491 16 1.99064 15.5157 2.00014 14.5757V1.42433C2.00014 0.484273 2.48441 0 3.43396 0L5.7034 0C6.65296 0.00949555 7.13723 0.465282 7.13723 1.42433V14.5757C7.13723 15.5157 6.65296 16 5.7034 16H3.43396ZM10.831 16C9.87195 16 9.40666 15.5157 9.40666 14.5757V1.42433C9.40666 0.484273 9.89094 0 10.831 0L13.1004 0C14.05 0 14.5343 0.465282 14.5343 1.42433V14.5757C14.5343 15.5157 14.05 16 13.1004 16H10.831Z"})}))},82016:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),o=n(16584),a=n(64515);let l=e=>(0,o.tZ)(a.l,(0,r._)((0,i._)({},e),{name:"PlayIcon",svgParams:{height:43,width:35},children:(0,o.tZ)("path",{d:"M34.428 20.819C34.8483 21.0821 34.8483 21.7121 34.428 21.9752L1.74924 42.4349C1.3132 42.7079 0.755859 42.3835 0.755859 41.8568V0.937387C0.755859 0.410635 1.3132 0.0862969 1.74925 0.359298L34.428 20.819Z"})}))},36181:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(64515);let s=e=>{var{fill:t="white"}=e,n=(0,o._)(e,["fill"]);return(0,a.BX)(l.l,(0,r._)((0,i._)({},n),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:t},children:[(0,a.tZ)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),(0,a.tZ)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"})]}))}},18389:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(64515);let s=e=>{var{fill:t="white"}=e,n=(0,o._)(e,["fill"]);return(0,a.tZ)(l.l,(0,r._)((0,i._)({},n),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:t},children:(0,a.tZ)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"})}))}},27027:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),o=n(16584),a=n(64515);let l=e=>(0,o.BX)(a.l,(0,r._)((0,i._)({},e),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"},children:[(0,o.BX)("g",{"clip-path":"url(#clip0_2063_103618)",children:[(0,o.tZ)("circle",{cx:"12",cy:"12",r:"12",fill:"white",stroke:"none"}),(0,o.tZ)("path",{d:"M9.101 23.647V15.667H6.627V12H9.101V10.42C9.101 6.335 10.949 4.442 14.959 4.442C15.36 4.442 15.914 4.484 16.427 4.545C16.8112 4.58454 17.1924 4.64968 17.568 4.74V8.065C17.3509 8.04475 17.133 8.03274 16.915 8.029C16.6707 8.02266 16.4264 8.01966 16.182 8.02C15.475 8.02 14.923 8.116 14.507 8.329C14.2273 8.46931 13.9922 8.68468 13.828 8.951C13.57 9.371 13.454 9.946 13.454 10.703V12H17.373L16.987 14.103L16.7 15.667H13.454V23.912C19.396 23.194 24 18.135 24 12C24 5.373 18.627 0 12 0C5.373 0 0 5.373 0 12C0 17.628 3.874 22.35 9.101 23.647Z",fill:"#0866FF",stroke:"none"})]}),(0,o.tZ)("defs",{children:(0,o.tZ)("clipPath",{id:"clip0_2063_103618",children:(0,o.tZ)("rect",{width:"24",height:"24",fill:"white",stroke:"none"})})})]}))},55232:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),o=n(16584),a=n(64515);let l=e=>(0,o.BX)(a.l,(0,r._)((0,i._)({},e),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"},children:[(0,o.tZ)("g",{"clip-path":"url(#clip0_2099_103632)"}),(0,o.tZ)("rect",{x:"1",y:"1",width:"22",height:"22",fill:"white",stroke:"none"}),(0,o.tZ)("path",{d:"M20.447 20.452H16.893V14.883C16.893 13.555 16.866 11.846 15.041 11.846C13.188 11.846 12.905 13.291 12.905 14.785V20.452H9.351V9H12.765V10.561H12.811C13.288 9.661 14.448 8.711 16.181 8.711C19.782 8.711 20.448 11.081 20.448 14.166L20.447 20.452ZM5.337 7.433C4.193 7.433 3.274 6.507 3.274 5.368C3.274 4.23 4.194 3.305 5.337 3.305C6.477 3.305 7.401 4.23 7.401 5.368C7.401 6.507 6.476 7.433 5.337 7.433ZM7.119 20.452H3.555V9H7.119V20.452ZM22.225 0H1.771C0.792 0 0 0.774 0 1.729V22.271C0 23.227 0.792 24 1.771 24H22.222C23.2 24 24 23.227 24 22.271V1.729C24 0.774 23.2 0 22.222 0H22.225Z",fill:"#0A66C2",stroke:"none"}),(0,o.tZ)("defs",{children:(0,o.tZ)("clipPath",{id:"clip0_2099_103632",children:(0,o.tZ)("rect",{width:"24",height:"24",fill:"white",style:"fill:white;fill-opacity:1;"})})})]}))},51214:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),o=n(16584),a=n(64515);let l=e=>(0,o.BX)(a.l,(0,r._)((0,i._)({},e),{name:"SimpleCheckmarkIcon",svgParams:{height:100,width:100},children:[(0,o.tZ)("path",{d:"m40.9 70c-.5 0-1-.2-1.4-.6-.8-.8-.8-2 0-2.8l36.8-36.8c.8-.8 2-.8 2.8 0s.8 2 0 2.8l-36.8 36.8c-.4.4-.9.6-1.4.6z"}),(0,o.tZ)("path",{d:"m40.9 70c-.5 0-1-.2-1.4-.6l-16.5-16.5c-.8-.8-.8-2 0-2.8s2-.8 2.8 0l16.5 16.5c.8.8.8 2 0 2.8-.4.4-.9.6-1.4.6z"})]}))},90443:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(64515);let s=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,s=(0,o._)(e,["size","fill"]);return(0,a.tZ)(l.l,(0,r._)((0,i._)({},s),{name:"HackerNewsIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,stroke:"none",children:(0,a.tZ)("path",{stroke:"none",fillRule:"evenodd",clipRule:"evenodd",d:"M0 2C0 0.895431 0.895431 0 2 0H18C19.1046 0 20 0.895431 20 2V18C20 19.1046 19.1046 20 18 20H2C0.895431 20 0 19.1046 0 18V2ZM9.32607 11.3083L5.8932 4.87747H7.46207L9.4814 8.9472C9.51247 9.01969 9.54871 9.09477 9.59013 9.17243C9.63156 9.2501 9.6678 9.33036 9.69887 9.4132C9.71958 9.44427 9.73511 9.47274 9.74547 9.49863C9.75582 9.52452 9.76618 9.54782 9.77653 9.56853C9.82831 9.67209 9.87491 9.77305 9.91633 9.87143C9.95776 9.96981 9.994 10.0604 10.0251 10.1433C10.1079 9.96722 10.1985 9.77823 10.2969 9.5763C10.3953 9.37437 10.4962 9.16467 10.5998 8.9472L12.6502 4.87747H14.1103L10.6464 11.3859V15.5333H9.32607V11.3083Z"})}))}},82653:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(64515);let s=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,s=(0,o._)(e,["size","fill"]);return(0,a.tZ)(l.l,(0,r._)((0,i._)({},s),{name:"MailIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,children:(0,a.tZ)("path",{stroke:"none",d:"M9.9958 11.0646C10.2693 11.0646 10.5346 10.9569 10.7915 10.7248L19.0717 3.431C18.6241 3.13262 18.1102 3 17.3974 3H2.60257C1.88976 3 1.37587 3.13262 0.920011 3.431L9.20011 10.7248C9.46534 10.9569 9.73057 11.0646 9.9958 11.0646ZM0.215499 15.9465L6.34893 9.82137L0.198922 4.40075C0.107749 4.5748 0 4.99751 0 5.56941V14.7199C0 15.2503 0.0828842 15.6316 0.215499 15.9465ZM2.35391 17.2892H17.646C18.2511 17.2892 18.7235 17.14 19.0385 16.9245L12.731 10.6171L11.5209 11.6945C11.0402 12.1173 10.518 12.3328 9.9958 12.3328C9.48197 12.3328 8.95975 12.1173 8.47905 11.6945L7.26894 10.6171L0.961455 16.9245C1.27642 17.14 1.74057 17.2892 2.35391 17.2892ZM19.7844 15.9465C19.9088 15.6316 20 15.2503 20 14.7199V5.56941C20 4.99751 19.8922 4.5748 19.8011 4.40075L13.651 9.82137L19.7844 15.9465Z"})}))}},77559:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(64515);let s=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,s=(0,o._)(e,["size","fill"]);return(0,a.tZ)(l.l,(0,r._)((0,i._)({},s),{name:"PinterestIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,children:(0,a.tZ)("path",{stroke:"none",d:"M10 0C4.47656 0 0 4.47656 0 10C0 14.2383 2.63672 17.8555 6.35547 19.3125C6.26953 18.5195 6.1875 17.3086 6.39062 16.4453C6.57422 15.6641 7.5625 11.4766 7.5625 11.4766C7.5625 11.4766 7.26172 10.8789 7.26172 9.99219C7.26172 8.60156 8.06641 7.5625 9.07031 7.5625C9.92187 7.5625 10.3359 8.20312 10.3359 8.97266C10.3359 9.83203 9.78906 11.1133 9.50781 12.3008C9.27344 13.2969 10.0078 14.1094 10.9883 14.1094C12.7656 14.1094 14.1328 12.2344 14.1328 9.53125C14.1328 7.13672 12.4141 5.46094 9.95703 5.46094C7.11328 5.46094 5.44141 7.59375 5.44141 9.80078C5.44141 10.6602 5.77344 11.582 6.1875 12.082C6.26953 12.1797 6.28125 12.2695 6.25781 12.3672C6.18359 12.6836 6.01172 13.3633 5.98047 13.5C5.9375 13.6836 5.83594 13.7227 5.64453 13.6328C4.39453 13.0508 3.61328 11.2266 3.61328 9.75781C3.61328 6.60156 5.90625 3.70703 10.2188 3.70703C13.6875 3.70703 16.3828 6.17969 16.3828 9.48438C16.3828 12.9297 14.2109 15.7031 11.1953 15.7031C10.1836 15.7031 9.23047 15.1758 8.90234 14.5547C8.90234 14.5547 8.40234 16.4648 8.28125 16.9336C8.05469 17.8008 7.44531 18.8906 7.03906 19.5547C7.97656 19.8438 8.96875 20 10 20C15.5234 20 20 15.5234 20 10C20 4.47656 15.5234 0 10 0Z"})}))}},82695:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(64515);let s=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,s=(0,o._)(e,["size","fill"]);return(0,a.tZ)(l.l,(0,r._)((0,i._)({},s),{name:"RedditIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,children:(0,a.tZ)("path",{stroke:"none",fillRule:"evenodd",clipRule:"evenodd",d:"M20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10ZM15.2049 8.53825C16.0119 8.53825 16.6669 9.19322 16.6669 10.0002C16.6669 10.5967 16.3043 11.1113 15.8248 11.3453C15.8482 11.4856 15.8599 11.626 15.8599 11.778C15.8599 14.0236 13.2517 15.8365 10.0236 15.8365C6.79553 15.8365 4.18734 14.0236 4.18734 11.778C4.18734 11.626 4.19904 11.4739 4.22243 11.3336C3.70781 11.0997 3.35693 10.5967 3.35693 10.0002C3.35693 9.19322 4.0119 8.53825 4.81892 8.53825C5.20489 8.53825 5.56746 8.70199 5.82477 8.9476C6.83062 8.21076 8.22243 7.75462 9.77799 7.70784L10.5148 4.22246C10.5382 4.15228 10.5733 4.0938 10.6318 4.05871C10.6903 4.02363 10.7604 4.01193 10.8306 4.02363L13.2517 4.53825C13.4154 4.18737 13.7663 3.95345 14.1756 3.95345C14.7487 3.95345 15.2166 4.42129 15.2166 4.99439C15.2166 5.56749 14.7487 6.03532 14.1756 6.03532C13.6142 6.03532 13.1581 5.59088 13.1347 5.04117L10.971 4.58503L10.3043 7.70784C11.8248 7.76632 13.2049 8.23415 14.199 8.9476C14.4563 8.69029 14.8072 8.53825 15.2049 8.53825ZM7.70781 10.0002C7.13471 10.0002 6.66687 10.4681 6.66687 11.0412C6.66687 11.6143 7.13471 12.0821 7.70781 12.0821C8.28091 12.0821 8.74875 11.6143 8.74875 11.0412C8.74875 10.4681 8.28091 10.0002 7.70781 10.0002ZM10.0119 14.5499C10.4096 14.5499 11.7663 14.5032 12.4797 13.7897C12.585 13.6844 12.585 13.5207 12.5031 13.4037C12.3979 13.2985 12.2224 13.2985 12.1172 13.4037C11.661 13.8482 10.7137 14.0119 10.0236 14.0119C9.33354 14.0119 8.37448 13.8482 7.93003 13.4037C7.82477 13.2985 7.64933 13.2985 7.54407 13.4037C7.4388 13.509 7.4388 13.6844 7.54407 13.7897C8.24582 14.4915 9.61424 14.5499 10.0119 14.5499ZM11.2517 11.0412C11.2517 11.6143 11.7195 12.0821 12.2926 12.0821C12.8657 12.0821 13.3335 11.6143 13.3335 11.0412C13.3335 10.4681 12.8657 10.0002 12.2926 10.0002C11.7195 10.0002 11.2517 10.4681 11.2517 11.0412Z"})}))}},95741:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(64515);let s=e=>{var{stroke:t="#666666"}=e,n=(0,o._)(e,["stroke"]);return(0,a.BX)(l.l,(0,r._)((0,i._)({stroke:t},n),{name:"UploadIcon",svgParams:{width:20,height:20,viewBox:"0 0 20 20"},children:[(0,a.tZ)("path",{d:"M17.5 12.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V12.5",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.tZ)("path",{d:"M14.1667 6.66667L10 2.5L5.83337 6.66667",strokeWidth:"1.5",strokeLinecap:"round",fill:"none",strokeLinejoin:"round"}),(0,a.tZ)("path",{d:"M10 2.5V12.5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}))}},1381:function(e,t,n){n.d(t,{I:()=>v});var i=n(7409),r=n(99282),o=n(16584),a=n(30396),l=n(80569),s=n.n(l),d=n(98914),c=n(15771),u=n(19081),p=n(17391),h=n(87185),m=n(6490),g=n(70379);function v(e){var t,n;let{isOpen:l,onClose:v,post:f}=e,C=(0,g.pm)(),[Z,b]=(0,a.eJ)(!1),w=null===(n=f.postTheme)||void 0===n?void 0:null===(t=n.variant_config)||void 0===t?void 0:t.fullWidthImage,y={hideOverlay:(null==w?void 0:w.hideOverlay)||!1,hideSectionLink:(null==w?void 0:w.hideSectionLink)||!1,textColor:(null==w?void 0:w.textColor)||"black"},[_,k]=(0,a.eJ)(y),A=async()=>{b(!0);try{var e;let t=(0,r._)((0,i._)({},null===(e=f.postTheme)||void 0===e?void 0:e.variant_config),{fullWidthImage:_});await s().patch("/api/v1/post/".concat(f.id,"/theme")).send({variant_config:t}),location.reload()}catch(e){C.popToast(t=>(0,o.tZ)(g.FN,(0,r._)((0,i._)({},t),{text:(0,d.zx)(e)})))}finally{b(!1)}},E=()=>{k(y),v()};return(0,o.BX)(m.u_,{isOpen:l,onClose:E,children:[(0,o.tZ)(m.xB,{showClose:!0,title:"Full Width Image Options",onClose:E}),(0,o.tZ)(m.fe,{children:(0,o.BX)(u.tu,{gap:12,children:[(0,o.tZ)(h.m,{label:"Text Color",options:[{value:"black",label:"Black"},{value:"red",label:"Red"},{value:"white",label:"White"}],value:_.textColor,onChange:e=>k((0,r._)((0,i._)({},_),{textColor:e}))}),(0,o.tZ)(p.j,{label:"Hide overlay",value:_.hideOverlay,onChange:e=>k((0,r._)((0,i._)({},_),{hideOverlay:e}))}),(0,o.tZ)(p.j,{label:"Hide section link",value:_.hideSectionLink,onChange:e=>k((0,r._)((0,i._)({},_),{hideSectionLink:e}))})]})}),(0,o.tZ)(m.mz,{primaryButton:(0,o.tZ)(c.zx,{disabled:Z,priority:"primary",onClick:A,children:"Save"}),secondaryButton:(0,o.tZ)(c.zx,{disabled:Z,priority:"secondary",onClick:E,children:"Cancel"})})]})}},54917:function(e,t,n){n.d(t,{y:()=>l});var i=n(16584),r=n(620),o=n(7523),a=n(19081);let l=e=>{let{poll:t}=e;return(0,i.tZ)(r.l,{children:(0,i.BX)(a.tu,{gap:16,children:[(0,i.tZ)(o.Z,{preset:"h5-sans",children:(null==t?void 0:t.question)||"New Poll"}),(null==t?void 0:t.description)&&(0,i.tZ)(o.Z,{preset:"d2-serif",children:t.description})]})})}},67434:function(e,t,n){n.d(t,{r:()=>l});var i=n(16584),r=n(620),o=n(7523),a=n(95441);let l=e=>{let{hasVoted:t,poll:n,user:l}=e,{iPlural:s}=(0,a.M1)();return(!n.votes_hidden||l.is_contributor)&&(t||l.is_contributor)?(0,i.tZ)(r.l,{children:(0,i.tZ)(o.Z,{color:"tertiary",preset:"detail-large",children:s("%1 VOTE","%1 VOTES",n.total_votes)})}):null}},60437:function(e,t,n){n.d(t,{g:()=>h});var i=n(16584),r=n(30396),o=n(94184),a=n.n(o),l=n(25380),s=n(620),d=n(7523),c=n(19081);let u={container:"container-ZEro8t",containerCanVote:"containerCanVote-zhAHHo",text:"text-QBNtOV",percentageBackground:"percentageBackground-AahPjX"},p=["#7491e3","#f69227","#f74701","#f3c82e","#2db750","#0366f3","#bebdb8"],h=e=>{var t;let{currentVotes:n,hasVoted:o,id:h,index:m,myVote:g,showVotes:v,text:f,totalVotes:C,onVote:Z}=e,b=Math.round(100*(0===C?0:n/C)),w=p[m%p.length],y=(0,r.I4)(async()=>{!o&&h&&await Z(h)},[o,h,Z]);return(0,i.tZ)(s.l,{children:(0,i.BX)(c.gq,{className:a()(u.container,{[null!==(t=u.containerCanVote)&&void 0!==t?t:""]:!o}),cursor:o?void 0:"pointer",justifyContent:o?"space-between":"center",padding:16,position:"relative",onClick:y,children:[v&&(0,i.tZ)("div",{className:u.percentageBackground,style:{width:"".concat(b,"%"),backgroundColor:w}}),(0,i.tZ)(d.Z,{className:u.text,preset:"detail-large",children:f}),v&&(0,i.BX)(c.gq,{alignItems:"center",gap:8,children:[g&&(0,i.tZ)(c.gq,{alignItems:"center",className:u.text,children:(0,i.tZ)(l.Z,{size:16})}),(0,i.BX)(d.Z,{className:u.text,preset:"detail-large",children:[b,"%"]})]})]})})}},32926:function(e,t,n){n.d(t,{Q:()=>i});let i=e=>e.video_upload_id?"Watch":"podcast"===e.type?"Listen":"Read"},92314:function(e,t,n){n.d(t,{c:()=>w});var i=n(16584),r=n(30396),o=n(94184),a=n.n(o),l=n(98661),s=n(12281),d=n(95441),c=n(31098),u=n(29719),p=n(93687),h=n(98914),m=n(98422),g=n(70379),v=n(17564),f=n(18618),C=n(60308),Z=n(63651);let b={editVideoEmbedWrap:"editVideoEmbedWrap-UANbdz",imageGallery:"imageGallery-W5xlEs",editVideoEmbed:"editVideoEmbed-nRUXQD",videoPlaceholder:"videoPlaceholder-F7Lub5",videoScrollTarget:"videoScrollTarget-SzB20Y",video:"video-P2qgwZ",videoPlayer:"videoPlayer-vlcedM",videoEmbed:"videoEmbed-_FycLU",videoPlaceholderSilhouette:"videoPlaceholderSilhouette-XopYyA"},w=e=>{var t,n,o,w;let{mediaUploadId:y,pub:_,post:k,isEditor:A=!1}=e,E=(0,l.useRef)(),{iString:x}=(0,d.M1)(),{isMobile:T}=(0,m.v9)(),{mediaUpload:I,loading:B,error:L,refetch:S}=(0,p.z)({mediaUploadId:y}),[M,P]=(0,r.eJ)(!1),[N,D]=(0,r.eJ)(!1),[R,O]=(0,r.eJ)(!1),[X,j]=(0,r.eJ)(!1),[z,U]=(0,r.eJ)(null);(0,l.useEffect)(()=>()=>{"undefined"!=typeof window&&z&&window.clearTimeout(z)},[z]);let H=()=>{var e;S(),I&&(0,h.pt)((0,C.kOB)(I)),(null===(e=E.current)||void 0===e?void 0:e.player)&&E.current.player.load(),P(!1)};return(0,l.useEffect)(()=>{var e;let t=e=>{e.preventDefault()};return"undefined"!=typeof window&&(null===(e=E.current)||void 0===e?void 0:e.player)&&M&&window.document.addEventListener("dragstart",t),()=>{var e;"undefined"!=typeof window&&(null===(e=E.current)||void 0===e?void 0:e.player)&&window.document.removeEventListener("dragstart",t)}},[M,E]),(0,i.tZ)("div",{"data-component-name":"VideoEmbedPlayer",id:(0,Z.jnY)({mediaUploadId:y}),className:b.videoScrollTarget,onMouseEnter:()=>{z&&(clearTimeout(z),U(null)),D(!0)},onMouseLeave:()=>{"undefined"!=typeof window&&U(window.setTimeout(()=>{D(!1)},0))},children:B?(0,i.tZ)(v.S,{className:b.videoPlaceholderSilhouette}):L||!I?(0,i.tZ)("div",{className:b.videoPlaceholder,children:x("Could not load video.")}):(0,i.tZ)(i.HY,{children:(0,i.BX)("div",{className:a()(b.videoEmbed,A&&b.canEdit),children:[(0,i.tZ)(s.Z,{ref:E,mediaUpload:I,className:a()({[b.canEdit]:A}),pub:_,noPreview:M,renderPlayButton:()=>(0,i.tZ)(f.fI,{isPlaying:!1,size:T?56:72}),stopPropagation:!0,videoType:"embed",videoPlayerClassName:b.videoPlayer,videoClassName:b.video,surface:A?"editor":"post",entityKey:String(null!==(n=null==k?void 0:k.id)&&void 0!==n?n:I.post_id),entityType:"post",contentType:"embed"}),A&&(N||M||R||X)&&(0,i.BX)(g.VW,{children:[(0,i.tZ)(u.Z,{videoPlayer:null!==(o=E.current)&&void 0!==o?o:null,pub:null,postId:null!==(w=null==k?void 0:k.id)&&void 0!==w?w:null,mediaUpload:I,onOpenThumbnail:()=>P(!0),onOpenSettings:null,onThumbnailUpdated:H,onOpenFreePreview:null,onRemoveFreePreview:null,onRemoveMedia:null,active:!M,onSelected:e=>e?O(!0):O(!1),onDownloadStarted:()=>j(!0),onDownloadFinished:()=>j(!1)},y),M&&(null===(t=E.current)||void 0===t?void 0:t.player)&&(0,i.tZ)(c.Z,{videoPlayerRef:E.current.player,videoUpload:I,active:M,onCancel:H,onUpdate:H})]})]})})})}},22670:function(e,t,n){n(16584);var i=n(6400);n(30396),(0,i.createContext)(void 0).displayName="CustomEmailTemplatesContext"},45823:function(e,t,n){n.d(t,{K:()=>d});var i,r,o=n(6400),a=n(30396);let l="undefined"!=typeof window&&null!==(r=null===(i=window._preloads)||void 0===i?void 0:i.freeSignup)&&void 0!==r&&r,s=(0,o.createContext)(l);function d(){return(0,a.qp)(s)}s.displayName="FreeSignupContext"},31098:function(e,t,n){n.d(t,{Z:()=>w});var i=n(7409),r=n(99282),o=n(16584),a=n(80569),l=n.n(a),s=n(58865),d=n(30396),c=n(48083),u=n(95441),p=n(15771),h=n(19081),m=n(98248),g=n(58175),v=n(51776),f=n(93370);function C(){let e=(0,s._)(["time format must be 0:00.0"]);return C=function(){return e},e}function Z(e){let{videoPlayerRef:t,onCancel:n,onSubmit:i,onSubmitLabel:r,initialTime:a}=e,[l,s]=(0,d.eJ)(null!=a?a:0),[Z,b]=(0,d.eJ)((0,f.DL)(l)),[w,y]=(0,d.eJ)(),[_,k]=(0,d.eJ)(!1),A=(0,f.Jk)(Z),{iString:E,iTemplate:x}=(0,u.M1)(),T=(0,c.Z)(t);(0,d.d4)(()=>{t&&setTimeout(()=>{t.currentTime=null!=a?a:0},0)},[]),(0,d.d4)(()=>{(0,f.ZD)(Z)!==l&&b((0,f.DL)(l,!0)),y(void 0)},[l]),(0,d.d4)(()=>{s(T)},[T]);let I=e=>(0,f.Jk)(e)?(s((0,f.ZD)(e)),!0):(y(x(C())),!1),B=e=>(b(e),I(e)),L=(0,d.I4)(e=>{(0,f.fI)(e)&&B(e)&&t&&(t.currentTime=(0,f.ZD)(e))},[Z]),S=async()=>{k(!0),await i({time:l}),k(!1)};if(!t)return null;let M=!!w;return(0,o.BX)(h.tu,{border:"detail",className:"container-dENihb",flex:"grow",gap:16,paddingY:12,paddingX:12,radius:"sm",children:[(0,o.BX)(h.gq,{gap:8,justifyContent:"space-between",alignItems:"center",children:[_?(0,o.tZ)(h.gq,{justifyContent:"center",alignItems:"center",children:(0,o.BX)(h.gq,{justifyContent:"center",alignItems:"center",gap:8,children:[(0,o.tZ)(m.$j,{}),(0,o.tZ)(g.xv.B4,{weight:"medium",color:"secondary",translated:!0,children:"Saving..."})]})}):(0,o.tZ)(h.gq,{gap:16,alignItems:"center",children:(0,o.tZ)(v.oi,{error:!A,value:Z,onChange:e=>L(e.currentTarget.value)})}),(0,o.BX)(h.gq,{gap:8,children:[!_&&(0,o.tZ)(p.zx,{priority:"secondary",onClick:n,children:E("Cancel")}),(0,o.tZ)(p.zx,{priority:"primary",onClick:S,disabled:M,loading:_,children:r})]})]}),w&&(0,o.tZ)(h.tu,{children:(0,o.tZ)(h.gq,{children:(0,o.tZ)(g.xv.B4,{weight:"medium",color:"error",children:w})})})]})}var b=n(70379);let w=e=>{var t;let{videoPlayerRef:n,videoUpload:a,active:s,onCancel:d,onUpdate:c}=e,p=(0,b.pm)(),{iString:h}=(0,u.M1)(),m=async e=>{n&&setTimeout(()=>n.pause(),100);try{let t={thumbnail_time:e.time},n=await l().put("/api/v1/video/upload/".concat(a.id,"/thumbnail_time")).send(t);return c(n.body),p.popToast(e=>(0,o.tZ)(b.FN,(0,r._)((0,i._)({},e),{text:h("Thumbnail successfully updated")}))),e}catch(e){console.error(e),p.popToast(e=>(0,o.tZ)(b.FN,(0,r._)((0,i._)({},e),{text:h("Error setting thumbnail")})))}},g=(null!==(t=a.thumbnail_id)&&void 0!==t?t:0)/100;return s?(0,o.tZ)(Z,{videoPlayerRef:n,onCancel:d,onSubmit:m,onSubmitLabel:h("Set thumbnail"),initialTime:g}):null}},71825:function(e,t,n){n.d(t,{Z:()=>V});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(80569),s=n.n(l),d=n(58865),c=n(6400),u=n(30396),p=n(94184),h=n.n(p),m=n(74691),g=n.n(m),v=n(53716),f=n(82424),C=n(19081),Z=n(98248),b=n(93370);let w={timeline:"timeline-iu4Txf",rail:"rail-_MZqyY",draggable:"draggable-u5Drtn",draggableLeft:"draggableLeft-NsfL_N",draggableRight:"draggableRight-jMJGYz",tooltip:"tooltip-ayX1gr",visible:"visible-vSmpLP",hidden:"hidden-caz2wY",playback:"playback-UzRGYP",nonSelectable:"nonSelectable-ulLSw9",tick:"tick-qjhJIN",lgTick:"lgTick-FIEDu9",smTick:"smTick-UVmBu9",selection:"selection-ioxpLQ",handle:"handle-DL5V5h",storyboard:"storyboard-L12jPn",ticks:"ticks-y4vav6",shadow:"shadow-vjbh9o",shadowContainer:"shadowContainer-Q4Wx96"},y=e=>{let{videoElement:t,start:n,setStart:i,end:r,setEnd:o,onDurationChange:l,storyboard:s,maxDuration:d,minDuration:c,maxTimelineDuration:p,minTimelineDuration:h,looping:m=!1}=e,[g,v]=(0,u.eJ)(0),[f,b]=(0,u.eJ)(0),[y,_]=(0,u.eJ)(0),[A,E]=(0,u.eJ)(0),x=(0,u.sO)(0),[T,I]=(0,u.eJ)(!1);return(0,u.d4)(()=>{let e=()=>{if(t){v(t.duration);let e=[120,t.duration];p&&e.push(p),_(Math.min(...e)),l&&l(t.duration)}};return t&&t.addEventListener("loadedmetadata",e),(null==t?void 0:t.duration)&&e(),()=>{t&&t.removeEventListener("loadedmetadata",e)}},[t]),(0,u.d4)(()=>{t&&(t.currentTime=n)},[n]),(0,u.d4)(()=>{let e=()=>{t&&E(t.currentTime)};if(t)return t.addEventListener("timeupdate",e),()=>{t.removeEventListener("timeupdate",e)}},[t]),(0,u.d4)(()=>{let e=Math.abs(A-x.current);if(x.current=A,e<1){m&&t&&!T&&(A>r||A<n)&&(t.currentTime=n);return}if(!T&&(A>y||A<f)){let e=y-f,t=Math.min(A,g-e);b(t),_(t+e)}},[A]),(0,a.tZ)("div",{className:w.timeline,onWheel:e=>{e.preventDefault();let t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width,i=y-f,r=(e.deltaY>0?-1:1)*i/4,o=i-r,a=f+n*i,l=a-n*o,s=a+(1-n)*o;(!p||!(s-l>p))&&(!h||!(s-l<h))&&(_(Math.min(g,s)),b(Math.max(0,l)))},children:g>0?(0,a.tZ)(k,{startTimeline:f,setStartTimeline:b,endTimeline:y,setEndTimeline:_,startPosition:n,setStartPosition:e=>{if(c&&e+c>=r){i(r-c);return}if(d&&e+d<=r){i(r-d);return}i(e)},endPosition:r,setEndPosition:e=>{if(c&&e-c<=n){o(n+c);return}if(d&&e-d>=n){o(n+d);return}o(e)},setPosition:(e,t)=>{i(e),o(t)},playerPosition:A,duration:g,onDragging:e=>{I(e)},storyboard:s}):(0,a.tZ)(C.gq,{alignItems:"center",justifyContent:"center",children:(0,a.tZ)(Z.$j,{})})})},_=e=>{let{storyboard:t,imageUrl:n,x:i,y:r,displayWidth:o,displayHeight:l,className:s}=e,d=(i?i/t.tile_width:0)*o,c=(r?r/t.tile_height:0)*l,u={width:"".concat(o,"px"),height:"".concat(l,"px"),backgroundImage:"url(".concat(n,")"),backgroundPosition:"-".concat(d,"px -").concat(c,"px"),backgroundSize:"500%"};return(0,a.tZ)("div",{className:s,style:u})},k=e=>{let{startTimeline:t,setStartTimeline:n,endTimeline:i,setEndTimeline:r,startPosition:o,setStartPosition:l,endPosition:s,setEndPosition:d,setPosition:c,playerPosition:p,duration:m,storyboard:v,onDragging:f}=e,Z=(0,u.sO)(null),y=(0,u.sO)(null),k=(0,u.sO)(s-o),A=(0,u.sO)(null),[E,x]=(0,u.eJ)(!1),L=i-t,S=o-t,M=s-t,P=p-t,N=(0,u.Ye)(()=>S/L*100,[L,S]),D=(0,u.Ye)(()=>M/L*100,[M,L]),R=(0,u.Ye)(()=>P/L*100,[P,L]),O="linear-gradient(to right, \n    rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.5) calc(".concat(N,"% + 6px), \n    rgba(0,0,0,0) calc(").concat(N,"% + 6px), rgba(0,0,0,0) calc(").concat(D,"% - 6px), \n    rgba(0,0,0,0.5) calc(").concat(D,"% - 6px), rgba(0,0,0,0.5) 100%)"),X=(0,u.I4)(e=>{l(Math.max(0,e/100*L+t))},[L,l,t]),j=(0,u.I4)(e=>{d(Math.min(m,e/100*L+t))},[m,L,d,t]);(0,u.d4)(()=>{f(E)},[E]);let z=()=>{document.addEventListener("selectstart",H)},U=()=>{document.removeEventListener("selectstart",H)},H=e=>{e.preventDefault(),e.stopPropagation()},F=()=>{setTimeout(()=>{x(!1)},0),y.current=null,A.current=null,U(),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",F),document.removeEventListener("pointerup",F)},V=e=>{if(null===y.current)return;let a=e.clientX-y.current;if(a>5&&x(!0),!Z.current)return;let l=a/Z.current.getBoundingClientRect().width*L,s=o+l,d=s+k.current;A.current?s<0?c(0,k.current):d>m?c(m-k.current,m):c(s,d):t-l>0&&i-l<=m&&(n(Math.max(0,t-l)),r(Math.min(m,i-l)))};return(0,a.BX)("div",{className:w.rail,ref:Z,onMouseDown:e=>{if(!Z.current)return;z(),x(!1),y.current=e.clientX,k.current=s-o;let t=Z.current.getBoundingClientRect().left,n=(e.clientX-t)/Z.current.getBoundingClientRect().width*100,i=n>=N&&n<=D;A.current=i,document.addEventListener("mousemove",V),document.addEventListener("mouseup",F),document.addEventListener("pointerup",F)},onClick:e=>{if(e.stopPropagation(),e.preventDefault(),E||!Z.current)return;y.current=e.clientX,k.current=s-o;let n=Z.current.getBoundingClientRect().left,i=(e.clientX-n)/Z.current.getBoundingClientRect().width*100;if(!(i>=N&&i<=D)){let e=t+i/100*L,n=g()(e,0,m-k.current),r=n+k.current;c(n,r)}},children:[(()=>{var e,n;if(!v)return null;let r=null!==(n=null==Z?void 0:null===(e=Z.current)||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==n?n:0;if(0===r)return null;let o=(function(e,t,n){let i=[],r=Math.floor(e/n)*n,o=Math.ceil(t/n)*n;for(let e=r;e<=o;e+=n)i.push(e);return i})(t,i,L/r*(60*(v.tile_width/v.tile_height))).map(e=>({time:e,tile:v.tiles.reduce((t,n)=>Math.abs(n.start-e)<Math.abs(t.start-e)?n:t)}));return(0,a.tZ)(C.gq,{className:w.storyboard,children:o.map((e,n)=>{let{time:i,tile:r}=e,o=(i-t)/L*100;return(0,a.tZ)("div",{style:{position:"absolute",left:"calc(".concat(o,"% + 6px)")},children:(0,a.tZ)(_,{storyboard:v,imageUrl:v.url,displayHeight:60,displayWidth:v.tile_width/v.tile_height*60,x:r.x,y:r.y},"".concat(r.x,"-").concat(r.y,"-").concat(n))})})})})(),(0,a.tZ)("div",{className:w.nonSelectable,style:{background:O,position:"absolute",top:0,bottom:0,left:0,right:0}}),(0,a.tZ)("div",{className:w.ticks,children:(0,a.tZ)(T,{railDuration:L,startTimeline:t})}),(0,a.tZ)("div",{className:h()(w.ticks,w.nonSelectable),children:(0,a.tZ)("div",{className:w.selection,style:{left:"calc(".concat(N,"% + 6px)"),width:"calc(".concat(D-N,"% - 12px)")}})}),(0,a.tZ)(B,{divRef:Z,startTimeline:t,railDuration:i-t,active:!E}),(0,a.BX)("div",{className:w.ticks,children:[(0,a.tZ)(I,{className:"".concat(w.draggable," ").concat(w.draggableLeft),railRef:Z,label:(0,b.DL)(o,!0),position:N,maxPosition:D,setPosition:X,isDragging:E,setIsDragging:x}),(0,a.tZ)(I,{className:"".concat(w.draggable," ").concat(w.draggableRight),railRef:Z,label:(0,b.DL)(s,!0),position:D,minPosition:N,setPosition:j,isDragging:E,setIsDragging:x}),(0,a.tZ)(I,{className:w.playback,railRef:Z,label:(0,b.DL)(p,!0),position:R,isDragging:E,setIsDragging:x,disabled:!0})]})]})},A=[{id:"lg",interval:60,tickClassName:w.lgTick,displayOnZoomLevels:["lg","md"],displayLabelsOnZoomLevels:["lg"]},{id:"md",interval:30,tickClassName:w.lgTick,displayOnZoomLevels:["lg","md"],displayLabelsOnZoomLevels:["md"]},{id:"sm",interval:5,tickClassName:w.smTick,displayOnZoomLevels:["md","sm"],displayLabelsOnZoomLevels:["sm"]},{id:"xs",interval:1,tickClassName:w.smTick,displayOnZoomLevels:["sm","xs"],displayLabelsOnZoomLevels:["xs"]}],E=e=>e>120?"lg":e>30?"md":e>5?"sm":"xs",x=(e,t,n)=>{let i=Math.floor(e/n)*n;return Array.from({length:Math.ceil(t/n)+1}).map((t,r)=>({label:(0,b.DL)(i+n*r),time:i+n*r-e}))},T=e=>{let{railDuration:t,startTimeline:n}=e,o=E(t),l=A.map(e=>(0,r._)((0,i._)({},e),{values:x(n,t,e.interval)}));return(0,a.tZ)(c.Fragment,{children:l.map(e=>e.displayOnZoomLevels.includes(o)&&e.values.map((n,i)=>(0,a.tZ)("div",{className:h()(w.tick,e.tickClassName,w.nonSelectable),style:{left:"".concat(n.time/t*100,"%")},children:e.displayLabelsOnZoomLevels.includes(o)&&(0,a.tZ)("span",{children:n.label})},i)))})},I=e=>{let{railRef:t,position:n,disabled:i,setPosition:r,label:o,maxPosition:l,minPosition:s,className:d,onDragStart:c,onDragEnd:p,showIcon:h=!0,setIsDragging:m}=e,g=(0,u.sO)(null),[v,f]=(0,u.eJ)(!1),C=()=>{document.addEventListener("selectstart",b)},Z=()=>{document.removeEventListener("selectstart",b)},b=e=>{e.preventDefault(),e.stopPropagation()},y=()=>{setTimeout(()=>{m(!1)},0),f(!1),Z(),document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",y),document.removeEventListener("pointerup",y),p&&p()},_=e=>{if(m(!0),!t.current||!g.current)return;let n=t.current.getBoundingClientRect().left,i=t.current.getBoundingClientRect().width,o=(e.clientX-n)/i*100;r&&(void 0!==l&&void 0!==s?r(Math.min(l,Math.max(s,o))):void 0!==l?r(Math.min(l,o)):void 0!==s?r(Math.max(s,o)):r(o))};return(0,a.BX)("div",{className:d,ref:g,style:{left:"".concat(n,"%")},onMouseDown:e=>{!i&&(m(!1),e.stopPropagation(),f(!0),C(),document.addEventListener("mousemove",_),document.addEventListener("mouseup",y),document.addEventListener("pointerup",y),c&&c())},children:[h&&(0,a.tZ)("div",{className:w.handle}),(0,a.tZ)("div",{className:"".concat(w.tooltip," ").concat(v?w.visible:w.hidden," ").concat(w.nonSelectable),children:o})]})},B=e=>{let{divRef:t,startTimeline:n,railDuration:i,active:r}=e,[o,l]=(0,u.eJ)(null),[s,d]=(0,u.eJ)(!1),c=e=>{if(t.current){let r=t.current.getBoundingClientRect(),{left:o,width:a}=r,s=e.clientX-o;l({x:e.clientX-r.left,time:n+s/a*100/100*i})}},p=()=>d(!0),m=()=>d(!1);return((0,u.d4)(()=>(t.current&&(t.current.addEventListener("mousemove",c),t.current.addEventListener("mouseenter",p),t.current.addEventListener("mouseleave",m)),()=>{t.current&&(t.current.removeEventListener("mousemove",c),t.current.removeEventListener("mouseenter",p),t.current.removeEventListener("mouseleave",m))}),[n,i]),r&&o&&s)?(0,a.BX)("div",{className:h()(w.shadowContainer,w.nonSelectable),style:{left:o.x},children:[(0,a.tZ)("div",{className:w.shadow}),(0,a.tZ)("div",{className:w.tooltip,children:(0,b.DL)(o.time,!0)})]}):null};var L=n(347),S=n(95441),M=n(68833),P=n(15771),N=n(58175),D=n(51776),R=n(87077),O=n(24791),X=n(82021);function j(){let e=(0,d._)(["Start time format must be 0:00.0"]);return j=function(){return e},e}function z(){let e=(0,d._)(["End time format must be 0:00.01"]);return z=function(){return e},e}function U(e){var t;let{videoPlayerRef:n,videoUpload:i,post:r,onCancel:o,onSubmit:l,onSubmitLabel:d,minClipDuration:p=1,maxClipDuration:m=Number.MAX_VALUE,minTimelineDuration:w=0,maxTimelineDuration:_=Number.MAX_VALUE,initialStart:k,initialEnd:A,showCaptionsButton:E=!0,elevated:x}=e,[T,I]=(0,u.eJ)(null!=k?k:0),[B,U]=(0,u.eJ)(null!=A?A:Math.min(6,null!==(t=null==i?void 0:i.duration)&&void 0!==t?t:6)),[H,F]=(0,u.eJ)((0,b.DL)(T,!0)),[V,W]=(0,u.eJ)((0,b.DL)(B,!0)),[q,Y]=(0,u.eJ)(!1),[J,G]=(0,u.eJ)(),[K,Q]=(0,u.eJ)(),[$,ee]=(0,u.eJ)(),[et,en]=(0,u.eJ)(),[ei,er]=(0,u.eJ)(!1),[eo,ea]=(0,u.eJ)(!0),el=(0,O.xH)(r),es=(0,b.Jk)(H),ed=(0,b.Jk)(V),{iString:ec,iTemplate:eu}=(0,S.M1)();(0,u.d4)(()=>{let e=async e=>{let{body:{src:t}}=await s().get("/api/v1/video/upload/".concat(e,"/storyboard"));G((await s().get(t)).body)};(null==i?void 0:i.id)&&e(i.id)},[i]),(0,u.d4)(()=>{(0,b.ZD)(H)!==T&&F((0,b.DL)(T,!0)),Q(void 0)},[T]),(0,u.d4)(()=>{(0,b.ZD)(V)!==B&&W((0,b.DL)(B,!0)),ee(void 0)},[B]);let ep=e=>{let t=!1;return e<0?(en(ec("Start time must be prior to end time")),t=!0):e>m?(en(ec("Clip can't be greater than 60 seconds")),t=!0):e<p?(en(ec("Clip must be at least 5 seconds")),t=!0):en(void 0),t},eh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,b.Jk)(e);if(n||("start"===t?F(e):W(e)),!i)return("start"===t?Q:ee)("start"===t?eu(j()):eu(z())),!1;let r=(0,b.ZD)(e),o="start"===t?(0,b.ZD)(V)-r:r-(0,b.ZD)(H),a=!1;return o<=0?a=!0:("start"===t?Q:ee)(void 0),(a=ep(o)||a)||n||("start"===t?(I(r),U((0,b.ZD)(V))):(I((0,b.ZD)(H)),U(r))),!a},em=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return eh(e,"start",t)},eg=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return eh(e,"end",t)},ev=(0,u.I4)((e,t)=>{(0,b.fI)(t)&&("start"===e?em(t):eg(t))},[H,V]),ef=async()=>{er(!0),await (null==l?void 0:l({start:T,duration:B-T,render_transcript_as:q?"subtitles":void 0})),er(!1)};if(!n)return null;let eC=!!K||!!$||!!et;return(0,a.tZ)(L.h,{children:(0,a.tZ)(C.hs,{bg:"primary",className:h()(x?X.Z.containerElevated:X.Z.containerInline),children:(0,a.BX)(C.tu,{gap:16,paddingX:4,flex:"grow",children:[(0,a.tZ)(C.gq,{className:X.Z.videoTrimmerWrapper,children:(0,a.tZ)(y,{videoElement:n,start:T,setStart:I,end:B,setEnd:U,minDuration:p,maxDuration:m,maxTimelineDuration:_,minTimelineDuration:w,looping:eo,onDurationChange:e=>{!k&&!A&&U(g()(e/4,p,30))},storyboard:J})}),(0,a.BX)(c.Fragment,{children:[(0,a.BX)(C.gq,{justifyContent:"space-between",alignItems:"center",opacity:ei?50:100,children:[ei?(0,a.tZ)(C.gq,{justifyContent:"center",alignItems:"center",children:(0,a.BX)(C.gq,{justifyContent:"center",alignItems:"center",gap:8,children:[(0,a.tZ)(Z.$j,{}),(0,a.tZ)(N.xv.B4,{weight:"medium",translated:!0,color:"secondary",children:"Saving..."})]})}):(0,a.BX)(C.gq,{gap:16,children:[(0,a.BX)(C.gq,{gap:4,alignItems:"center",onClick:()=>el&&Y(!q),className:"".concat(el?X.Z.captionsAvailable:X.Z.captionsNotAvailable),children:[(0,a.tZ)(R.u,{text:ec("Loop video"),children:(0,a.tZ)(P.hU,{onClick:()=>{var e;(0,M.j)(M.FP.VIDEO_CLIP_LOOP_BUTTON_CLICKED,{post_id:null==r?void 0:r.id,media_upload_id:null==r?void 0:null===(e=r.videoUpload)||void 0===e?void 0:e.id,looping:!eo}),ea(!eo)},children:(0,a.tZ)(v.Z,{})})}),E&&(0,a.tZ)(R.u,{text:ec("Include subtitles"),children:(0,a.tZ)(P.hU,{disabled:!el||ei,children:(0,a.tZ)(f.Z,{})})})]}),(0,a.BX)(C.gq,{gap:8,children:[(0,a.tZ)(D.oi,{error:!es,value:H,onChange:e=>ev("start",e.currentTarget.value)}),(0,a.tZ)(D.oi,{error:!ed,value:V,onChange:e=>ev("end",e.currentTarget.value)})]}),(0,a.tZ)(C.gq,{gap:4,alignItems:"center",justifyContent:"space-between",className:X.Z.durationContainer,children:(0,a.tZ)(N.xv.B3,{weight:"medium",color:"secondary",children:(0,b.DL)(B-T,!0)})})]}),(0,a.BX)(C.gq,{gap:8,children:[(0,a.tZ)(P.zx,{priority:"secondary",onClick:o,children:ec("Cancel")}),(0,a.tZ)(P.zx,{onClick:ef,disabled:eC||ei,children:d})]})]}),eC&&(0,a.BX)(C.tu,{children:[K&&(0,a.tZ)(C.gq,{children:(0,a.tZ)(N.xv.B4,{weight:"medium",color:"error",children:K})}),$&&(0,a.tZ)(C.gq,{children:(0,a.tZ)(N.xv.B4,{weight:"medium",color:"error",children:$})}),et&&(0,a.tZ)(C.gq,{children:(0,a.tZ)(N.xv.B4,{weight:"medium",color:"error",children:et})})]})]})]})})})}var H=n(61649),F=n(70379);let V=e=>{var t;let{videoPlayerRef:n,videoUpload:l,post:d,active:c,onCancel:u,onUpdate:p,audioPreviewMediaUpload:h,onAudioExtractPreviewMediaUpload:m}=e,g=(0,F.pm)(),{iString:v}=(0,S.M1)(),f=async e=>{n&&setTimeout(()=>n.pause(),100);try{let t={preview_start:e.start,preview_duration:e.duration},n=(await s().put("/api/v1/video/upload/".concat(l.id,"/preview")).send(t)).body,{audioExtractPreviewMediaUpload:d}=n,c=(0,o._)(n,["audioExtractPreviewMediaUpload"]),u=!h,f=h&&!!(null==h?void 0:h.src_media_upload_id);return d&&(u||f)&&m({mediaUpload:d}),p(c),g.popToast(e=>(0,a.tZ)(F.FN,(0,r._)((0,i._)({},e),{text:v("Free preview successfully updated")}))),e}catch(e){console.error(e),g.popToast(e=>(0,a.tZ)(F.FN,(0,r._)((0,i._)({},e),{text:v("Error setting free preview")})))}},{preview_start:C,preview_duration:Z}=l,b=C||0,w=Z?b+Z:b+Math.max(30,(null!==(t=l.duration)&&void 0!==t?t:60)/2);return c?(0,a.tZ)(U,{videoPlayerRef:n,videoUpload:l,post:d,onCancel:u,onSubmit:f,onSubmitLabel:v("Set free preview"),minClipDuration:H.AT,minTimelineDuration:H.Zl,maxTimelineDuration:H.eD,initialStart:b,initialEnd:w,showCaptionsButton:!1}):null}},55918:function(e,t,n){n.r(t),n.d(t,{ImageActions:()=>s});var i=n(16584),r=n(74655),o=n(35588),a=n(71068),l=n(19081);function s(e){let{size:t}=e;return(0,i.BX)(l.X2,{gap:8,children:[(0,i.tZ)(a.xu,{className:"icon-container restack-image",children:(0,i.tZ)(r.Z,{size:t})}),(0,i.tZ)(a.xu,{className:"icon-container view-image",children:(0,i.tZ)(o.Z,{size:t})})]})}},40158:function(e,t,n){n.d(t,{y:()=>u}),n(27412);var i=n(7409),r=n(98848),o=n(16584),a=n(6400),l=n(94184),s=(n(82424),n(13304),n(82016),n(36181),n(51214),n(99282)),d=n(64515);n(95741);var c=n(49995);function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var{timeout:n=5e3}=t,o=(0,r._)(t,["timeout"]);(0,c.ZP)(e,(0,i._)({timeout:n},o),document.querySelector(".bottom-bar"))}n(98914),n(19081),n(98248),n(96085),a.Component},29719:function(e,t,n){n.d(t,{Z:()=>W});var i=n(7409),r=n(99282),o=n(16584),a=n(6400),l=n(30396),s=n(94184),d=n.n(s),c=n(40423),u=n(5281),p=n(84488),h=n(65445),m=n(85200),g=n(71212),v=n(47976),f=n(27194),C=n(74945),Z=n(80569),b=n.n(Z),w=n(29032),y=n(20888),_=n(12281),k=n(95441),A=n(40647),E=n(28771),x=n(61381),T=n(89871),I=n(43148),B=n(53030),L=n(68833),S=n(49762),M=n(98914),P=n(70717),N=n(15771),D=n(61254),R=n(19081),O=n(84747),X=n(98248),j=n(58175),z=n(70379),U=n(18618),H=n(60308),F=n(9799),V=n(22777);let W=e=>{var t,n;let{videoPlayer:s,pub:Z,postId:W,mediaUpload:q,audioExtractMediaUpload:Y,onOpenThumbnail:J,onThumbnailUpdated:G,onOpenFreePreview:K,onRemoveFreePreview:Q,onOpenSettings:$,onRemoveMedia:ee,active:et,onSelected:en,onDownloadStarted:ei,onDownloadFinished:er,onOpenVideoSettings:eo}=e,[ea,el]=(0,l.eJ)(),[es,ed]=(0,l.eJ)(!1),ec=(0,l.sO)(null),{iString:eu}=(0,k.M1)(),{setIsPodcastDrawerOpen:ep,isPodcastDrawerOpen:eh,setInitialTab:em}=(0,x.y)(),{setIsDrawerOpen:eg}=(0,E.M$)(),{getConfigFor:ev}=(0,A.xR)(),ef=(0,M.K1)(),eC=(0,z.pm)(),eZ=(0,F.M)(q),eb=(0,B.md)(s),{postMediaComposition:ew}=(0,T.z)(),[ey,e_]=(0,l.eJ)(!1);(0,l.d4)(()=>{null==en||en(ea)},[ea]),(0,l.d4)(()=>{100===eZ.downloadPercentage&&(null==er||er())},[eZ.downloadPercentage]);let ek=()=>{if(null==s?void 0:s.player){let e=s.player;e.pause(),e.currentTime=0;let t=e.src;e.src="",e.load(),e.src=t}},eA=async()=>{var e,t;if((0,L.j)(L.FP.EDITOR_MEDIA_SET_THUMBNAIL_UPLOAD_IMAGE_CLICKED,{media_upload_id:q.id,post_id:q.post_id}),!(null==ec?void 0:null===(t=ec.current)||void 0===t?void 0:null===(e=t.files)||void 0===e?void 0:e.length))return;let n=ec.current.files[0];ed(!0),await eE(n),ed(!1)},eE=async e=>{let t=Math.round(new Date().getTime()/1e3);try{await b().put("/api/v1/video/upload/".concat(q.id,"/thumbnail_id")).send({thumbnail_id:t,custom_thumbnail:!0});let n=await b().post("/api/v1/video/upload/".concat(q.id,"/thumbnail_upload_url")).query({fileType:e.type,fileSize:e.size,thumbnail_id:t}),o=n.body.thumbnail_upload_url;await b().put(o).set("content-type",e.type).send(e),(0,M.pt)((0,H.ow1)(n.body.mediaUpload)),G((0,r._)((0,i._)({},n.body.mediaUpload),{updated_at:new Date})),ek()}catch(e){console.error(e);return}},ex=async()=>{try{let{body:e}=await b().put("/api/v1/video/upload/".concat(q.id,"/thumbnail_id")).send({ai_thumbnail:!0});eC.popToast(t=>(0,o.tZ)(z.FN,(0,r._)((0,i._)({},t),{text:"Workflow started with id ".concat(e.workflowId)})))}catch(e){console.error(e);return}},eT=(0,H.kOB)(q),eI=async()=>{if(Y){null==ei||ei(),e_(!0);try{await fetch("/api/v1/audio/upload/".concat(Y.id,"/src?download=true")).then(async e=>{var t,n,i;let r=null===(i=e.headers.get("Content-Disposition"))||void 0===i?void 0:null===(n=i.split("filename="))||void 0===n?void 0:null===(t=n[1])||void 0===t?void 0:t.replace(/"/g,"");return{blob:await e.blob(),filename:r}}).then(e=>{let{blob:t,filename:n}=e,i=window.URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download=n?decodeURIComponent(n):"audio.mp3",document.body.appendChild(r),r.click(),r.remove()})}catch(e){alert((0,M.zx)(e))}finally{e_(!1),null==er||er()}}};return et?(0,o.BX)(w.C,{children:[(0,o.tZ)("div",{className:V.Z.verticalMenu,children:(0,o.BX)(R.tu,{gap:8,alignItems:"end",children:[!ea&&$&&(0,o.tZ)(I.H,{label:eu("Clips"),children:(0,o.tZ)(I.o,{onClick:()=>{ep({isOpen:!eh}),eh||(em("clips"),null==$||$({tab:"clips"}))},children:(0,o.BX)(o.HY,{children:[(0,o.tZ)(y.e,{src:(0,H.kOB)(q),maxWidth:40,radius:"full",imageProps:{height:40,smartCrop:!0},style:{border:"2px solid white"},className:V.Z.clipIcon}),(0,o.tZ)(R.hs,{position:"absolute",children:(0,o.tZ)(c.Z,{size:16,stroke:"white"})})]})})},"".concat(q.id,"_clips")),(!ea||"settings"===ea)&&$&&(0,o.tZ)(I.H,{label:eu("Open Settings"),children:(0,o.tZ)(I.o,{onClick:()=>{ev("video_editor_full_screen")?eg({drawerId:"videoEditor",isOpen:!0}):(ep({isOpen:!eh}),eh||$())},children:(0,o.tZ)(u.Z,{size:16})})},"".concat(q.id,"_settings")),(!ea||"preview"===ea)&&K&&Q&&(0,o.tZ)(I.H,{label:eu("Free preview"),children:q.preview_duration?(0,o.tZ)(O.M,{layerOptions:{placement:"bottom-end"},onClose:()=>el(void 0),onOpen:()=>el("preview"),trigger:(0,o.tZ)(I.o,{children:(0,o.tZ)(p.Z,{size:16})}),children:(0,o.BX)(R.tu,{gap:8,padding:8,justifyContent:"center",children:[(0,o.tZ)(R.gq,{className:V.Z.videoPlaceholder,justifyContent:"center",alignItems:"center",children:(0,o.BX)("div",{className:d()("video-editor-menu",V.Z.videoEditorMenu),children:[(0,o.tZ)(_.Z,{mediaUpload:q,pub:Z,autoPlay:!1,usePreview:!0,surface:"editor",contentType:"post",videoType:"post",entityKey:String(null!=W?W:null==q?void 0:q.post_id),entityType:"post",renderPlayButton:()=>(0,o.tZ)(U.fI,{isPlaying:!1,size:ef?40:56})}),(0,o.tZ)(P.w,{duration:q.preview_duration})]})}),(0,o.BX)(a.Fragment,{children:[(0,o.tZ)(N.zx,{priority:"secondary",onClick:()=>{K(),el(void 0)},children:eu("Edit preview")}),(0,o.tZ)(N.zx,{priority:"destructive",disabled:!q.preview_duration,onClick:()=>{Q(),el(void 0)},children:eu("Remove preview")})]})]})}):(0,o.tZ)(I.o,{onClick:K,children:(0,o.tZ)(p.Z,{size:16})})},"".concat(q.id,"_preview")),(!ea||"thumbnail"===ea)&&(0,o.tZ)(I.H,{label:eu("Edit thumbnail"),children:(0,o.tZ)(O.M,{layerOptions:{placement:"bottom-end"},onClose:()=>el(void 0),onOpen:()=>el("thumbnail"),trigger:(0,o.tZ)(I.o,{children:(0,o.tZ)(h.Z,{size:16})}),children:(0,o.BX)(R.tu,{gap:8,padding:8,justifyContent:"center",children:[es?(0,o.tZ)(R.gq,{className:V.Z.loadingPlaceholder,justifyContent:"center",alignItems:"center",children:(0,o.tZ)(X.$j,{})}):(0,o.tZ)("img",{className:V.Z.thumbnailPicture,src:eT}),(0,o.BX)(a.Fragment,{children:[(0,o.BX)(N.zx,{priority:"secondary",disabled:es,children:[eu("Upload image"),(0,o.tZ)("input",{type:"file",accept:"image/*",className:V.Z.customThumbnailInput,onChange:()=>eA(),ref:ec})]}),(0,o.tZ)(N.zx,{priority:"secondary",disabled:es,onClick:()=>{(0,L.j)(L.FP.EDITOR_MEDIA_SET_THUMBNAIL_FROM_TIMELINE_CLICKED,{media_upload_id:q.id,post_id:q.post_id}),J(),el(void 0)},children:eu("Select from timeline")}),(0,o.tZ)(S.kR,{configKey:"use_livestream_post_media_composition",value:!0,children:(0,o.tZ)(N.zx,{priority:"secondary",onClick:async()=>{await ex(),el(void 0)},children:eu("Select with AI")})})]})]})})},"".concat(q.id,"_thumbnail")),(0,o.tZ)(I.H,{label:eu("More"),children:(0,o.BX)(O.M,{layerOptions:{placement:"bottom-end"},onOpen:()=>el("more"),onClose:()=>el(void 0),trigger:(0,o.tZ)(I.o,{disabled:eZ.downloadPercentage>0||ey,children:eZ.downloadPercentage>0||ey?(0,o.BX)(R.hs,{position:"relative",justifyContent:"center",alignItems:"center",children:[eZ.downloadPercentage>0?(0,o.tZ)(R.hs,{position:"absolute",justifyContent:"center",alignItems:"center",children:(0,o.BX)(j.xv.Digit,{color:"white",children:[eZ.downloadPercentage.toFixed(0),"%"]})}):null,(0,o.tZ)(R.hs,{position:"absolute",justifyContent:"center",alignItems:"center",children:(0,o.tZ)(X.$j,{size:32})})]}):(0,o.tZ)(m.Z,{size:16})}),children:[(0,o.tZ)(O.u,{leading:(0,o.tZ)(g.Z,{}),onClick:()=>{eZ.startDownload(),null==ei||ei()},children:eu("Download video")}),Y&&(0,o.tZ)(O.u,{leading:(0,o.tZ)(g.Z,{}),onClick:eI,children:eu("Download audio")}),(0,o.tZ)(S.kR,{configKey:"use_livestream_post_media_composition",value:!0,children:ew&&eo&&(0,o.tZ)(O.u,{leading:(0,o.tZ)(v.Z,{size:16}),onClick:()=>{null==eo||eo()},children:eu("Edit video")})}),ew&&eo&&(0,o.tZ)(D.iz,{paddingY:4}),ee&&(0,o.tZ)(O.u,{leading:(0,o.tZ)(f.Z,{}),priority:"destructive",onClick:()=>{(0,L.j)(L.FP.EDITOR_MEDIA_REMOVE_CLICKED,{media_upload_id:q.id,post_id:q.post_id}),ee()},children:eu("Delete video")})]})},"".concat(q.id,"_more"))]})}),!eb&&(0,o.tZ)(P.w,{duration:null!==(t=q.duration)&&void 0!==t?t:0,icon:q.preview_duration?(0,o.tZ)(p.Z,{color:"white",size:12}):null,previewDuration:null!==(n=q.preview_duration)&&void 0!==n?n:null},"".concat(q.id,"_duration")),(0,o.tZ)(S.kR,{configKey:"use_livestream_post_media_composition",value:!0,children:ew&&eo&&(0,o.tZ)(R.hs,{position:"absolute",style:{left:16,top:16},children:(0,o.tZ)(N.zx,{size:"sm",priority:"secondary",leading:(0,o.tZ)(C.Z,{size:16}),onClick:()=>{null==eo||eo()},children:eu("Edit AI enhancements")})})})]},"".concat(q.id,"_container")):null}},64819:function(e,t,n){n.d(t,{n:()=>x});var i=n(7409),r=n(99282),o=n(16584),a=n(30396),l=n(57560),s=n(95441),d=n(19081),c=n(58175);let u=e=>{let{accept:t,onUploadClicked:n,onFileSelected:i,onRecord:r,hideRecorder:u=!1,hideReset:p=!0,onResetToDefault:h}=e,m=(0,a.sO)(null),{iString:g}=(0,s.M1)();return(0,o.BX)(d.gq,{gap:16,children:[(0,o.tZ)(d.hs,{radius:"xs",height:40,width:40,bg:"secondary",alignItems:"center",justifyContent:"center",children:(0,o.tZ)(l.Z,{size:24,color:"var(--color-fg-tertiary)"})}),(0,o.BX)(d.tu,{gap:4,children:[(0,o.tZ)(c.xv.B4,{color:"primary",weight:"semibold",children:g("Upload audio file")}),(0,o.BX)(d.gq,{gap:16,children:[(0,o.tZ)(c.xv.B4,{color:"accent",weight:"semibold",decoration:"underline",cursor:"pointer",onClick:()=>{m.current&&(m.current.click(),n(m.current))},children:g("Select file")}),!u&&(0,o.tZ)(c.xv.B4,{weight:"semibold",decoration:"underline",cursor:"pointer",color:"secondary",onClick:r,children:g("Record audio")}),!p&&(0,o.tZ)(c.xv.B4,{color:"secondary",weight:"semibold",decoration:"underline",cursor:"pointer",onClick:h,children:g("Reset audio to default")})]}),(0,o.tZ)("input",{style:{display:"none"},ref:m,type:"file",accept:t,onChange:e=>{null!=e.target&&i(e.target.files[0])}})]})]})};var p=n(27412),h=n(6400),m=n(94184),g=n.n(m),v=n(71375),f=n(87515),C=n(68833),Z=n(15771),b=n(84864);let w={outerRing:"outerRing-LiaIRq",innerRing:"innerRing-LAXmu7",accentRing:"accentRing-fxo2aG",accentBackgroundRing:"accentBackgroundRing-muyYxM"};class y extends h.Component{async componentDidMount(){if(!await this.recorder.startMicrophone()){var e,t;null===(e=(t=this.props).onCancel)||void 0===e||e.call(t)}}componentWillUnmount(){this.onCloseClicked()}onRecorderStarted(){var e,t;null===(e=(t=this.props).onRecorderStarted)||void 0===e||e.call(t),this.onRecorderChanged(null)}onRecorderChanged(e){if(this.setState({recorderState:this.recorder.state,recorderDuration:this.recorder.duration,recorderVolume:this.recorder.volume}),e){var t,n;null===(t=(n=this.props).onComplete)||void 0===t||t.call(n,e)}}render(e,t){var n;let{iString:i}=e,{recorderState:r,recorderDuration:a,countDown:l}=t;return(0,o.BX)(d.gq,{flex:"grow",gap:16,alignItems:"center",justifyContent:"space-between",children:[r===f.Z.STATE.STOPPED&&(0,o.BX)(d.hs,{alignItems:"center",justifyContent:"center",gap:16,children:[(0,o.tZ)(d.hs,{radius:"full",className:g()(w.outerRing),border:"detail",onClick:this.onButtonClick,cursor:"pointer",children:(0,o.tZ)(d.hs,{className:g()(w.innerRing,w.accentRing,w.accentBackgroundRing),bg:"accent-red",radius:"full"})}),(0,o.tZ)(c.xv.B3,{color:"primary",weight:"semibold",children:null!==(n=null==i?void 0:i("Start recording"))&&void 0!==n?n:"Start recording"})]}),[f.Z.STATE.STARTED,f.Z.STATE.STARTING].includes(r)&&(0,o.BX)(d.hs,{alignItems:"center",justifyContent:"center",gap:16,children:[(0,o.tZ)(d.hs,{radius:"full",className:g()(w.outerRing,w.accentRing),border:"detail",onClick:this.onButtonClick,cursor:"pointer",children:(0,o.tZ)(d.hs,{className:g()(w.innerRing,w.accentRing,w.accentBackgroundRing),bg:"accent-red"})}),r===f.Z.STATE.STARTING&&(0,o.BX)(c.xv.B3,{color:"primary",weight:"semibold",children:[l,"..."]}),r===f.Z.STATE.STARTED&&(0,o.tZ)(c.xv.B3,{color:"primary",weight:"semibold",children:(0,b.secondsToHHMMSS)(null!=a?a:0)})]}),(0,o.tZ)(Z.hU,{priority:"quaternary",onClick:this.onCloseClicked,children:(0,o.tZ)(v.Z,{size:20})})]})}constructor(e,t){super(e,t),(0,p._)(this,"recorder",void 0),(0,p._)(this,"onButtonClick",()=>{this.recorder.state===f.Z.STATE.STOPPED?((0,C.j)(C.FP.AUDIO_PRESS_RECORD_CLICKED,{feature:this.props.feature}),this.setState({countDown:3}),setTimeout(()=>this.setState({countDown:2}),700),setTimeout(()=>this.setState({countDown:1}),1400),this.recorder.start({startAt:Date.now()+2100})):(this.recorder.state===f.Z.STATE.STARTING||this.recorder.state===f.Z.STATE.STARTED)&&this.recorder.stop()}),(0,p._)(this,"onCloseClicked",()=>{if(this.recorder.state===f.Z.STATE.STARTED){var e,t;if(this.recorder.suspend(),!confirm("Your recording will be discarded, are you sure?")){this.recorder.resume();return}this.recorder.stop({dropRecording:!0}),null===(e=(t=this.props).onRecorderStopped)||void 0===e||e.call(t)}else this.recorder.state===f.Z.STATE.STARTING?this.recorder.onStarted=()=>this.recorder.stop({dropRecording:!0}):this.recorder.state===f.Z.STATE.STOPPED&&this.recorder.stopMicrophone();this.props.onCancel&&this.props.onCancel()}),this.recorder=new f.Z({onStarting:()=>this.onRecorderChanged(),onStarted:()=>this.onRecorderStarted(),onChunk:()=>this.onRecorderChanged(),onStopping:()=>this.onRecorderChanged(),onStopped:e=>this.onRecorderChanged(e)}),this.state={countDown:3,recorderState:this.recorder.state,recorderDuration:this.recorder.duration,recorderVolume:this.recorder.volume}}}(0,p._)(y,"contextType",s.wj);let _=(0,s.fz)(y);var k=n(21903),A=n(21680);let E=e=>{var t;let{iString:n}=(0,s.M1)(),i=(null!==(t=e.percentComplete)&&void 0!==t?t:0)*100;return(0,o.BX)(d.gq,{gap:16,flex:"grow",children:[(0,o.tZ)(d.hs,{radius:"xs",height:40,width:40,bg:"secondary",alignItems:"center",justifyContent:"center",children:(0,o.tZ)(l.Z,{size:24,color:"var(--color-fg-tertiary)"})}),(0,o.BX)(d.tu,{flex:"grow",gap:4,children:[(0,o.BX)(d.gq,{justifyContent:"space-between",alignItems:"center",children:[(0,o.tZ)(c.xv.B4,{color:"primary",weight:"semibold",children:n("Upload audio file")}),(0,o.tZ)(d.gq,{cursor:"pointer",onClick:e.onCancel,children:(0,o.tZ)(v.Z,{size:20,color:"var(--color-fg-secondary)"})})]}),(0,o.BX)(d.gq,{flex:"grow",alignItems:"center",gap:32,children:[(0,o.tZ)(d.gq,{flex:"grow",radius:"full",bg:"tertiary",style:{height:"6px"},children:(0,o.tZ)(d.gq,{radius:"full",style:{width:"".concat(i,"%"),backgroundColor:"var(--color-fg-primary)"}})}),(0,o.tZ)(d.gq,{width:32,justifyContent:"end",children:(0,o.BX)(c.xv.Digit,{color:"primary",children:[i.toFixed(0),"%"]})})]})]})]})};class x extends k.QM{trackUploadClicked(){(0,C.j)(C.FP.UPLOAD_EPISODE_AUDIO_CLICKED)}render(e,t){var n,a,l,s;let{onRecorderStarted:c,onRecorderStopped:p,feature:h,mediaUpload:m,removeUpload:g,hideRecorder:v,hideReset:f}=e,{preuploading:C,uploading:Z,recording:b,percentComplete:w}=t,y=(null==m?void 0:m.state)==="uploaded",k=!b&&(Z||C),{iString:x}=this.i18n,T=null!==(l=null===(n=this.props.components)||void 0===n?void 0:n.AudioDecider)&&void 0!==l?l:u,I=null!==(s=null===(a=this.props.components)||void 0===a?void 0:a.AudioRecorder)&&void 0!==s?s:_;return(0,o.BX)(d.gq,{flex:"grow",border:"detail",radius:"sm",alignItems:"center",paddingY:16,paddingX:12,gap:8,children:[!b&&!k&&!y&&(0,o.tZ)(T,(0,r._)((0,i._)({},this.props),{accept:this.accepts,onUploadClicked:this.onUploadClicked,onFileSelected:this.onFileSelected,onRecord:()=>this.setState({recording:!0}),hideRecorder:v,hideReset:f,onResetToDefault:this.props.onResetToDefault})),b&&(0,o.tZ)(I,{feature:h,onComplete:e=>{this.setState({recording:!1}),e&&this.uploadToS3(e),null==p||p()},onCancel:()=>{this.setState({recording:!1})},onRecorderStarted:c,onRecorderStopped:p}),k&&(0,o.tZ)(E,{percentComplete:w,onCancel:()=>{if(confirm(x("Are you sure you want to cancel the upload?"))){var e,t;this.cancelUpload(),null===(e=(t=this.props).onUploadCanceled)||void 0===e||e.call(t)}}}),y&&(0,o.tZ)(A.O,{onCancel:g})]})}constructor(e,t){var n;super(e,t),this.state={recording:null!==(n=this.props.skipToRecordStep)&&void 0!==n&&n}}}},24763:function(e,t,n){n.d(t,{Z:()=>d});var i=n(16584),r=n(71375),o=n(84892),a=n(1055),l=n(15771);let s=e=>{let{isPlaying:t,togglePlayback:n}=e;return(0,i.tZ)("div",{className:"tw-relative tw-flex tw-h-10 tw-w-10 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-accent tw-transition-transform hover:tw-scale-105",onClick:n,role:"button",children:t?(0,i.BX)("div",{className:"tw-flex tw-h-4 tw-w-4 tw-justify-between",children:[(0,i.tZ)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,i.tZ)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})]}):(0,i.tZ)(a.Z,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent ",stroke:"none",height:16})})},d=e=>{let{currentTime:t,isPlaying:n,progress:a,progressBarRef:d,progressBarOnMouseDown:c,remainingTime:u,togglePlayback:p,onRemove:h}=e;return(0,i.BX)("div",{className:"auditionPlayer-OkcpWn",children:[(0,i.tZ)(s,{togglePlayback:p,isPlaying:n}),(0,i.tZ)(o.ko,{currentTime:t,remainingTime:u,containerRef:d,progress:a,onMouseDown:c,theme:o._g.PubAccent}),h&&(0,i.tZ)(l.hU,{size:"sm",priority:"quaternary","aria-label":"Cancel",onClick:h,children:(0,i.tZ)(r.Z,{size:16,"aria-hidden":!0})})]})}},41688:function(e,t,n){n.d(t,{F:()=>d});var i=n(16584),r=n(94184),o=n.n(r),a=n(71375),l=n(15771),s=n(58175);let d=e=>{let{percentComplete:t=0,onCancel:n}=e;return(0,i.BX)("div",{className:"mediaUploader-QyeCya",children:[(0,i.tZ)("div",{className:o()("mediaUploaderProgressBar-UH1KZ3","tw-mt-0 tw-h-1 tw-w-full"),children:(0,i.tZ)("div",{className:o()("mediaUploaderProgressBarFilled-jRbeeL","tw-bg-pub-accent"),style:"width: ".concat(Math.max(5,100*t),"%;")})}),(0,i.tZ)("div",{className:"tw-w-12 tw-text-right tw-text-sm",children:(0,i.tZ)(s.xv,{color:"secondary",children:"".concat(Math.max(1,100*t).toFixed(0),"%")})}),(0,i.tZ)(l.hU,{size:"sm",priority:"quaternary","aria-label":"Cancel",onClick:n,children:(0,i.tZ)(a.Z,{size:16,"aria-hidden":!0})})]})}},87515:function(e,t,n){n.d(t,{Z:()=>o});var i=n(27412);class r{append(e){let t=this.mp3encoder.encodeBuffer(function(e){let t=e.length,n=new Int16Array(t);for(let i=0;i<t;i++)n[i]=Math.max(-32768,Math.min(32768,e[i]*(e[i]<0?32768:32767)));return n}(e));if(t.length>0)return this.chunks.push(t),t}flush(){if(this.chunks.length>0){let e=new Blob(this.chunks,{type:"audio/mp3"});return this.chunks=[],e}}constructor({channels:e=1,sampleRate:t=44100,bitRate:n=192}={}){(0,i._)(this,"mp3encoder",void 0),(0,i._)(this,"chunks",void 0);let{Mp3Encoder:r}=window.lamejs;this.mp3encoder=new r(e,t,n),this.chunks=[]}}class o{static get STATE(){return{STOPPED:"stopped",STARTING:"starting",STARTED:"started",STOPPING:"stopping"}}static isSupported(){return"undefined"!=typeof window&&!!window.navigator&&!!window.navigator.mediaDevices&&!!window.navigator.mediaDevices.getUserMedia&&(!!window.AudioContext||!!window.webkitAudioContext)&&!!window.Float32Array&&!!window.Blob&&!!window.URL&&!!window.Worker||!1}get duration(){var e;return(null===(e=this.startedAts)||void 0===e?void 0:e.length)?this.startedAts.reduce((e,t,n)=>{let i=this.endedAts[n];return i?e+(i-t):e+(Date.now()-t)},0)/1e3:null}get volume(){if(this.state!==o.STATE.STARTED||!this.analyser)return 0;let e=new Uint8Array(this.analyser.frequencyBinCount);return this.analyser.getByteFrequencyData(e),Math.max(...e)/255}async startMicrophone(){if(!o.isSupported())return alert("Recording is not supported on this device."),!1;if(this.microphone)try{return await this.microphone,!0}catch(e){return!1}try{this.microphone=navigator.mediaDevices.getUserMedia({audio:!0}),this.microphone=await this.microphone,this.microphone.getTracks().forEach(e=>{e.addEventListener("ended",()=>{this.state===o.STATE.STARTED&&this.stop()})})}catch(e){console.error(e),this.microphone=null}return!!this.microphone||(alert("Unable to access the microphone! Please check your browser settings."),!1)}async stopMicrophone(){if(this.microphone){if(!this.microphone.getTracks)try{await this.microphone}catch(e){return}if(this.state===o.STATE.STARTED){await this.stop();return}this.microphone.getTracks().forEach(e=>e.stop()),this.microphone=null}}async start(){let{startAt:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!o.isSupported())throw Error("Recording is not supported on this device");if(this.state===o.STATE.STOPPING)throw Error("Currently stopping last recording");if([o.STATE.STARTING,o.STATE.STARTED].includes(this.state))return;if(clearTimeout(this.startingTimeout),this.state=o.STATE.STARTING,this.onStarting&&this.onStarting(),!await this.startMicrophone()){this.state=o.STATE.STOPPED,this.onStopped&&this.onStopped();return}let t=window.AudioContext||window.webkitAudioContext;try{if(this.audioContext=new t({sampleRate:this.sampleRate}),this.mp3encoder=new r({sampleRate:this.audioContext.sampleRate}),this.analyser=this.audioContext.createAnalyser(),this.analyser.smoothingTimeConstant=.2,this.analyser.fftSize=1024,this.audioContext.createJavaScriptNode)this.audioNode=this.audioContext.createJavaScriptNode(this.bufferSize,1,1);else if(this.audioContext.createScriptProcessor)this.audioNode=this.audioContext.createScriptProcessor(this.bufferSize,1,1);else throw Error("Unable to construct audio node");this.audioInput=this.audioContext.createMediaStreamSource(this.microphone),this.audioInput.connect(this.analyser),this.analyser.connect(this.audioNode),this.audioNode.connect(this.audioContext.destination),this.startingTimeout=setTimeout(()=>{this.audioNode.addEventListener("audioprocess",e=>this.onAudioProcess(e)),this.state=o.STATE.STARTED,this.startedAts=[Date.now()],this.endedAts=[],this.onStarted&&this.onStarted()},e?Math.max(Math.max(Date.now(),+e)-Date.now(),0):2e3)}catch(e){this.state=o.STATE.STOPPED,this.onStopped&&this.onStopped(),console.error("Unable to access the microphone!",e),alert("Unable to setup microphone!")}}async stop(){let{dropRecording:e=!1,stopMicrophone:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!o.isSupported())throw Error("Recording is not supported on this device");if([o.STATE.STOPPING,o.STATE.STOPPED].includes(this.state))return;if(this.state===o.STATE.STARTING)throw Error("Currently starting new recording");clearTimeout(this.startingTimeout),this.state=o.STATE.STOPPING,this.onStopping&&this.onStopping(),this.audioInput.disconnect(),this.analyser.disconnect(),this.audioNode.disconnect(),this.audioContext.close(),this.audioContext=null,this.analyser=null,this.audioNode=null,this.audioInput=null,t&&await this.stopMicrophone();let n=this.mp3encoder.flush();this.mp3encoder=null,this.state=o.STATE.STOPPED,this.endedAts.push(Date.now()),this.onStopped&&this.onStopped(e?null:n)}async suspend(){this.audioContext&&(this.endedAts.push(Date.now()),this.audioContext.suspend())}async resume(){this.audioContext&&(this.startedAts.push(Date.now()),this.audioContext.resume())}onAudioProcess(e){if(this.state===o.STATE.STARTED&&this.mp3encoder.append(e.inputBuffer.getChannelData(0))){var t;null===(t=this.onChunk)||void 0===t||t.call(this)}}constructor(e={}){(0,i._)(this,"bufferSize",void 0),(0,i._)(this,"sampleRate",void 0),(0,i._)(this,"state",void 0),(0,i._)(this,"analyser",void 0),(0,i._)(this,"microphone",void 0),(0,i._)(this,"startedAts",void 0),(0,i._)(this,"endedAts",void 0),(0,i._)(this,"startingTimeout",void 0),(0,i._)(this,"onStarting",void 0),(0,i._)(this,"onStarted",void 0),(0,i._)(this,"onStopped",void 0),(0,i._)(this,"onStopping",void 0),(0,i._)(this,"onChunk",void 0),(0,i._)(this,"audioContext",void 0),(0,i._)(this,"mp3encoder",void 0),(0,i._)(this,"audioNode",void 0),(0,i._)(this,"audioInput",void 0),this.bufferSize=4096,this.sampleRate=44100,this.state=o.STATE.STOPPED,Object.assign(this,e)}}},14017:function(e,t,n){n.d(t,{WB:()=>S,rN:()=>M});var i=n(7409),r=n(60826),o=n(70232),a=n(68833),l=n(84864),s=n(5835),d=n(44262),c=n(82032),u=n(71993),p=n(88954),h=n(13991),m=n(72270),g=n(40924),v=n(86725),f=n(87413),C=n(57639),Z=n(29511),b=n(99975),w=n(23431),y=n(53797),_=n(8220),k=n(44288),A=n(46393),E=n(79592),x=n(78483),T=n(84766),I=n(45913),B=n(32751);let L=[[C.N9,C.MQ,o.zF],[y.YT,y.vt,o.zF],[T.Pz,T.qK,l.TWEET_PLACEHOLDER_DATA_URI],[Z.Dy,Z.$p,l.TWEET_PLACEHOLDER_DATA_URI],[B.gp,B.o1,o.zF],[I.vR,I.Oy,o.zF],[E.qZ,E.W7,o.zF],[h.H6,h.yv,o.zF],[p.Z9,p.uL,o.zF],[u.aE,u.a7,l.TWEET_PLACEHOLDER_DATA_URI],[A.SH,A.kb,o.zF],[d.XC,d.bo,o.zF],[b.lA,b.aI,o.zF],[f.S,f.un,o.zF],[g.Ng,g.O5,o.zF],[v.t3,v.mt,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjAAAAEyCAYAAADk0er5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAooSURBVHgB7d1rbhvXGcfhw6slUYyFBHZiAwnsFcTdQZENpDtpV9A02UCbnTQraHeQ7EAGAsQ2bBiyJVIX3spDwIVhIICRD+L8Z54HoCiL+kKLHP34Ho5Or3zg119//fP26i/9fv/b7fWjAgCwH7/Uy7ZJvn/w4MHT92/ovfvk9PT05M6dO99tP/3b8fFxOTw8LMPhsAAA7MNisdhdzs/Py3q9/uf19fUPjx8/Pqu37QKmxst4PP7P0dHRk7t375Zer1cAAJpgGy+7iJnNZj/f3Nx8UyOmX2+ok5fJZPLk5OREvAAAjbJdQip1wLJdHfrTtln+Xr/We/bs2aNttJzev39fvAAAjVUnMS9evNisVqtv+tsP/5hOp+IFAGi0Ook5Pj6uwfJtfxsuX4/H4wIA0HRHR0c1ZL6t74F54mwjACDBYDCoV4/6BQAgjIABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIMC9Ap6/W6XFxclOVyWTabTUk3Ho/LZDIp/b7XY9AlnvHQITVezs7OymKxaEW8VDc3N7v7VO8b0B0CBjpkNpu1JlzeV+9TnSoB3SFgoEPqtKKt6pIY0B0CBmiFNk6WgN8nYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGOqTX6xWANhAw0CGDwaC01Xg8LkB3CBjokOl02sopTL1Pk8mkAN0hYKBD+v1+OTk5ac20oobLcDjc3ad634DuGBagU+ov+jqJAUjmJQsAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEGdYoKGurq7KmzdvymKxKOv1ugC3o9/vl9FoVI6Pj8tkMinQRAKGxqmx8vLly3J9fV2A21efg/X5Vy8XFxfls88+K8OhXxc0iyUkGqUeOJ8/fy5eoCHqc/HVq1emoDSOgKFR6pLRcrksQHPc3NyU8/PzAk0iYGiMGi4OktBM9blpCkOTCBgao75ZF2imGi+Xl5cFmkLA0Bh1TA00l+VdmkTAAABxBAyN4TRNaLb6t2GgKQQMjXF4eFh6vV4Bmmk8HhdoCgFDY9S//vnJJ58UoHmm06kpKY0iYGiUepA0poZmqeFy9+7dAk0iYGiUOoW5d+9eOTg4KMD+3blzp3zxxRe75yY0iXkgjVNf7d2/f3+3B8t8Pt+dXu0PaMHtebeZY526eDFBUwkYGqvuhFsvAPAhM0EAII6AAQDiCBgAII6AAQDiCBgAII6AAQDiCBgAII6AAQDiCBgAII6AAQDiCBgAII69kOicq6urcnl5aYNIWqFuvHh4eGjTRTpHwNApdXfrGi/QFjXEZ7NZWa1WZTKZFOgKS0h0Rj3Aixfaqk4WF4tFga4QMHTG9fV1gTZbLpcFukLA0Bn1vQLQZpvNpkBXOKLTGYPBoECbjcfjAl0hYOiM0WjkTA1aqz62h0PnZdAdHu10Sj1Lo05inEZNW9Sl0Rov9VRq6BIBQ+fUg71JDEA2S0gAQBwBAwDEETAAQBwBAwDEETAAQBwBAwDEETAAQBwBAwDEETAAQBwBAwDEETAAQBx7IdE5V1dXNnOkNepmjnUjR/t70TUChk6Zz+e7eIG2qCE+m83KarXa7bYOXWEJic6oB3jxQlvVyeJisSjQFQKGzri+vi7QZsvlskBXCBg6o75XANpss9kU6ApHdDpjMBgUaLPxeFygKwQMnTEajZypQWvVx/Zw6LwMusOjnU6pZ2nUSYzTqGmLujRa46WeSg1dImDonHqwN4kByGYJCQCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCIMyzsxdXVVTk/Py8AH2s+n+8uNMPR0VF5+PBhGY1GhdsnYPZgsVjsDkL37t0rAB/r5cuXAqZB6s/i9PS0fPXVV+Xg4KBwuywh7UE9CH366acFgGyr1aq8ePGicPsEzB4YNwK0h6nYfggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4giYPViv1wUA+OMEzB70+/7bAdri6OiocPv8Jt2D6XRaXr9+XQDIVl+QPnz4sHD7hoVbd3BwUAaDQfntt9921yYywMeYz+eFZqjH7Xos//zzz8toNCrcPgGzJ/UBr9oB4I/x0h8AiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4NWCerlarAgDQdIvFol790l+v1z/N5/MCANB0/w+Y7Yd/z2azstlsCgBAU9VWOT8/3/T7/R/6X3755X+Xy+W/zs7OCgBAU719+3azncD8+ODBg6e7N/FuA+b7y8vLn9+8eWMSAwA0Sm2T7aBls10x+rk2S/1a792Np6enJ8Ph8LvRaPTX6XTa216XegEA2IdtrJTtgKVcXFxsVqvVjzVeHj9+vFsy6n34zc+ePXu0/abver3e19t/PikAAPvxtJ5stL3+qb7l5f0b/gfSCexetgOUpQAAAABJRU5ErkJggg=="],[s.uF,s.ph,o.zF],[w.CA,w.Ee,o.zF],[m.vb,m.HL,o.zF],[_.Yi,_.pR,o.zF],[function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=t[0];return i?(0,k.Gd)(i):null},k.sv,o.zF],[function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=t[0];return i?(0,x.od)(i):null},x.Ml,o.zF],[function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=t[0];return i?(0,c.q7)(i):null},c.IS,o.zF],[e=>e===r.W.FIRST_NOTE_EMBED,u.Gq,l.TWEET_PLACEHOLDER_DATA_URI]],S=(e,t,n)=>{if(t.nodes.augmentation_placeholder)for(let[r,,o]of L){let a=r(e,(0,i._)({customSchema:t},n));if(a){let e=t.nodes.augmentation_placeholder.create({request_id:(0,l.randomString)(),url:a,src:o});return[a,e]}}return[null,null]},M=async(e,t,n,r)=>{let o,l;let{request_id:s,url:d}=e.attrs;try{for(let[t,l]of L)if(t(e.attrs.url,(0,i._)({customSchema:n},r))&&((0,a.j)(a.FP.EMBED_URL_ATTEMPTED,{url:d,source:"paste"}),o=await l(d,{customSchema:n}),(0,a.j)(a.FP.EMBED_URL_SUCCEEDED,{url:d,source:"paste"}),o))break}catch(t){(0,a.j)(a.FP.EMBED_URL_FAILED,{url:d,source:"paste"}),console.error("Failed to process augmentation placeholder:",e.attrs,t),400<=t.status&&t.status<600&&(l=t)}if(l){let i=(0,T.Pz)(e.attrs.url);if(setTimeout(()=>{P(s,t,n,(e,t,r)=>{i&&n.marks.link&&e.replaceRangeWith(t,t+r.nodeSize,n.text(r.attrs.url,[n.marks.link.create({title:r.attrs.url,href:r.attrs.url})])),e.delete(t,t+r.nodeSize)})},0),!i)throw l}else o?setTimeout(()=>{P(s,t,n,(e,t,n)=>{o&&e.setNodeMarkup(t,o.type,o.attrs,n.marks)})},0):setTimeout(()=>{P(s,t,n,(e,t,i)=>{e.replaceRangeWith(t,t+i.nodeSize,n.text(i.attrs.url))})},0)},P=(e,t,n,i)=>{let r=!1,o=t.state.tr;return t.state.doc.descendants((t,a)=>{t.type===n.nodes.augmentation_placeholder&&t.attrs.request_id===e&&!1!==i(o,a,t)&&(r=!0)}),r&&t.dispatch(o),r}},26805:function(e,t,n){n.d(t,{Z:()=>p});var i=n(16584),r=n(6400),o=n(92007),a=n(45901),l=n(1148),s=n(61301);let d=new o.H$("substack-placeholder");class c extends o.Sy{add(e,t,n){t=t||e.state.selection.from,n=n||s.Vk;let i={},r=e.state.tr;return r.setMeta(u,{add:{id:i,pos:t,url:n}}),e.dispatch(r),i}addFile(e,t,n){let{name:i,type:r}=n;t=t||e.state.selection.from;let o={},a=e.state.tr;return a.setMeta(u,{addFile:{id:o,pos:t,name:i,type:r}}),e.dispatch(a),o}remove(e,t){let n=u.getState(e.state).find(null,null,e=>e.id==t);if(n.length){let i=n[0].from,r=e.state.tr;return r.setMeta(u,{remove:{id:t}}),e.dispatch(r),i}return null}replace(e,t,n){let i=this.remove(e,t);return null!==i&&(e.dispatch(e.state.tr.insert(i-1,n)),!0)}}let u=new c({state:{init:()=>a.EH.empty,apply(e,t){t=t.map(e.mapping,e.doc);let n=e.getMeta(d);if(n&&n.add){let i=document.createElement("a");i.className="image-link placeholder",i.href="javascript:void(0)";let r=document.createElement("img");r.src=n.add.url,i.appendChild(r),i.ondrop=i.ondragstart=i.onmousedown=()=>!1;let o=a.p.widget(n.add.pos,i,{id:n.add.id});t=t.add(e.doc,[o])}else if(n&&n.addFile){let{name:o,type:s}=n.addFile,d=document.createElement("div");(0,r.render)((0,i.tZ)(l.H,{filename:o,filetype:s}),d);let c=a.p.widget(n.addFile.pos,d,{id:n.addFile.id});t=t.add(e.doc,[c])}else n&&n.remove&&(t=t.remove(t.find(void 0,void 0,e=>e.id==n.remove.id)));return t}},key:d,props:{decorations(e){return this.getState(e)}}}),p=u},11239:function(e,t,n){n.d(t,{aL:()=>d,jy:()=>o});let i=e=>{var t;let n=document.createElement("div");return n.innerHTML=e,{dom:null!==(t=n.querySelector("svg"))&&void 0!==t?t:document.createElement("div")}},r=(e,t)=>{if(!("dom"in e)||!e.dom)return{dom:document.createElement("div")};let n=document.createElement("div");n.className="dropdown-item-container";let i=document.createElement("span");i.innerText=t;let r=document.createElement("div");return r.className="dropdown-item-svg",r.appendChild(e.dom),n.appendChild(r),n.appendChild(i),{dom:n}};i('\n<svg class="editor-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)" fill="none">\n<path d="M7.33334 4L3.33334 8L7.33334 12" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M11.3333 19H15.8182C17.2809 19 18.6837 18.4205 19.718 17.3891C20.7523 16.3576 21.3333 14.9587 21.3333 13.5C21.3333 12.0413 20.7523 10.6424 19.718 9.61091C18.6837 8.57946 17.2809 8 15.8182 8H4.33334" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n'),i('\n<svg class="editor-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)" fill="none">\n<path d="M17.3334 4L21.3334 8L17.3334 12" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M13.3334 19H8.84853C7.38582 19 5.98302 18.4205 4.94873 17.3891C3.91443 16.3576 3.33337 14.9587 3.33337 13.5C3.33337 12.0413 3.91443 10.6424 4.94873 9.61091C5.98302 8.57946 7.38582 8 8.84853 8H20.3334" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n'),i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill="none" d="M6.80005 5.60059H13.2C14.0487 5.60059 14.8627 5.93773 15.4628 6.53784C16.0629 7.13796 16.4 7.95189 16.4 8.80059C16.4 9.64928 16.0629 10.4632 15.4628 11.0633C14.8627 11.6634 14.0487 12.0006 13.2 12.0006H6.80005V5.60059Z" strokeWidth="3" strokeLinecap="round" stroke-linejoin="round"/>\n<path fill="none" d="M6.80005 12H14C14.8487 12 15.6627 12.3371 16.2628 12.9373C16.8629 13.5374 17.2 14.3513 17.2 15.2C17.2 16.0487 16.8629 16.8626 16.2628 17.4627C15.6627 18.0629 14.8487 18.4 14 18.4H6.80005V12Z" strokeWidth="3" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n'),i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)">\n<path d="M17.2671 6.10059H10.0671" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M13.2659 18.8994H6.06592" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M14.0666 6.10059L9.2666 18.9006" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n'),i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)" fill="none">\n<path fill="none" d="M14.866 5.60059H9.266C8.88195 5.60038 8.50345 5.69236 8.1623 5.86878C7.82116 6.04519 7.52734 6.30091 7.30552 6.61443C7.0837 6.92796 6.94036 7.29014 6.88755 7.67055C6.83473 8.05096 6.87399 8.43849 7.00201 8.80059" strokeLinecap="round" stroke-linejoin="round"/>\n<path fill="none" d="M13.2667 12C14.1154 12 14.9293 12.3371 15.5294 12.9373C16.1296 13.5374 16.4667 14.3513 16.4667 15.2C16.4667 16.0487 16.1296 16.8626 15.5294 17.4627C14.9293 18.0629 14.1154 18.4 13.2667 18.4H6.8667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M4.1665 12L19.1665 12" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n'),i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)" fill="none">\n<path d="M17.6667 16.5L21.6667 12.5L17.6667 8.5" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M5.66675 8.5L1.66675 12.5L5.66675 16.5" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M14.1667 4.5L9.16675 20.5" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n');let o=i('\n<svg class="link-item" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)" fill="none">\n<g clip-path="url(#clip1)">\n<path d="M10.0671 13.3006C10.4107 13.7599 10.849 14.1399 11.3524 14.4149C11.8557 14.6899 12.4123 14.8535 12.9845 14.8944C13.5566 14.9354 14.1308 14.8529 14.6682 14.6524C15.2056 14.4519 15.6936 14.1382 16.0991 13.7326L18.4991 11.3326C19.2278 10.5781 19.6309 9.56774 19.6218 8.51895C19.6127 7.47017 19.192 6.46692 18.4504 5.72528C17.7088 4.98365 16.7055 4.56298 15.6567 4.55386C14.608 4.54475 13.5975 4.94793 12.8431 5.67656L11.4671 7.04456" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M13.2677 11.7008C12.9242 11.2415 12.4859 10.8614 11.9825 10.5864C11.4791 10.3114 10.9225 10.1479 10.3504 10.1069C9.7783 10.0659 9.20407 10.1485 8.66666 10.3489C8.12925 10.5494 7.64125 10.8631 7.23574 11.2688L4.83574 13.6688C4.10711 14.4232 3.70393 15.4336 3.71304 16.4824C3.72216 17.5312 4.14283 18.5344 4.88446 19.276C5.6261 20.0177 6.62935 20.4383 7.67813 20.4475C8.72692 20.4566 9.73733 20.0534 10.4917 19.3248L11.8597 17.9568" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</g>\n');i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)">\n<path d="M7.66675 6.5H20.6667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M7.66675 12.5H20.6667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M7.66675 18.5H20.6667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M2.66675 6.5H2.67633" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M2.66675 12.5H2.67633" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M2.66675 18.5H2.67633" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n'),i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g fill="none">\n<path d="M9.66675 6.5H20.6667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M9.66675 12.5H20.6667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M9.66675 18.5H20.6667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M3.66675 6.5H4.66675V10.5" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M3.66675 10.5H5.66675" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M5.66675 18.4999H3.66675C3.66675 17.4999 5.66675 16.4999 5.66675 15.4999C5.66675 14.4999 4.66675 13.9999 3.66675 14.4999" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n');let a=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill="none" d="M5 15.5L5 18.5C5 19.0304 5.21071 19.5391 5.58579 19.9142C5.96086 20.2893 6.46957 20.5 7 20.5L18 20.5C18.5304 20.5 19.0391 20.2893 19.4142 19.9142C19.7893 19.5391 20 19.0304 20 18.5L20 7.5C20 6.96957 19.7893 6.46086 19.4142 6.08579C19.0391 5.71071 18.5304 5.5 18 5.5L16 5.5" strokeLinecap="round" stroke-linejoin="round"/>\n<path fill="none" d="M9.5 10.5L12.5 7.5L9.5 4.5" strokeLinecap="round" stroke-linejoin="round"/>\n<path fill="none" d="M5.5 4.5L2.5 7.5L5.5 10.5" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n'),l=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M14.7143 15C14.7143 14.4696 14.9401 13.9609 15.3419 13.5858C15.7438 13.2107 16.2888 13 16.8571 13C17.4255 13 17.9705 13.2107 18.3724 13.5858C18.7742 13.9609 19 14.4696 19 15C19 15.5304 18.7742 16.0391 18.3724 16.4142C17.9705 16.7893 17.4255 17 16.8571 17C16.2888 17 15.7438 16.7893 15.3419 16.4142C14.9401 16.0391 14.7143 15.5304 14.7143 15ZM14.7143 15L16.8571 7M5.5 15C5.5 14.4696 5.72577 13.9609 6.12763 13.5858C6.52949 13.2107 7.07454 13 7.64286 13C8.21118 13 8.75622 13.2107 9.15809 13.5858C9.55995 13.9609 9.78571 14.4696 9.78571 15C9.78571 15.5304 9.55995 16.0391 9.15809 16.4142C8.75622 16.7893 8.21118 17 7.64286 17C7.07454 17 6.52949 16.7893 6.12763 16.4142C5.72577 16.0391 5.5 15.5304 5.5 15ZM5.5 15L7.64286 7" strokeLinecap="round" stroke-linejoin="round"/>\n<circle cx="8" cy="15" r="1"strokeLinecap="round" stroke-linejoin="round"/>\n<circle cx="17" cy="15" r="1"strokeLinecap="round" stroke-linejoin="round"/>\n<circle cx="7.5" cy="15.5" r="0.5"strokeLinecap="round" stroke-linejoin="round"/>\n<circle cx="16.5" cy="15.5" r="0.5"strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n');i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill="none" d="M6.66699 8L2.66699 12L6.66699 16" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M22 6H11" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M22 12L16 12" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M22 18H11" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n'),i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill="none" d="M2.66699 8L6.66699 12L2.66699 16" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M21 12L15 12" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M21 6H10" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M21 18H10" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n');let s=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g fill="none" clip-path="url(#clip0_6402:84637)">\n<path d="M5.74356 7.80138L1.55483 19.3174" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M5.74212 7.80082L9.92942 19.3177" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M13.0703 7.80493V19.3212" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M8.35986 16.1787H3.12519" strokeLinecap="round" stroke-linejoin="round"/>\n<ellipse cx="15.9501" cy="15.6565" rx="2.87907" ry="3.66427" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M21.4465 5L21.4465 10.9463" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M21.4465 5L19.3528 6.23506" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n'),d=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill="none" d="M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z" strokeLinecap="round" stroke-linejoin="round"/>\n<path fill="none" d="M8.5 10C9.32843 10 10 9.32843 10 8.5C10 7.67157 9.32843 7 8.5 7C7.67157 7 7 7.67157 7 8.5C7 9.32843 7.67157 10 8.5 10Z" strokeLinecap="round" stroke-linejoin="round"/>\n<path fill="none" d="M21 15L16 10L5 21" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n'),c=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3 13H21" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n'),u=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 1V23" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M17 5H9.5C8.57174 5 7.6815 5.36875 7.02513 6.02513C6.36875 6.6815 6 7.57174 6 8.5C6 9.42826 6.36875 10.3185 7.02513 10.9749C7.6815 11.6313 8.57174 12 9.5 12H12" fill="none" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M6 19H14.5C15.4283 19 16.3185 18.6313 16.9749 17.9749C17.6313 17.3185 18 16.4283 18 15.5C18 14.5717 17.6313 13.6815 16.9749 13.0251C16.3185 12.3687 15.4283 12 14.5 12H12" fill="none" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n'),p=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M18 9L18 6C18 5.46957 17.7893 4.96086 17.4142 4.58579C17.0391 4.21072 16.5304 4 16 4L5 4C4.46957 4 3.96086 4.21071 3.58579 4.58579C3.21071 4.96086 3 5.46957 3 6L3 13C3 13.5304 3.21071 14.0391 3.58578 14.4142C3.96086 14.7893 4.46957 15 5 15L7 15" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M9.03906 9.35059L14.0391 21.3506L15.8131 16.1246L21.0391 14.3506L9.03906 9.35059Z" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M16.1104 16.4214L20.3534 20.6644" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n'),h=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M19 12L12 5L15 2L22 9L19 12Z" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M13 6L5.5 7.5L2 22L16.5 18.5L18 11L13 6Z"strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M2 22L9.586 14.414" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M13 13C13 11.8954 12.1046 11 11 11C9.89543 11 9 11.8954 9 13C9 14.1046 9.89543 15 11 15C12.1046 15 13 14.1046 13 13Z" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n');r(p,"Buttons..."),r(a,"Code block"),r(s,"Footnote"),r(c,"Divider"),r(u,"Paywall"),r(h,"Poetry block"),r(l,"Pullquote")},83857:function(e,t,n){n.d(t,{d:()=>T});var i=n(7409),r=n(99282),o=n(58865),a=n(92007),l=n(39693),s=n.n(l),d=n(23279),c=n.n(d),u=n(26805),p=n(11239),h=n(44369),m=n(70232),g=n(68833),v=n(98914),f=n(82167),C=n(40924),Z=n(86725),b=n(53797),w=n(68303);function y(){let e=(0,o._)(["Link ","K"]);return y=function(){return e},e}function _(){let e=(0,o._)(["There’s a fancier way to share Substack links with your readers:"]);return _=function(){return e},e}function k(){let e=(0,o._)(["Convert your link into an embed"]);return k=function(){return e},e}let A=new Set,E=c()((e,t,n)=>{let i=t.trim();(0,Z.l6)(i).then(r=>{r&&(A.add(i),t===e.target.value&&n.classList.add("has-substack-link"))})},250,{maxWait:1e3});function x(e,t){if("target"in e&&e.target&&"className"in e.target&&"url-input"===e.target.className&&"value"in e.target){let{value:n}=e.target,i=n.trim();if(A.has(i)||(0,C.Ng)(i)||(0,f.lQ)(i)){t.classList.add("has-substack-link");return}if((0,b.zb)(i)){t.classList.add("has-opensea-link");return}(0,Z.t3)(i)&&E(e,n,t),t.classList.remove("has-substack-link"),t.classList.remove("has-opensea-link")}}function T(e){let{scrollParent:t,publication:n,language:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{iString:l,iTemplate:d}=I18N.i(null!=o?o:"en"),c=d(y(),(0,v.Mi)());return new h.$4({class:"mark-menu-item",title:c,icon:p.jy,active(t){let n=[];return t.schema.nodes.image2?n.push(t.schema.nodes.image2):console.warn("image2 node type not found in schema"),t.schema.nodes.image3?n.push(t.schema.nodes.image3):console.warn("image3 node type not found in schema"),!!((0,w.gR)(t,n)?(0,w.do)(t):(0,w.k)(t,e))||(0,h.vM)(t,e)},enable:()=>!0,run(p,y,E){let T,I,B,L;let S=(0,w.k)(p,e);S?(T=S.pos,I=S,B=(0,w.qe)(p,S.pos.from,S.pos.to,{allowedMarks:[e]}),L=S.node.textContent):(T=p.selection,I=(0,w.Dg)(p,e),B=(0,w.S7)(p,{allowedMarks:[e]}),L=p.doc.textBetween(p.selection.from,p.selection.to));let M=(0,w.gR)(p,s()([p.schema.nodes.captionedImage,p.schema.nodes.image2,p.schema.nodes.image3,p.schema.nodes.caption]).filter(Boolean)),P=M?(0,w.do)(p):null;B=B&&!M;let N=E.dom.parentNode,D={className:"create-link-menu",submitText:l("Link"),parent:c,title:l("Create a link"),fields:{},root:N,scrollParent:t,position:(e,t)=>(0,w.$_)(E,T,e,t),onInput:x,language:o};B&&D.fields&&(D.fields.text=new h.nv({label:l("Enter text…"),className:"text-input",value:L,required:!0})),D.fields&&(D.fields.href=new h.Sm(I,P,o)),D.onSubmit=t=>{let n=p.tr;if(M)(0,w.Wi)(p,n,t.href);else if(p.selection.empty&&!S){let i=p.selection.from,r=i+t.text.length;n.insertText(t.text),n.addMark(i,r,e.create(t)),n.setSelection(a.Bs.create(n.doc,i,r))}else t.text&&t.text!==L?(n.insertText(t.text,T.from),n.setSelection(a.Bs.create(n.doc,T.from,T.from+t.text.length)),n.deleteRange(T.from+t.text.length,T.to+t.text.length),n.addMark(T.from,T.from+t.text.length,e.create(t))):n.addMark(T.from,T.to,e.create(t));if(y)return E.dispatch(n),!0},D.onClose=()=>{E.focus()};let R=async e=>{let t;e.preventDefault();let o=document.querySelector(".create-link-menu .url-input");if(!o){console.warn("could not find input for creating link menu selecting for ['.create-link-menu .url-input']");return}let a=o.value.trim();(0,h.pA)(D);let s=u.Z.add(E,T.pos,m.zF);try{if((0,g.j)(g.FP.EMBED_URL_ATTEMPTED,{url:a,source:"link-menu"}),(0,b.zb)(a))t=await (0,b.vt)(a,{customSchema:E.state.schema});else if(A.has(a))t=await (0,Z.mt)(a);else if((0,f.lQ)(a)&&E.state.schema.nodes.digestPostEmbed)try{let e=await (0,f.wM)(a);t=E.state.schema.nodes.digestPostEmbed.create((0,r._)((0,i._)({},e),{isEditorNode:!0,nodeId:(0,v.EH)()}))}catch(e){console.error(e),alert(l("Failed to find post. Please check the link and try again."))}else t=await (0,C.O5)(a,{customSchema:E.state.schema,language:null==n?void 0:n.language});if((0,g.j)(g.FP.EMBED_URL_SUCCEEDED,{url:a,source:"link-menu"}),t)u.Z.replace(E,s,t);else throw u.Z.remove(E,s),Error("No embed found")}catch(e){(0,g.j)(g.FP.EMBED_URL_FAILED,{url:a,source:"link-menu"}),alert(l("Embed failed. Please check the url and try again."))}},O=document.createElement("div");O.className="create-link-menu-footer";let X=new DocumentFragment;X.append(document.createTextNode(d(_())));let j=document.createElement("a");j.innerText=d(k()),j.href="#",j.addEventListener("click",R),X.append(j),O.append(X),D.footer=O;let z=document.createElement("div");z.className="opensea-embed-footer";let U=new DocumentFragment,H=document.createElement("b");H.textContent="Tip: ",U.append(H),U.append(document.createTextNode("You can also "));let F=document.createElement("a");F.innerText="embed your OpenSea NFT",F.href="#",F.addEventListener("click",R),U.append(F),U.append(document.createTextNode(" to give your readers a visual preview.")),z.append(U),D.openseaEmbedFooter=z,(0,h.cS)(D)}},"link")}},32246:function(e,t,n){n.d(t,{_:()=>O});var i=n(7409),r=n(99282),o=n(16584),a=n(30396),l=n(39693),s=n.n(l),d=n(71375),c=n(22885),u=n(46299),p=n(71212),h=n(61649),m=n(15345),g=n(33804),v=n(95441),f=n(14952),C=n(60807),Z=n(12281),b=n(48083);let w=e=>{var t,n;let{videoRef:l,mediaUpload:s,showCaptions:d,maxLineWidth:c=48,CaptionsComponent:u}=e,[p,h]=(0,a.eJ)([]),[m,g]=(0,a.eJ)({segment:null,wordIndex:-1}),{segment:v,wordIndex:f}=m,C=(0,b.Z)(null!==(n=null===(t=l.current)||void 0===t?void 0:t.player)&&void 0!==n?n:null);(0,a.d4)(()=>{var e,t;if(null===(e=l.current)||void 0===e?void 0:e.player){let e=l.current.player.currentTime,n=null!==(t=Z.find(t=>e>=t.start&&e<=t.end))&&void 0!==t?t:null;if(n){let t=-1;for(let i=0;i<n.words.length;i++){let r=n.words[i];if(r){if(e>=r.start&&e<=r.end){t=i;break}if(e<r.start)break;t=i}}g({wordIndex:t,segment:n})}else g({wordIndex:-1,segment:n})}},[l.current,p.length,C]),(0,a.d4)(()=>{var e,t;(null==s?void 0:null===(e=s.transcription)||void 0===e?void 0:e.cdn_url)&&fetch(null==s?void 0:null===(t=s.transcription)||void 0===t?void 0:t.cdn_url).then(e=>e.json()).then(e=>{h(e.map(e=>(0,r._)((0,i._)({},e),{words:e.words?e.words:[]})))}).catch(e=>console.error("Error fetching transcription:",e))},[s,d]);let Z=(0,a.Ye)(()=>(function(e,t){var n;let i=[],r=null!==(n=null==t?void 0:t.max_line_width)&&void 0!==n?n:84,o=new Set(".!?,;:");return e.forEach(e=>{let t=!0,n=e.start,a=e.end,l=e.words,s=[],d=0;if(e.text.length<=1.25*r){i.push(e);return}let c=()=>{var e,r,o,a;let l=t?n:null!==(o=null===(e=s[0])||void 0===e?void 0:e.start)&&void 0!==o?o:n,d=null!==(a=null===(r=s[s.length-1])||void 0===r?void 0:r.end)&&void 0!==a?a:l+.1,c=s.map(e=>e.word.trim()).join(" ");i.push({start:l,end:d,text:c,words:s})};if(l.forEach(e=>{var n;let i=e.word,a=i.length;if((null!==(n=i[i.length-1])&&void 0!==n?n:"")in o){s.push(e),c(),t=!1,s=[],d=0;return}d+a>r?(s.length&&(c(),t=!1),s=[e],d=a):(s.push(e),d+=a)}),s.length){var u,p;i.push({start:null!==(p=null===(u=s[0])||void 0===u?void 0:u.start)&&void 0!==p?p:n,end:a,text:s.map(e=>e.word).join(" ").trim(),words:s})}}),i})(p,{max_line_width:c}),[p,c]);return d&&Z.length&&v?(0,o.tZ)(u,{segment:v,currentWordIndex:f}):null},y=e=>{let{segment:t}=e;return(0,o.tZ)("div",{className:"container-GCnHIT",children:(0,o.tZ)("div",{className:"text-XHqLyz",children:(0,o.tZ)("div",{children:null==t?void 0:t.words.map((e,t)=>(0,o.tZ)("span",{children:e.word.startsWith(" ")?e.word:" ".concat(e.word)},t))})})})},_=e=>{let{segment:t}=e;return(0,o.tZ)("div",{className:"container-OtABFE",children:(0,o.tZ)("div",{className:"text-Qzw72N",children:(0,o.tZ)("div",{children:null==t?void 0:t.words.flatMap((e,t)=>[t>0&&" ",(0,o.tZ)("span",{children:e.word.trim().replace(/[,.]+$/,"")},t)])})})})};var k=n(19081),A=n(61527);let E=e=>{var t,n,i;let{videoUpload:r,clip:l,showCaptions:s=!1,captionsStyle:d="classic",aspectRatio:c="landscape"}=e,u=(0,f.Ij)(),p=(0,a.sO)(null),h=(0,a.sO)(null),[m,g]=(0,a.eJ)(!1),v=(0,a.sO)();(0,a.d4)(()=>{var e;let t=h.current,n=null==p?void 0:null===(e=p.current)||void 0===e?void 0:e.player;if(!t||!n)return;let i=t.getContext("2d");if(!i)return;let r=!1,o=()=>{if(!r||!n)return;if(n.paused||n.ended){r=!1;return}i.clearRect(0,0,t.width,t.height),i.fillStyle="rgb(22, 23, 24)",i.fillRect(0,0,t.width,t.height);let{videoWidth:e,videoHeight:a}=n;if(e&&a){if("vertical_fill"===c){let r,o,l,s;let d=9/16,c=t.height*d,u=e/a;u>d?(r=(e-(o=a*d))/2,s=c,l=(t.width-c)/2):(o=e,r=0,s=t.height*u,l=(t.width-s)/2);let p=t.height;i.drawImage(n,r,0,o,a,l,0,s,p)}else if("vertical_fit"===c){let r,o,l,s;let d=9/16,c=t.height,u=c*d,p=e/a;p>d?(r=u,o=u/p,l=(t.width-u)/2,s=(t.height-o)/2):(o=c,r=c*p,l=(t.width-r)/2,s=(t.height-c)/2),i.fillStyle="black",i.fillRect(l,0,r,t.height),i.drawImage(n,0,0,e,a,l,s,r,o)}else{let r=e*(t.height/a),o=t.height,l=(t.width-r)/2;i.drawImage(n,0,0,e,a,l,0,r,o)}}v.current=requestAnimationFrame(o)},a=()=>{r||(r=!0,o())},s=()=>{r=!1,v.current&&(cancelAnimationFrame(v.current),v.current=void 0)},d=()=>{s();let e=t.parentElement;if(!e)return;let n=e.clientWidth,r=e.clientHeight;if(t.width===n&&t.height===r){a();return}t.width=n,t.height=r,i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),a()},u=()=>{a()},m=()=>{n.currentTime!==l.start_time?s():n.play()};n.addEventListener("play",u),n.addEventListener("pause",m),n.addEventListener("ended",m);let g=()=>{d(),a()};n.addEventListener("loadedmetadata",g);let f=t.parentElement;if(f){let e=new ResizeObserver(()=>{d()});return e.observe(f),()=>{n.removeEventListener("play",u),n.removeEventListener("pause",m),n.removeEventListener("ended",m),n.removeEventListener("loadedmetadata",g),e.disconnect(),s()}}},[c,r.id,d,s]);let C=["social","advanced_captions"].includes(null!=d?d:""),{width:b,height:E}=r,x="portrait"==(void 0!=b&&void 0!=E&&b/E>=1?"landscape":"portrait"),T=(null!==(n=null===(t=r.liveStream)||void 0===t?void 0:t.joinedOrCompletedLiveStreamInvites)&&void 0!==n?n:[]).length>0,I=(x||["vertical_fill","vertical_fit"].includes(null!=c?c:""))&&T&&"social"===d;return(0,o.BX)(k.tu,{className:"container-G3tbl8",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[(0,o.BX)(k.tu,{className:"absolute-dkdKY4",children:[(0,o.tZ)("div",{style:{display:"none"},children:(0,o.tZ)(Z.Z,{ref:p,mediaUpload:r,pub:u,autoPlay:!0,surface:"editor",contentType:"clip",entityType:"post",entityKey:null!==(i=r.post_id)&&void 0!==i?i:"unknown"})}),(0,o.tZ)("canvas",{width:1024,height:576,ref:h,className:"canvas-sv7jC_"})]}),r.extractedAudio&&(0,o.tZ)(k.gq,{style:{position:"absolute",left:"50%",transform:"translateX(-50%) translateY(-50%) ".concat("landscape"!==c||x?"scale(calc(9 / 16))":""),top:I?"50%":"90%"},children:(0,o.tZ)(w,{videoRef:p,mediaUpload:r.extractedAudio,showCaptions:s,maxLineWidth:C?16:48,CaptionsComponent:C?_:y})}),(0,o.tZ)(A.ql,{mediaRef:p,mediaUpload:r,isActive:m,startTime:l.start_time,duration:l.duration,hoverOptions:{transition:0,transitionDelay:0}})]})};var x=n(54687),T=n(89871),I=n(93862),B=n(68833),L=n(15771),S=n(61254),M=n(6490),P=n(58175),N=n(6630),D=n(60308),R=n(66824);let O=e=>{let{videoUpload:t,clip:n,isOpen:l,onClose:Z,transcription:b,useDownloadsCenter:w=!1,surface:y,onSave:_}=e,A=(0,C.aF)(),O=(0,f.Ij)(),{iString:X}=(0,v.M1)(),[j,z]=(0,a.eJ)(!1),U=(0,m.Gi)(),{syncClips:H}=(0,T.z)(),{clipTitle:F,setClipTitle:V}=(0,h.Sr)(),W=(null==b?void 0:b.status)==="transcribed",[q,Y]=(0,a.eJ)("landscape"),[J,G]=(0,a.eJ)("classic"),[K,Q]=(0,a.eJ)(!1),$=null!==J,ee="landscape";(null==t?void 0:t.height)&&(null==t?void 0:t.width)&&(ee=t.height>t.width?"portrait":"landscape");let et=(e,n)=>{(0,B.j)(e,(0,r._)((0,i._)({},n),{is_post_editor:"media_drawer"===y,video_upload_id:t.id}))};(0,a.d4)(()=>{l&&et(B.FP.MEDIA_CLIP_EXPORT_MODAL_OPENED,{button:"cancel",source:"export_modal"})},[l]);let en=async()=>{var e,i,r;let o=null===(e=n.assets)||void 0===e?void 0:e.sort((e,t)=>{var n,i;return(null===(n=e.asset_metadata)||void 0===n?void 0:n.live_overlay_enabled)===!0?-1:+((null===(i=t.asset_metadata)||void 0===i?void 0:i.live_overlay_enabled)===!0)}).find(e=>{var t,n,i,r,o,a,l,s,d,c,u,p,h;return("landscape"===ee?"landscape"===q&&(null===(t=e.mediaUpload)||void 0===t?void 0:t.height)&&(null===(n=e.mediaUpload)||void 0===n?void 0:n.width)&&(null===(i=e.mediaUpload)||void 0===i?void 0:i.height)<(null===(r=e.mediaUpload)||void 0===r?void 0:r.width):(null===(o=e.mediaUpload)||void 0===o?void 0:o.height)&&(null===(a=e.mediaUpload)||void 0===a?void 0:a.width)&&(null===(l=e.mediaUpload)||void 0===l?void 0:l.height)>(null===(s=e.mediaUpload)||void 0===s?void 0:s.width))&&($?(null===(d=e.asset_metadata)||void 0===d?void 0:d.caption_style)===J||"advanced_captions"===J&&(null===(c=e.asset_metadata)||void 0===c?void 0:c.caption_style)==="social":!(null===(u=e.asset_metadata)||void 0===u?void 0:u.captions_enabled))&&(!$||"social"!==J||(null===(p=e.asset_metadata)||void 0===p?void 0:p.captions_version)===2)&&(null===(h=e.mediaUpload)||void 0===h?void 0:h.state)==="transcoded"});if(o&&o.mediaUpload){Z(!0),et(B.FP.MEDIA_CLIP_DOWNLOAD_REQUESTED,{video_upload_id:t.id,is_post_editor:!1,type:n.source,media_clip_id:n.id,asset_media_upload_id:o.mediaUpload.id}),U.addMediaUpload({mediaUpload:o.mediaUpload,thumbnailUrl:(0,D.kOB)(t),title:null!==(i=n.title)&&void 0!==i?i:X("Download"),source:n.source});return}try{z(!0),Z(!0);let e=n;if(e.id||(e=await (0,I.C)({videoUpload:t,start:n.start_time,duration:n.duration,title:null!=F?F:X("Untitled")})),!e)return;et(B.FP.MEDIA_CLIP_DOWNLOAD_REQUESTED,{video_upload_id:t.id,is_post_editor:!1,type:e.source,media_clip_id:e.id});let{mediaUpload:i}=await (0,I.O)({clip:e,useCaptions:$,captionsStyle:J,showLiveOverlay:K,aspectRatio:q,videoUpload:t,pub:O});H(),z(!1),w&&U.addMediaUpload({mediaUpload:i,thumbnailUrl:(0,D.kOB)(t),title:null!==(r=e.title)&&void 0!==r?r:X("Download"),source:e.source}),null==_||_({mediaUpload:i,videoUpload:t,aspectRatio:q})}catch(e){console.error(e)}finally{z(!1)}},ei=()=>{et(B.FP.MEDIA_CLIP_EXPORT_MODAL_CLOSED,{button:"cancel",source:"export_modal"}),Z(!1)},er=()=>{et(B.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"cancel",source:"export_modal"}),ei()};return(0,o.tZ)(M.u_,{width:720,isOpen:l,onClose:ei,children:(0,o.BX)(g.w,{children:[F?(0,o.BX)(k.gq,{flex:"grow",paddingLeft:20,paddingRight:20,paddingTop:20,gap:12,alignItems:"center",children:[(0,o.tZ)(x.U,{clipTitle:null!=F?F:X("Untitled Clip"),onSaveTitle:V}),(0,o.tZ)(L.hU,{priority:"quaternary",size:"sm",title:"Close",onClick:er,"aria-label":"close",className:R.Z.closeButton,children:(0,o.tZ)(d.Z,{size:20})})]}):(0,o.tZ)(M.xB,{title:X("Download clip"),showClose:!0,onClose:er,showDivider:!0}),(0,o.BX)(M.fe,{className:R.Z.downloadModal,children:[(0,o.tZ)(E,{videoUpload:t,clip:n,aspectRatio:q,showCaptions:$,captionsStyle:J}),(0,o.BX)(k.tu,{gap:24,paddingTop:24,children:[(0,o.BX)(k.gq,{gap:32,style:{overflowY:"auto"},children:["landscape"===ee&&(0,o.BX)(k.tu,{gap:8,children:[(0,o.tZ)(P.xv.B4,{weight:"semibold",children:X("Aspect ratio")}),(0,o.tZ)(N.Z,{options:[{label:X("Landscape"),value:"landscape",icon:(0,o.tZ)(c.Z,{size:16})},{label:X("Vertical Fit"),value:"vertical_fit",icon:(0,o.tZ)(u.Z,{size:16})},{label:X("Vertical Fill"),value:"vertical_fill",icon:(0,o.tZ)(u.Z,{size:16})}],value:q,onChange:e=>Y(e)})]}),W&&(0,o.BX)(k.tu,{gap:8,children:[(0,o.tZ)(P.xv.B4,{weight:"semibold",children:X("Captions Style")}),(0,o.tZ)(N.Z,{options:s()([{label:X("Classic"),value:"classic"},{label:X("Social"),value:"advanced_captions"},{label:X("None"),value:null}]),value:J,onChange:e=>G(e)})]}),(null==A?void 0:A.is_global_admin)&&(0,o.BX)(k.tu,{gap:8,children:[(0,o.tZ)(P.xv.B4,{weight:"semibold",children:X("Live Overlay")}),(0,o.tZ)(N.Z,{options:[{label:X("Show"),value:!0},{label:X("Hide"),value:!1}],value:K,onChange:e=>Q(e)})]})]}),(0,o.tZ)(S.iz,{}),(0,o.tZ)(L.zx,{leading:(0,o.tZ)(p.Z,{}),onClick:()=>{et(B.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"complete_download_export",source:"export_modal"}),en()},disabled:j,children:X("Download")})]})]})]})})}},54687:function(e,t,n){n.d(t,{U:()=>c});var i=n(16584),r=n(30396),o=n(23279),a=n.n(o),l=n(19081),s=n(440);let d={editIcon:"editIcon-P5YgXz",title:"title-VzicoP",input:"input-hzxurD"},c=e=>{let{clipTitle:t,onSaveTitle:n}=e,[o,c]=(0,r.eJ)(t),u=a()(e=>{n(e)},200);return(0,r.d4)(()=>{u(o)},[o]),(0,i.tZ)(l.gq,{flex:"grow",className:d.inputContainer,children:(0,i.tZ)(s.l,{className:d.input,value:o,maxLength:125,onChange:e=>{c(e.currentTarget.value)},defaultRows:1,maxRows:2,onKeyDown:e=>{e.stopPropagation()}})})}},21680:function(e,t,n){n.d(t,{O:()=>d});var i=n(16584),r=n(71375),o=n(95441),a=n(19081),l=n(98248),s=n(58175);let d=e=>{let{onCancel:t}=e,{iString:n}=(0,o.M1)();return(0,i.BX)(a.gq,{gap:16,flex:"grow",children:[(0,i.tZ)(a.hs,{radius:"xs",height:40,width:40,alignItems:"center",justifyContent:"center",children:(0,i.tZ)(l.$j,{})}),(0,i.BX)(a.tu,{flex:"grow",gap:4,children:[(0,i.tZ)(a.gq,{justifyContent:"space-between",alignItems:"center",children:(0,i.tZ)(s.xv.B3,{color:"primary",weight:"semibold",children:n("Processing media...")})}),(0,i.tZ)(a.gq,{flex:"grow",alignItems:"center",gap:32,children:(0,i.tZ)(s.xv,{translated:!0,size:12,color:"secondary",children:"This could take up to several minutes depending on the format and length of your media."})})]}),(0,i.tZ)(a.gq,{cursor:"pointer",onClick:t,children:(0,i.tZ)(r.Z,{size:20,color:"var(--color-fg-secondary)"})})]})}},93862:function(e,t,n){n.d(t,{C:()=>a,O:()=>l});var i=n(80569),r=n.n(i),o=n(12988);let a=async e=>{let{videoUpload:t,start:n,duration:i,title:o}=e;try{let{body:{mediaClip:e}}=await r().post("/api/v1/video/assets/".concat(t.id,"/media_clips")).send({title:o,start:n,duration:i});return e}catch(e){return console.error(e),null}},l=async e=>{let{aspectRatio:t,clip:n,useCaptions:i,captionsStyle:a,videoUpload:l,shareToNotes:s,showLiveOverlay:d,pub:c}=e,u=(0,o.Ws)(l,{showLiveOverlay:d,aspectRatio:t,pub:c}),p={start:n.start_time,duration:n.duration,render_transcript_as:i||null!==a?"subtitles":void 0,aspect_ratio:t,captions_style:null!=a?a:void 0,media_clip_id:n.id,sync:!1,share_to_notes:s,features:u};return{mediaUpload:(await r().post("/api/v1/video/assets/".concat(null==l?void 0:l.id,"/clips")).send(p)).body.mediaUpload}}},50627:function(e,t,n){n(16584),n(15120);var i=n(60533);let r=new Set(["if","else","endif"]),o=new Set([]);var a=n(6400);n(30396),(0,a.createContext)(void 0).displayName="PostContextForEmail",n(14952),n(94184),n(98012),n(60308),n(88216),n(41193),n(90099),n(63651),n(6070),n(31377),n(84864),(()=>{let e=new i.Kj({strictFilters:!0,strictVariables:!1,trimTagLeft:!1,trimTagRight:!1,trimOutputLeft:!1,trimOutputRight:!1,root:[],layouts:[],partials:[]}),t={parse(e){throw Error('Tag "'.concat(e.name,'" is disabled for security. Only conditional logic is allowed.'))},render(){throw Error("Tag rendering is disabled for security.")}};return Object.keys(e.tags).forEach(n=>{r.has(n)||e.registerTag(n,t)}),Object.keys(e.filters).forEach(t=>{if(!o.has(t))e.registerFilter(t,function(){throw Error('Filter "'.concat(t,'" is disabled for security. Only safe output filters are allowed.'))})})})()},75081:function(e,t,n){var i=n(7409),r=n(98848),o=n(16584),a=n(30396),l=n(94184),s=n.n(l),d=n(60826),c=n(82621),u=n(95441),p=n(75905);n(90099),n(68833);var h=n(58175),m=n(60308),g=n(84864),v=n(47929);let f={footer:"footer-ZM59BM",footerSection:"footerSection-EHR0jG",divider:"divider-miZWsI",meta:"meta-B2bqa5"};function C(){let{iString:e,language:t}=(0,u.M1)(),n="".concat((0,m.ZJn)(),"/img/email/generic-app-button").concat("en"!==t?"-".concat(t):"",".png");return(0,o.tZ)("a",{href:(0,m.D4e)({utm_campaign:v.VX.appMarketing,utm_content:v.fZ.emailFooterButton}),children:(0,o.tZ)(b,{alt:e("Get the app"),src:n,pixelRatio:3,width:{en:131,es:135,it:135,fr:135,de:147,pt:135,"pt-br":135}[t],height:40})})}function Z(){let{iString:e,language:t}=(0,u.M1)(),n="".concat((0,m.ZJn)(),"/img/email/publish-button").concat("en"!==t?"-".concat(t):"",".png");return(0,o.tZ)("a",{href:d.W.START_WRITING_URL,children:(0,o.tZ)(b,{alt:e("Start writing"),src:n,pixelRatio:3,width:{en:135,es:182,it:164,fr:184,de:203,pt:184,"pt-br":184}[t],height:40})})}function b(e){let t;var{src:n,pixelRatio:l,width:s}=e,d=(0,r._)(e,["src","pixelRatio","width"]);let{isAmp:u}=(0,a.qp)(p.E);if("undefined"==typeof URL)t=null;else{let e;try{e=new URL(n)}catch(t){e=new URL((0,m.ZJn)()+n)}let i=Array(l).fill(0).map((t,i)=>{if(0===i)return(0,m.zF4)(n,s);let r=new URL(e),[o,a]=r.pathname.split("."),l=i+1;return r.pathname="".concat(o,"@").concat(l,"x.").concat(a),(0,m.zF4)(r.toString(),s*l)});u?n=i[i.length-1]:(n=i[1]||i[0],t=i.map((e,t)=>0===t?e:"".concat(e," ").concat(t+1,"x")).join(", "))}return(0,o.tZ)(c.Z,(0,i._)({src:n,srcset:t,width:s},d))}},97006:function(e,t,n){n(16584),n(15120),n(6400),n(30396),n(94184),n(22670),n(14952),n(75905),n(50627),n(6070),n(84864),n(24750),n(75081)},57796:function(e,t,n){n.d(t,{d:()=>x});var i=n(16584),r=n(30396),o=n(31131),a=n(666),l=n(50137),s=n(1467),d=n(347),c=n(92291),u=n(77338),p=n(5952),h=n(6246),m=n(25991),g=n(16451),v=n(76721),f=n(48980),C=n(7882),Z=n(98750),b=n(19081),w=n(58175),y=n(71460),_=n(15503),k=n(65575),A=n(63651);let E="note-Biuyq7";function x(e){let{commentId:t}=e,{isLoading:n,error:r,result:o}=(0,C.ib)({pathname:"/api/v1/reader/comment/".concat(t),auto:!0,deps:[t]});return r instanceof f.kp?(0,i.tZ)(i.HY,{children:r.getMessage()}):!o||n?(0,i.tZ)(B,{}):(0,i.tZ)(T,{feedItem:o.item})}function T(e){var t,n,h,f,C;let{feedItem:k}=e,{comment:x,parentComments:T}=k,{truncatedBodyJson:B,isTruncated:L}=(0,v.Z)(x),S=T[T.length-1],M=null===(t=x.attachments)||void 0===t?void 0:t.find(e=>"image"!==e.type),P=null===(n=x.attachments)||void 0===n?void 0:n.filter(e=>"image"===e.type),N=(0,r.sO)(null);return(0,Z.UM)(N,()=>(0,_.zi)(k,"post-embed",{extraEventProps:{isTruncated:L}}),{threshold:.2}),(0,i.tZ)(b.tu,{justifyContent:"center",alignItems:"center",paddingX:20,className:"container-g1JaM7",children:(0,i.tZ)(d.h,{children:(0,i.BX)(b.hs,{as:"a",target:"_blank",href:(0,A.Sgq)(x),gap:12,border:"detail",bg:"primary",radius:"md",padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},className:E,ref:N,children:[(0,i.tZ)(b.hs,{flex:"auto",children:(0,i.tZ)(g.Zb,{user:x})}),(0,i.BX)(b.tu,{minWidth:0,gap:8,flex:"grow",children:[(0,i.BX)(b.tu,{minWidth:0,flex:"grow",children:[(0,i.BX)(m.KF,{children:[(0,i.tZ)(w.xv,{color:"primary",as:"span",weight:"semibold",children:x.name}),(0,i.tZ)(y.UserBadge,{tier:x.user_bestseller_tier}),(0,i.tZ)(g.Ku,{timestamp:x.date})]}),S&&(0,i.BX)(w.xv.B5,{color:"secondary",children:["Replying to ",S.name]}),(0,i.BX)(b.tu,{gap:12,flex:"grow",children:[(0,i.tZ)(g.sP,{children:B&&(0,i.tZ)(u.x,{content:B,attachedLinks:(0,p.Bk)(x)})}),(0,i.tZ)(c.yd,{attachments:M?[M]:P||[],readOnly:!0,onAttachmentClick:function(){let{commentId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,_.rw)(k,"post-embed","attachment",{extraEventProps:{commentId:e}})},item:k,utm_content:k.entity_key})]})]}),(0,i.BX)(b.hs,{justifyContent:"space-between",alignItems:"center",children:[(0,i.tZ)(I,{icon:(0,i.tZ)(a.Z,{height:16,fill:"none",strokeWidth:2.5,stroke:"var(--color-fg-secondary)"}),count:null!==(h=x.reaction_count)&&void 0!==h?h:0}),(0,i.tZ)(I,{icon:(0,i.tZ)(s.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-fg-secondary)"}),count:null!==(f=x.children_count)&&void 0!==f?f:0}),(0,i.tZ)(I,{icon:(0,i.tZ)(l.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-fg-secondary)"}),count:null!==(C=x.restacks)&&void 0!==C?C:0}),(0,i.tZ)(I,{icon:(0,i.tZ)(o.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-fg-secondary)"}),count:0})]})]})]})})})}function I(e){let{icon:t,count:n}=e;return(0,i.BX)(b.hs,{gap:8,paddingTop:6,flex:"grow",alignItems:"center",children:[t,(0,i.tZ)(w.xv.Digit,{color:"secondary",children:n>0&&(0,h.u)(n)})]})}function B(){return(0,i.tZ)(d.h,{children:(0,i.tZ)(b.tu,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"},"data-component-name":"CommentViewPlaceholder",children:(0,i.BX)(b.hs,{gap:12,border:"detail",bg:"primary",radius:"md",padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},flex:"grow",className:E,children:[(0,i.tZ)(k.Vm,{type:"circle",size:48}),(0,i.BX)(b.tu,{gap:12,flex:"grow",children:[(0,i.tZ)(k.Vm,{height:16,width:"".concat(80*Math.random()+20,"%")}),(0,i.tZ)(k.Vm,{height:16,width:"".concat(80*Math.random()+20,"%")}),(0,i.tZ)(k.Vm,{height:16,width:"".concat(80*Math.random()+20,"%")}),(0,i.tZ)(k.Vm,{height:16,width:"".concat(80*Math.random()+20,"%")})]})]})})})}},85527:function(e,t,n){n.d(t,{F:()=>a,q:()=>o});var i=n(98661),r=n(30396);let o=(0,i.createContext)(void 0);function a(){return(0,r.qp)(o)}},37663:function(e,t,n){n.d(t,{T:()=>i});function i(e){var t;return null!==(t=({embed:"post","feed-sidebar":"feed","note-related":"feed",permalink:"feed","post-embed":"post","post-page-restacks-list":"post",suggestions:"feed"})[e])&&void 0!==t?t:e}},59488:function(e,t,n){n.d(t,{c:()=>a});var i=n(30396),r=n(23493),o=n.n(r);let a=e=>{let{idleAfter:t=3e3,element:n}=e,[r,a]=(0,i.eJ)(!1);return(0,i.d4)(()=>{let e;let i=null!=n?n:window,r=()=>{a(!0)},l=o()(()=>{a(!1),clearTimeout(e),e=setTimeout(r,t)},500),s=()=>{document.hidden||l()};return e=setTimeout(r,t),i.addEventListener("mousemove",l),i.addEventListener("mousedown",l),i.addEventListener("resize",l),i.addEventListener("keydown",l),i.addEventListener("touchstart",l),i.addEventListener("wheel",l),n||document.addEventListener("visibilitychange",s),()=>{i.removeEventListener("mousemove",l),i.removeEventListener("mousedown",l),i.removeEventListener("resize",l),i.removeEventListener("keydown",l),i.removeEventListener("touchstart",l),i.removeEventListener("wheel",l),n||document.removeEventListener("visibilitychange",s),clearTimeout(e)}},[n,t]),{isIdle:r}}},7271:function(e,t,n){n.d(t,{M:()=>r});var i=n(60807);function r(){return!!(0,i.Fl)().explicitContentEnabled}},15367:function(e,t,n){n.d(t,{H:()=>i});function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Promise.all([n.e("7152"),n.e("6993")]).then(n.bind(n,91985)).then(n=>{let{Sentry:i}=n;i.captureException(e,{extra:t})})}},93687:function(e,t,n){n.d(t,{z:()=>s});var i=n(7409),r=n(99282),o=n(30396),a=n(48980),l=n(98914);let s=e=>{let{mediaUploadId:t}=e,[n,s]=(0,o.eJ)(null),[d,c]=(0,o.eJ)(!0),[u,p]=(0,o.eJ)(null),h=async()=>{try{let e=await (0,a.rd)("/api/v1/video/upload/".concat(t));s((0,r._)((0,i._)({},e),{updated_at:new Date})),c(!1)}catch(e){console.error("Failed to load media upload:",e),p((0,l.zx)(e)),c(!1)}};return(0,o.d4)(()=>{t?h():(s(null),c(!1))},[t,u]),{mediaUpload:n,loading:d,error:u,refetch:h}}},90406:function(e,t,n){n.d(t,{Hu:()=>i,yK:()=>r});let i="#ff6719",r=48},27036:function(e,t,n){n.d(t,{P:()=>i});let i=(e,t)=>"enabled"===t.payments_state?e.is_subscribed:e.is_free_subscribed},88788:function(e,t,n){n.d(t,{Z:()=>o});var i=n(27412),r=n(98914);class o{static get STATE(){return{STOPPED:"stopped",STARTING:"starting",STARTED:"started",STOPPING:"stopping"}}static isSupported(){var e,t;return!("undefined"==typeof window||!(null===(t=window.navigator)||void 0===t?void 0:null===(e=t.mediaDevices)||void 0===e?void 0:e.getUserMedia)||!window.AudioContext&&!window.webkitAudioContext||!window.MediaRecorder||!window.Float32Array||!window.Blob||!window.URL||!window.Worker||(0,r.K1)()||(0,r.L)())}get duration(){return this.startedAt?((this.endedAt||Date.now())-this.startedAt)/1e3:null}get volume(){if(this.state!==o.STATE.STARTED||!this.analyser)return 0;let e=new Uint8Array(this.analyser.frequencyBinCount);return this.analyser.getByteFrequencyData(e),Math.max(...e)/255}async startCapture(){let{iString:e}=this.i18n;if(!o.isSupported())return alert(e("Recording is not supported on this device.")),!1;if(this.stream)try{return await this.stream,!0}catch(e){return!1}try{this.stream=navigator.mediaDevices.getUserMedia({audio:!0,video:{width:{ideal:1920},height:{ideal:1080},aspectRatio:this.aspectRatio?{ideal:this.aspectRatio}:{ideal:16/9}}}),this.stream=await this.stream,this.stream.getTracks().forEach(e=>{e.addEventListener("ended",()=>{this.state===o.STATE.STARTED&&this.stop()})})}catch(e){console.error(e),this.stream=null}return!!this.stream||(alert(e("Unable to access the camera or microphone! Please check your browser settings.")),!1)}async stopCapture(){if(this.stream){if(this.stream instanceof Promise)try{await this.stream}catch(e){return}if(this.state===o.STATE.STARTED){await this.stop();return}if(this.stream instanceof MediaStream){var e,t;this.stream.getTracks().forEach(e=>e.stop()),null===(e=(t=this.stream).stop)||void 0===e||e.call(t),this.stream=null}}}async start(){var e,t;let{startAt:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{iString:i}=this.i18n;if(!o.isSupported())throw Error("Recording is not supported on this device");if(this.state===o.STATE.STOPPING)throw Error("Currently stopping last recording");if(["starting","started"].includes(this.state))return;if(this.startingTimeout&&clearTimeout(this.startingTimeout),this.state=o.STATE.STARTING,!await this.startCapture()){this.state=o.STATE.STOPPED,null===(e=this.onStopped)||void 0===e||e.call(this);return}let a=window.AudioContext||window.webkitAudioContext;try{let e;if(this.audioContext=(0,r.vU)()?new a:new a({sampleRate:this.sampleRate}),this.analyser=this.audioContext.createAnalyser(),this.analyser.smoothingTimeConstant=.2,this.analyser.fftSize=1024,this.audioContext.createScriptProcessor)this.audioNode=this.audioContext.createScriptProcessor(this.bufferSize,1,1);else throw Error("Unable to construct audio node");if(this.stream instanceof MediaStream&&(this.audioInput=this.audioContext.createMediaStreamSource(this.stream),this.audioInput.connect(this.analyser),this.analyser.connect(this.audioNode),this.audioNode.connect(this.audioContext.destination)),"function"==typeof MediaRecorder.isTypeSupported&&(MediaRecorder.isTypeSupported('video/mp4;codecs="avc1.42E01E, mp4a.40.2"')?e={mimeType:'video/mp4;codecs="avc1.42E01E, mp4a.40.2"'}:MediaRecorder.isTypeSupported("video/webm;codecs=h264")?e={mimeType:"video/webm;codecs=h264"}:MediaRecorder.isTypeSupported("video/webm;codecs=vp9")?e={mimeType:"video/webm;codecs=vp9"}:MediaRecorder.isTypeSupported("video/webm")?e={mimeType:"video/webm"}:MediaRecorder.isTypeSupported("video/mp4")&&(e={mimeType:"video/mp4"})),this.recordedChunks=[],!this.stream){console.error("this.stream is not set, cannot record");return}if(this.stream instanceof Promise){console.error("this.stream has not been awaited, cannot record");return}this.mediaRecorder=new MediaRecorder(this.stream,e),this.startingTimeout=window.setTimeout(()=>{var e,t;this.mediaRecorder||console.error("mediaRecorder is null in timeout"),null===(e=this.mediaRecorder)||void 0===e||e.start(),this.state=o.STATE.STARTED,this.startedAt=Date.now(),this.endedAt=null,null===(t=this.onStarted)||void 0===t||t.call(this)},n?Math.max(Math.max(Date.now(),+n)-Date.now(),0):2e3)}catch(e){this.state=o.STATE.STOPPED,null===(t=this.onStopped)||void 0===t||t.call(this),console.error("Unable to access the camera or microphone!",e),alert(i("Unable to setup camera or microphone!"))}}async stop(){let{dropRecording:e=!1,stopCapture:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n,i,r=this;if(!o.isSupported())throw Error("Recording is not supported on this device");if(["stopping","stopped"].includes(this.state))return;if(this.state===o.STATE.STARTING)throw Error("Currently starting new recording");this.startingTimeout&&clearTimeout(this.startingTimeout),this.state=o.STATE.STOPPING,null===(n=this.onStopping)||void 0===n||n.call(this);let a=async function(){var e,n,i,a,l;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===(e=r.audioInput)||void 0===e||e.disconnect(),null===(n=r.analyser)||void 0===n||n.disconnect(),null===(i=r.audioNode)||void 0===i||i.disconnect(),null===(a=r.audioContext)||void 0===a||a.close(),r.audioContext=null,r.analyser=null,r.audioNode=null,r.audioInput=null,r.mediaRecorder=null,t&&await r.stopCapture(),r.state=o.STATE.STOPPED,r.endedAt=Date.now(),null===(l=r.onStopped)||void 0===l||l.call(r,null!=s?s:void 0)};(null===(i=this.mediaRecorder)||void 0===i?void 0:i.state)!=="recording"||e?await a():(this.mediaRecorder.ondataavailable=async e=>{e.data&&e.data.size>0?await a(e.data):await a()},this.mediaRecorder.stop())}constructor(e){(0,i._)(this,"bufferSize",void 0),(0,i._)(this,"sampleRate",void 0),(0,i._)(this,"startedAt",null),(0,i._)(this,"endedAt",null),(0,i._)(this,"audioContext",null),(0,i._)(this,"analyser",null),(0,i._)(this,"createJavaScriptNode",null),(0,i._)(this,"audioNode",null),(0,i._)(this,"aspectRatio",null),(0,i._)(this,"startingTimeout",null),(0,i._)(this,"onStarting",void 0),(0,i._)(this,"onStopping",void 0),(0,i._)(this,"audioInput",null),(0,i._)(this,"recordedChunks",null),(0,i._)(this,"mediaRecorder",null),(0,i._)(this,"onStarted",void 0),(0,i._)(this,"onStopped",void 0),(0,i._)(this,"stream",null),(0,i._)(this,"state",void 0),(0,i._)(this,"i18n",void 0),this.bufferSize=4096,this.sampleRate=44100,this.state=o.STATE.STOPPED,this.aspectRatio=e.aspectRatio,this.onStarting=e.onStarting,this.onStarted=e.onStarted,this.onStopping=e.onStopping,this.onStopped=e.onStopped,this.i18n=I18N.i(e.language),Object.assign(this,e)}}},91700:function(e,t,n){n(16584),n(20253),n(32351),n(15771)},99027:function(e,t,n){n(27412),n(7409),n(16584);var i=n(6400),r=n(14293),o=n(35937);n(96164),n(29493),n(20253),n(48980),n(98914),n(52513),n(15771),n(19081),n(58175),n(60308),n(26111),n(50475),i.Component},80449:function(e,t,n){n.d(t,{b:()=>p});var i=n(16584),r=n(94184),o=n.n(r),a=n(71375),l=n(71068),s=n(15771),d=n(19081),c=n(58175);let u={alert:"alert-qpA4WP",title:"title-wp_J1f",description:"description-qi_X6V",icon:"icon-wk6sn4",dismissIcon:"dismissIcon-V3WVWl",theme_default:"theme_default-HMCu2W",themeDefault:"theme_default-HMCu2W",priority_primary:"priority_primary-JtnDV3",priorityPrimary:"priority_primary-JtnDV3",theme_accent:"theme_accent-Bs0wZ8",themeAccent:"theme_accent-Bs0wZ8",theme_error:"theme_error-d_EgBh",themeError:"theme_error-d_EgBh",theme_success:"theme_success-ar7Bep",themeSuccess:"theme_success-ar7Bep",theme_warn:"theme_warn-TZXJyb",themeWarn:"theme_warn-TZXJyb",theme_paid:"theme_paid-JMfzbm",themePaid:"theme_paid-JMfzbm",theme_substack:"theme_substack-uNNOIg",themeSubstack:"theme_substack-uNNOIg",theme_select:"theme_select-BVDVyP",themeSelect:"theme_select-BVDVyP",priority_secondary:"priority_secondary-RbRp5G",prioritySecondary:"priority_secondary-RbRp5G",priority_tertiary:"priority_tertiary-PawRzr",priorityTertiary:"priority_tertiary-PawRzr"},p=e=>{let{title:t,description:n,Icon:r,onDismiss:o,theme:a="default",priority:l="tertiary",showClose:s=!0,flex:d="grow"}=e;return(0,i.BX)(C,{theme:a,priority:l,flex:d,children:[r&&(0,i.tZ)(h,{Icon:r}),(0,i.BX)(Z,{children:[t&&(0,i.tZ)(m,{children:t}),n&&(0,i.tZ)(g,{children:n})]}),s&&(0,i.tZ)(v,{onClose:o,priority:l})]})},h=e=>{let{Icon:t}=e;return(0,i.tZ)(f,{children:(0,i.tZ)(t,{size:18,className:u.icon})})},m=e=>{let{children:t}=e;return(0,i.tZ)(c.xv.B4,{weight:"medium",color:"primary",className:u.title,children:t})},g=e=>{let{children:t}=e;return(0,i.tZ)(c.xv.B4,{weight:"regular",color:"secondary",className:u.description,children:t})},v=e=>{let{onClose:t,priority:n}=e;return(0,i.tZ)(f,{children:(0,i.tZ)(s.hU,{priority:"quaternary",onClick:t,size:"xs",children:(0,i.tZ)(a.Z,{size:18,className:o()(u.dismissIcon,u["priority_".concat(n)])})})})},f=(0,l.zo)({display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20}),C=e=>{let{theme:t,priority:n,children:r,flex:a}=e;return(0,i.tZ)(d.X2,{flex:a,gap:12,paddingX:16,paddingY:12,radius:"sm",className:o()(u.alert,u["theme_".concat(t)],u["priority_".concat(n)]),children:r})},Z=(0,l.zo)({display:"flex",direction:"column",flex:"grow",alignItems:"start"})},17352:function(e,t,n){n.d(t,{Z:()=>w});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(92027),s=n(98661),d=n(20160),c=n(71068),u=n(15771),p=n(19081),h=n(1844),m=n(68709),g=n(98248),v=n(63474),f=n(58175),C=n(87077),Z=n(52434);let b=()=>(0,a.tZ)(p.sg,{flex:"grow",justifyContent:"center",alignItems:"center",children:(0,a.tZ)(g.$j,{})}),w=e=>{var t,n,l,{children:u,gap:p=8,direction:h="column",radius:m="md",outline:g="detail",bg:f="primary",elevated:C=!0,loading:Z,href:w,onClick:y}=e,_=(0,o._)(e,["children","gap","direction","radius","outline","bg","elevated","loading","href","onClick"]);let k=w||y,A=C?d.W:s.Fragment,E=(0,a.tZ)(c.xu,(0,r._)((0,i._)({display:"flex",sizing:"border-box",direction:h,bg:f,outline:g,radius:m,gap:p,shadow:null!==(t=_.shadow)&&void 0!==t?t:C?"xs":void 0,pressable:null!==(n=_.pressable)&&void 0!==n?n:k?"lg":void 0,cursor:null!==(l=_.cursor)&&void 0!==l?l:k?"pointer":void 0},_),{children:Z?(0,a.tZ)(b,{}):u}));return(0,a.tZ)(A,{children:k?(0,a.tZ)(v.A0,{href:w,onClick:y,children:E}):E})};w.Title=e=>{let{children:t}=e;return(0,a.tZ)(m.__,{children:t})},w.Header=e=>{let{children:t}=e;return(0,a.tZ)(p.X2,{justifyContent:"space-between",gap:12,paddingTop:20,paddingX:20,children:t})},w.Body=e=>{var{children:t}=e,n=(0,o._)(e,["children"]);return(0,a.tZ)(p.sg,(0,r._)((0,i._)({paddingX:20},n),{children:t}))},w.Footer=e=>{let{children:t}=e;return(0,a.tZ)(p.sg,{paddingBottom:20,paddingX:20,children:t})},w.Description=e=>{let{children:t}=e;return(0,a.tZ)(h.p6,{children:t})},w.Loading=b,w.Value=e=>{let{children:t,size:n="md"}=e,i="sm"===n?f.xv.H3:f.xv.H2;return(0,a.tZ)(i,{className:Z.Z.value,children:t})},w.Tooltip=e=>{let{title:t,text:n,disabled:i}=e;return(0,a.tZ)(C.u,{title:t,text:n,disabled:i,hoverOptions:{delayEnter:250},children:(0,a.tZ)(p.M5,{width:20,height:20,children:(0,a.tZ)(u.hU,{priority:"quaternary",size:"xs",children:(0,a.tZ)(l.Z,{size:16})})})})}},68709:function(e,t,n){n.d(t,{OV:()=>m,Y5:()=>h,__:()=>p});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(94184),s=n.n(l),d=n(98661),c=n(19081),u=n(58175);let p=(0,d.forwardRef)((e,t)=>{var{className:n}=e,r=(0,o._)(e,["className"]);return(0,a.tZ)(u.xv.B4,(0,i._)({as:"label",weight:"medium",color:"primary",ref:t,cursor:"inherit",className:s()("pencraft",n)},r))}),h=(0,d.forwardRef)((e,t)=>{var{className:n,children:l}=e,d=(0,o._)(e,["className","children"]);return(0,a.tZ)(p,(0,r._)((0,i._)({ref:t,className:s()("pencraft",n)},d),{children:(0,a.BX)(c.gq,{gap:4,alignItems:"center",children:[l,(0,a.tZ)(v,{})]})}))}),m=(0,d.forwardRef)((e,t)=>{var{className:n,children:l,hint:d}=e,u=(0,o._)(e,["className","children","hint"]);return(0,a.tZ)(p,(0,r._)((0,i._)({ref:t,className:s()("pencraft",n)},u),{children:(0,a.BX)(c.gq,{gap:4,justifyContent:"space-between",children:[l,(0,a.tZ)(g,{text:d})]})}))}),g=e=>{let{text:t}=e;return(0,a.tZ)(u.xv,{color:"secondary",weight:"regular",children:t})},v=()=>(0,a.tZ)(u.xv,{as:"span",color:"error",children:"*"})},73857:function(e,t,n){n.d(t,{L:()=>p});var i=n(7409),r=n(99282),o=n(16584),a=n(2564),l=n(62372),s=n(71068),d=n(14775),c=n(84747),u=n(6114);function p(e){let{content:t,children:n,leading:p,trailing:h=(0,o.tZ)(a.Z,{size:20}),priority:m="primary"}=e,[g,v,f]=(0,l.XI)(),{triggerProps:C,layerProps:Z,renderLayer:b}=(0,l.sJ)({isOpen:g,onParentClose:f,auto:!0,snap:!0,placement:"right-start",possiblePlacements:["left-start","right-start","left-end","right-end"],triggerOffset:0});return(0,o.BX)(o.HY,{children:[(0,o.tZ)(c.u,(0,r._)((0,i._)({},v,C),{onClick:e=>{e.preventDefault()},leading:p,trailing:h,priority:m,children:t})),g&&b((0,o.tZ)(s.xu,(0,r._)((0,i._)({"data-submenu-root":!0},Z,v),{children:(0,o.tZ)(d.F,{className:u.Z.submenu,padding:4,bg:"elevated",children:n})})))]})}},6490:function(e,t,n){n.d(t,{ex:()=>r.ex,fe:()=>r.fe,mz:()=>o.m,u_:()=>r.u_,xB:()=>i.xB});var i=n(65523),r=n(10704),o=n(50384)},17688:function(e,t,n){n.d(t,{d:()=>v,i:()=>h});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(94184),s=n.n(l),d=n(98661),c=n(86374),u=n(19081),p=n(63584);let h=(0,d.forwardRef)((e,t)=>{var{className:n,error:l=!1,leading:d,trailing:h=(0,a.tZ)(c.Z,{}),children:v,flex:f="auto"}=e,C=(0,o._)(e,["className","error","leading","trailing","children","flex"]);return(0,a.BX)(u.hs,{position:"relative",flex:f,children:[(0,a.tZ)("select",(0,r._)((0,i._)({},C),{className:s()(n,p.Z.select,l&&p.Z.error,C.disabled&&p.Z.disabled,d?p.Z.leading:null,h?p.Z.trailing:null),ref:t,children:v})),d&&(0,a.tZ)(m,{className:s()(l&&p.Z.error,C.disabled&&p.Z.disabled),children:d}),h&&(0,a.tZ)(g,{className:s()(l&&p.Z.error,C.disabled&&p.Z.disabled),children:h})]})});h.displayName="SelectNative";let m=e=>{let{children:t,className:n}=e;return(0,a.tZ)(u.hs,{className:s()(p.Z.wrapper,p.Z.leading,n),children:t})},g=e=>{var{children:t,className:n}=e,l=(0,o._)(e,["children","className"]);return(0,a.tZ)(u.hs,(0,r._)((0,i._)({className:s()(p.Z.wrapper,p.Z.trailing,n)},l),{children:t}))},v=e=>{let{children:t}=e;return(0,a.tZ)("option",{value:"",disabled:!0,selected:!0,children:t},"placeholder")}},440:function(e,t,n){n.d(t,{l:()=>h});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(94184),s=n.n(l),d=n(98661),c=n(64300),u=n(51776),p=n(68686);let h=(0,d.forwardRef)((e,t)=>{var{className:n,error:l=!1,defaultRows:h=4,maxRows:m,value:g,onChange:v}=e,f=(0,o._)(e,["className","error","defaultRows","maxRows","value","onChange"]);let{innerRef:C,combinedRef:Z}=(0,u.ts)(t),{value:b,handleChange:w}=(0,c.y)({value:g,onChange:v}),y=()=>{let e=C.current;if(!e)return;let t=window.getComputedStyle(e),n=parseInt(t.borderTopWidth)+parseInt(t.borderBottomWidth),i=parseInt(t.paddingTop)+parseInt(t.paddingBottom),r=parseInt(t.lineHeight);e.style.height="auto";let o=r*h+n+i,a=Math.min(Math.max(e.scrollHeight+n,o),m?r*m+n+i:1/0);e.style.height="".concat(a,"px")};return(0,d.useEffect)(()=>(y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)),[]),(0,a.tZ)(c.g,(0,r._)((0,i._)({},f),{value:b,onChange:e=>{w(e),y()},rows:h,className:s()(n,p.Z.autogrowing),ref:Z,error:l}))})},56649:function(e,t,n){n.d(t,{D:()=>o});var i=n(16584),r=n(1844);let o=e=>{let{errors:t}=e;return t?(0,i.tZ)(i.HY,{children:t.map(e=>(0,i.tZ)(r.y,{children:e},e))}):null}},52202:function(e,t,n){n.d(t,{g:()=>v});var i=n(16584),r=n(98661),o=n(94184),a=n.n(o),l=n(70843),s=n(71068),d=n(87077);function c(e){let{text:t}=e;return(0,i.tZ)(d.u,{text:t,as:"div",children:(0,i.tZ)(s.xu,{cursor:"pointer",children:(0,i.tZ)(l.Z,{size:16,color:"var(--color-fg-secondary)"})})})}var u=n(19081),p=n(56649),h=n(1844),m=n(58175),g=n(51776);let v=(0,r.forwardRef)((e,t)=>{let{action:n,children:r,className:o,errors:l,helpText:s,details:d,label:v,paddingBottom:f,paddingTop:C,flex:Z,wrapWithLabel:b,disabled:w,compact:y}=e,_=y?2:8,k=Array.isArray(d)?d:[d];return(0,i.tZ)(u.sg,{ref:t,alignItems:"stretch",className:o,gap:_,paddingBottom:f,paddingTop:C,disabled:w,flex:Z,children:(0,i.BX)(g.fv,{children:[(0,i.BX)(u.sg,{gap:_,as:b?"label":"div",children:[v&&(0,i.BX)(u.X2,{gap:_,alignItems:"center",justifyContent:"space-between",children:[(0,i.tZ)(m.xv.B4,{weight:"medium",as:b?"div":"label",color:"primary",children:v}),s&&(0,i.tZ)(c,{text:s}),n]}),r&&(0,i.tZ)(u.sg,{className:a()({"has-error":l}),children:r})]}),k&&k.length>0&&k.map(e=>(0,i.tZ)(h.p6,{children:e})),(0,i.tZ)(p.D,{errors:l})]})})})},74134:function(e,t,n){n.d(t,{a:()=>m,i:()=>h});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(6400),s=n(61254),d=n(19081),c=n(58175),u=n(60308);let p={tableData:"tableData-Yoy3uq",tableRow:"tableRow-p2pp0v",rowLogo:"rowLogo-C959OF",rowInfo:"rowInfo-DS3vUN",rowLink:"rowLink-p8OUuc",podcastDescription:"podcastDescription-a0BlLC",rowHeader:"rowHeader-xKXiQq",rowText:"rowText-V02KAu",editButton:"editButton-rcOodp"},h=e=>{var{children:t,addItem:n}=e,c=(0,o._)(e,["children","addItem"]);let u=(0,l.toChildArray)(t);return(0,a.BX)(d.tu,(0,r._)((0,i._)({gap:16,flex:"fill"},c),{children:[u.map((e,t)=>(0,a.BX)(a.HY,{children:[e,t<u.length-1||n?(0,a.tZ)(s.iz,{pullX:8}):null]})),(0,a.tZ)(d.gq,{children:n})]}))},m=e=>{let{imgSrc:t,icon:n,href:i,title:r,subtitle:o,action:l}=e;return(0,a.BX)(d.gq,{alignItems:"center",gap:16,children:[t?(0,a.tZ)("img",{className:p.rowLogo,src:(0,u.zF4)(t,144),alt:"".concat(r," logo")}):n?(0,a.tZ)(d.hs,{justifyContent:"center",alignItems:"center",className:p.rowLogo,bg:"secondary",radius:"sm",children:n}):null,(0,a.BX)(d.gq,{alignItems:"center",flex:"grow",gap:12,children:[(0,a.BX)(d.tu,{className:p.rowInfo,justifyContent:"center",children:[(0,a.tZ)(c.xv.B4,{weight:"bold",className:p.rowTitle,children:(0,a.tZ)("a",{className:p.rowLink,href:i,native:!0,children:r})}),(0,a.tZ)(d.gq,{gap:8,alignItems:"center",children:(0,a.tZ)(c.xv.B4,{children:o})})]}),l]})]})}},15120:function(e,t,n){n(6400),n(98661)},31065:function(e,t,n){n.d(t,{X:()=>a});var i=n(16584),r=n(98661),o=n(80026);let a=(0,r.forwardRef)((e,t)=>{let{label:n,icon:r,href:a,size:l=56,onClick:s}=e;return(0,i.tZ)(o.kG,{resetCss:!0,onClick:s,href:a,radius:"sm",ref:t,children:(0,i.BX)(o.sg,{className:"container-iTCOuF",gap:8,alignItems:"center",width:l,children:[(0,i.tZ)(o.sg,{alignItems:"center",justifyContent:"center",animate:!0,className:"button-zkMi7O",bg:"secondary",width:l,height:l,radius:"lg",children:r}),(0,i.tZ)(o.xv.B5,{weight:"semibold",color:"primary",children:n})]})})})},2009:function(e,t,n){n.d(t,{L:()=>o});var i=n(93252),r=n(14773);let o=document.location.origin===r.tE&&!(0,i.P)()},8072:function(e,t,n){n.d(t,{C:()=>a});var i=n(16584),r=n(55679),o=n(42224);let a=e=>{let{node:t,editable:n,staticData:a}=e;return(0,i.tZ)(r.T5,{children:(0,i.tZ)(o.k,{node:t,editable:n,staticData:a})})}},81355:function(e,t,n){n.d(t,{e:()=>o});var i=n(16584);n(30396);var r=n(52720);let o=e=>{let{children:t}=e;return(0,i.tZ)(r.Z,{version:3,config:{loader:{load:["ui/safe"]}},children:t})}},9459:function(e,t,n){n.d(t,{L:()=>E});var i=n(7409),r=n(99282),o=n(16584),a=n(30396),l=n(94184),s=n.n(l),d=n(10120),c=n(61649),u=n(12281),p=n(46543),h=n(95441),m=n(69181),g=n(59488),v=n(98422),f=n(71068),C=n(75822),Z=n(18618),b=n(74571),w=n(28226),y=n(70958),_=n(61527),k=n(31377);let A={"preview-label-container":"preview-label-container-Y88jiD",previewLabelContainer:"preview-label-container-Y88jiD","live-stream-tag-container":"live-stream-tag-container-MWmvAX",liveStreamTagContainer:"live-stream-tag-container-MWmvAX","media-clip-tag-container":"media-clip-tag-container-FbCpZr",mediaClipTagContainer:"media-clip-tag-container-FbCpZr",videoContainer:"videoContainer-wF4DEO",overflow:"overflow-ns9Lj9",notesVideoContainer:"notesVideoContainer-XgGhEY"},E=e=>{var t,n,l,E,x;let{clipInfo:T,disableAutoPlay:I=!1,forceAutoPlay:B=!1,isFreeSubscribed:L,isSubscribed:S,isLiveStream:M=!1,mediaUpload:P,post:N,pub:D,startMuted:R,variant:O="notes",videoPlayerRef:X,videoType:j="post",entityKey:z,entityType:U,primaryEntityType:H,primaryEntityKey:F,surface:V,contentType:W,feedItemTrackingParameters:q}=e,{isClipping:Y}=(0,c.Sr)(),{iString:J}=(0,h.M1)(),{isMobile:G}=(0,v.v9)(),[K,Q]=(0,a.eJ)(!1),$=(0,k.isPaidAudience)(N.audience)&&!S,ee=(null!==(n=P.preview_duration)&&void 0!==n?n:0)>0,et=$&&(!ee||K),en=!1;if(T&&ee&&$){let e=null!==(l=P.preview_start)&&void 0!==l?l:0,t=e+(null!==(E=P.preview_duration)&&void 0!==E?E:0),n=T.startTime,i=n+T.duration;en=n<e||i>t}(0,C.KS)({videoPlayerRef:X,showPaywall:et,disable:I});let ei=(0,a.sO)(null),[er,eo]=(0,a.eJ)(!1),{isIdle:ea}=(0,g.c)({idleAfter:2e3,element:ei.current}),el=(0,d.r)(),es=(0,b.Ml)(ei),ed={mediaRef:X,pub:D,post:N,mediaUpload:P,podcastUpload:null==P?void 0:P.extractedAudio,isActive:null!==(x=er||!ea||Y)&&void 0!==x&&x,isFocused:es,handle:el,hasPaywall:$,hideNextVideoButton:!0,showPaywall:et,onShareMenuOpen:()=>eo(!0),onShareMenuClose:()=>eo(!1),disableShortcuts:!0,size:"notes"===O?"sm":"md",hideSettings:!!T,hidePip:!!T};return(0,o.tZ)(f.xu,{ref:ei,position:"relative",onMouseDown:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,o.BX)(d.I,{handle:el,className:A.fullScreenContainer,children:[(0,o.BX)("div",{className:s()(A.videoContainer,{[A.overflow]:Y,[A.notesVideoContainer]:"notes"===O,[A.inboxVideoContainer]:"inbox"===O}),children:[(0,o.tZ)(u.Z,{ref:X,doNotResetOnEnd:!0,hidePlayButton:et,mediaUpload:P,noControls:!0,noKeyboardShortcuts:!0,post:N,pub:D,startMuted:R,onFinishVideo:()=>{Q(!0)},renderPlayButton:()=>(0,o.tZ)(Z.fI,{isPlaying:!1,size:G?40:56}),isClipping:Y,videoType:j,usePreview:$&&ee,videoPlayerClassName:A.videoPlayer,autoPlay:B&&!et,entityKey:z,entityType:U,primaryEntityKey:F,primaryEntityType:H,surface:V,contentType:W,feedItemTrackingParameters:q}),T&&!T.isAutoSelected?(0,o.tZ)(_.to,(0,r._)((0,i._)({},ed),{startTime:T.startTime,duration:T.duration})):(0,o.tZ)(_.Vo,(0,i._)({},ed))]}),(null===(t=X.current)||void 0===t?void 0:t.player)&&"post"===j&&(0,o.tZ)(p.i,{visible:Y,videoPlayerRef:X,containerRef:ei,videoUpload:P,post:N}),ee&&!et&&!S&&(0,o.tZ)("div",{className:A["preview-label-container"],children:(0,o.tZ)(y.l,{children:J("Preview")})}),!(ee&&!et&&!S)&&M&&(0,o.tZ)("div",{className:A["live-stream-tag-container"],children:(0,o.tZ)(m.j0,{})}),et&&(0,o.tZ)(w.Y,{post:N,pub:D,isFreeSubscribed:L,isPaidClip:en,medium:"video",variant:"dialog",onRestart:ee&&!en?()=>{var e;(null===(e=X.current)||void 0===e?void 0:e.player)&&(Q(!1),X.current.player.currentTime=0,X.current.player.play())}:void 0})]})})}},54480:function(e,t,n){n.d(t,{n:()=>O});var i=n(58865),r=n(16584),o=n(36081),a=n(36813),l=n(95441),s=n(98422),d=n(19081),c=n(58175),u=n(18618),p=n(30396),h=n(85200),m=n(71212),g=n(51043),v=n(45609),f=n(67358),C=n(80569),Z=n.n(C),b=n(49995),w=n(68833),y=n(49762),_=n(98914),k=n(71068),A=n(15771),E=n(61254),x=n(36500),T=n(84747),I=n(21685),B=n(43905),L=n(60308);let S=e=>{let{audioFileUrl:t,feedUrl:n,isPrivateFeed:i,sectionId:o,user:a}=e,{iString:s}=(0,l.M1)();return(0,r.tZ)(I.J,{trigger:(0,r.tZ)(A.kG,{resetCss:!0,display:"flex",alignItems:"center",justifyContent:"center",radius:"sm",height:32,width:32,children:(0,r.tZ)(h.Z,{className:"icon-vlW9ea",size:24,"aria-label":s("More options")})}),placement:"bottom-start",children:(0,r.tZ)(M,{audioFileUrl:t,feedUrl:n,isPrivateFeed:i,sectionId:o,user:a})})},M=e=>{let{audioFileUrl:t,feedUrl:n,isPrivateFeed:i,sectionId:o,user:a}=e,{iString:s}=(0,l.M1)(),[u,h]=(0,p.eJ)(!1),[C,I]=(0,p.eJ)(null),B=(0,y.ZP)("hide_media_download_option"),S=async()=>{try{(0,w.j)(w.FP.PODCAST_EMAIL_LINK_CLICKED),await Z().post("/api/v1/subscription/send_podcast_email").send({section_id:o}),(0,b.ZP)(s("Email sent")),h(!0)}catch(e){I(e)}},M=()=>{(0,w.j)(w.FP.PODCAST_FEED_URL_COPIED),(0,_.vQ)(n),(0,b.ZP)(s("RSS feed copied"))};return(0,r.BX)(k.xu,{style:{maxWidth:285},padding:8,children:[(0,r.BX)(x.xw,{isFirst:!0,children:[t&&!B&&(0,r.tZ)(T.u,{leading:(0,r.tZ)(m.Z,{size:16}),onClick:()=>{(0,_.Hl)((0,L.rhs)(t,{download:!0}))},children:s("Download MP3")}),n&&(0,r.tZ)(T.u,{leading:(0,r.tZ)(g.Z,{size:16}),onClick:M,children:i?s("Your private RSS feed"):s("RSS feed")})]}),a&&n&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(E.iz,{paddingY:8}),(0,r.BX)(d.tu,{gap:12,padding:8,children:[(0,r.BX)(c.xv.B4,{color:"secondary",children:[s("Copy your RSS link and paste it in your podcast app.")," ",(0,r.tZ)(P,{})]}),(0,r.BX)(d.gq,{gap:8,children:[(0,r.tZ)(A.zx,{size:"sm",flex:"grow",leading:(0,r.tZ)(v.Z,{size:16}),priority:"secondary-outline",onClick:M,children:s("Copy link")}),(0,r.tZ)(A.zx,{size:"sm",flex:"grow",disabled:u,leading:(0,r.tZ)(f.Z,{size:16}),priority:"secondary-outline",onClick:S,children:s("Email link")})]}),C&&(0,r.tZ)(c.xv.B4,{color:"error",children:(0,_.zx)(C)})]})]})]})},P=()=>{let{iString:e}=(0,l.M1)();return(0,r.tZ)(c.hh,{href:B.ty,target:"_blank",rel:"noopener",decoration:"underline",children:e("Learn more")})},N={"skip-button":"skip-button-jgLOBO","skip-icon":"skip-icon-YsbexL",playbackRate:"playbackRate-o33VkZ"};function D(){let e=(0,i._)(["Change playback speed. Current speed is "," times"]);return D=function(){return e},e}let R=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],O=e=>{var t,n;let{audioFileUrl:i,feedUrl:p,isPlaying:h,isPrivateFeed:m,playbackRate:g,sectionId:v,user:f,onChangePlaybackRate:C,onSkipBack:Z,onSkipForward:b,onTogglePlayback:w}=e,{isMobile:y}=(0,s.v9)(),_=y?28:32,{iString:k,iTemplate:A}=(0,l.M1)(),E=R.findIndex(e=>{let{value:t}=e;return t===g}),x=(null===(t=R[E])||void 0===t?void 0:t.display)?A(D(),null===(n=R[E])||void 0===n?void 0:n.display):k("Change playback speed");return(0,r.BX)(d.gq,{gap:20,alignItems:"center",justifyContent:"space-between",children:[(0,r.tZ)(d.gq,{style:{width:60},justifyContent:"center",role:"button","aria-label":x,onClick:()=>{let e=(E+1)%R.length;C(R[e].value)},children:(0,r.BX)(c.xv.B2,{className:N.playbackRate,color:"vibrance-secondary",weight:"medium","aria-hidden":!0,children:[R[E].display,"\xd7"]})}),(0,r.BX)(d.gq,{gap:y?20:32,alignItems:"center",children:[Z&&(0,r.tZ)("div",{onClick:Z,role:"button",className:N["skip-button"],"aria-label":k("Skip backward 15 seconds"),children:(0,r.tZ)(o.Z,{className:N["skip-icon"],height:_})}),(0,r.tZ)(u.DN,{size:y?56:72,isPlaying:h,onTogglePlayback:w}),b&&(0,r.tZ)("div",{onClick:b,role:"button",className:N["skip-button"],"aria-label":k("Skip forward 30 seconds"),children:(0,r.tZ)(a.Z,{className:N["skip-icon"],height:_})})]}),(0,r.tZ)(d.gq,{style:{width:60},justifyContent:"center",alignItems:"center",children:(0,r.tZ)(S,{audioFileUrl:i,feedUrl:p,isPrivateFeed:m,sectionId:v,user:f})})]})}},3486:function(e,t,n){n.d(t,{p:()=>c});var i=n(16584),r=n(94184),o=n.n(r),a=n(71068),l=n(38841),s=n(43905),d=n(24791);let c=e=>{let t,{border:n,isFreemail:r,isStatic:c,post:u,pub:p,section:h,size:m=48,url:g,useSection:v}=e,f=(0,d.sv)({post:u}),{artUrl:C,paidArtUrl:Z,url:b}=(0,s.Mv)({pub:p,section:h,useSection:v}),w=(0,a.oB)({outline:"detail"});return t=c&&f&&u?r?C:null!=Z?Z:C:v?null!=C?C:null==u?void 0:u.podcast_episode_image_url:u&&((null==u?void 0:u.podcastUpload)||(null==u?void 0:u.videoUpload)||(null==u?void 0:u.podcast_url))?u.podcast_episode_image_url:C,(0,i.tZ)(l.nZ,{className:o()(w,"pub-logo-m0IFm6",{"pub-logo--border-white-M0Tr8T":"white"===n}),href:null!=g?g:b,pub:p,logoUrl:t,size:m})}},28226:function(e,t,n){n.d(t,{Y:()=>Y});var i=n(7409),r=n(99282),o=n(58865),a=n(16584),l=n(30396),s=n(94184),d=n.n(s),c=n(13639),u=n(25425),p=n(84488),h=n(98661),m=n(80569),g=n.n(m),v=n(83034),f=n(45530),C=n(95441),Z=n(56629),b=n(60807),w=n(68833),y=n(98914),_=n(98422),k=n(94874),A=n(15771),E=n(19081),x=n(58175),T=n(70379),I=n(24791),B=n(60308),L=n(47929);let S={"container--dialog":"container--dialog-IFBVqS",containerDialog:"container--dialog-IFBVqS","container--overlay":"container--overlay-NodljG",containerOverlay:"container--overlay-NodljG","container--animated":"container--animated-lBR5nE",containerAnimated:"container--animated-lBR5nE","container--animated-in":"container--animated-in-AmGha2",containerAnimatedIn:"container--animated-in-AmGha2","icon-container":"icon-container-XN2D7I",iconContainer:"icon-container-XN2D7I","content-top":"content-top-eM6ECM",contentTop:"content-top-eM6ECM","content-bottom":"content-bottom-VxiZOP",contentBottom:"content-bottom-VxiZOP",icon:"icon-k4eGDx",inlineIconContainer:"inlineIconContainer-fljw1h","restart-button":"restart-button-XCv0DP",restartButton:"restart-button-XCv0DP"};function M(){let e=(0,o._)(["Available now for iOS and Android"]);return M=function(){return e},e}function P(){let e=(0,o._)(["Continue watching this video for free in the Substack app"]);return P=function(){return e},e}function N(){let e=(0,o._)(["Continue watching this video for free, courtesy of ","."]);return N=function(){return e},e}function D(){let e=(0,o._)(["Continue listening for free in the Substack app"]);return D=function(){return e},e}function R(){let e=(0,o._)(["Continue listening for free, courtesy of ","."]);return R=function(){return e},e}function O(){let e=(0,o._)(["Watch this video for free in the Substack app"]);return O=function(){return e},e}function X(){let e=(0,o._)(["Watch this video for free, courtesy of ","."]);return X=function(){return e},e}function j(){let e=(0,o._)(["Listen to this episode for free in the Substack app"]);return j=function(){return e},e}function z(){let e=(0,o._)(["Listen to this episode for free, courtesy of ","."]);return z=function(){return e},e}function U(){let e=(0,o._)([""," episode"]);return U=function(){return e},e}function H(){let e=(0,o._)(["The full episode is only available to "," subscribers"]);return H=function(){return e},e}function F(){let e=(0,o._)(["The full episode is only available to paid subscribers of ",""]);return F=function(){return e},e}function V(){let e=(0,o._)([""," clip"]);return V=function(){return e},e}function W(){let e=(0,o._)(["This clip is only available to "," subscribers"]);return W=function(){return e},e}function q(){let e=(0,o._)(["This clip is only available to paid subscribers of ",""]);return q=function(){return e},e}let Y=e=>{var t,n,o,s;let{disableButtons:m,medium:f,inlineIcon:Y,isFreeSubscribed:G,isPaidClip:K,post:Q,pub:$,variant:ee,onRestart:et,magicToken:en}=e,{iString:ei,iTemplate:er}=(0,C.M1)(),{isMobile:eo}=(0,_.v9)(),[ea,el]=(0,l.eJ)(!1),{getSettingFor:es}=(0,Z.So)(),ed=(0,b.aF)(),{popToast:ec}=(0,T.pm)(),eu=!!(es("paywall_unlock_tokens")&&"only_paid"===Q.audience&&Q.teaser_post_eligible)&&!(null==ed?void 0:ed.is_subscribed)&&G&&!(null==ed?void 0:ed.has_redeemed_post_unlock_token),ep=null==ed?void 0:ed.reader_installed_at,{modal:eh,open:em}=(0,v.useAppModal)({utm_campaign:L.VX.paywallPostUnlockPrompt,utm_source:L.b3.substack,overrideCTA:null!==(t=ep&&ei("Open in app"))&&void 0!==t?t:void 0,overrideTitle:ep?ei("Unlock your free post in the Substack app"):ei("Get the free Substack app to unlock this post"),subTitle:er(M()),openUrl:null!==(n=ep&&(0,B.K8_)($.subdomain,Q.slug))&&void 0!==n?n:void 0}),eg=(0,h.useCallback)(async()=>{(0,w.j)(w.FP.PAYWALL_UNLOCK_CTA_CLICKED,{post_id:Q.id,publication_id:$.id,medium:f});try{await g().post("/api/v1/post_unlock_token").send({post_id:Q.id,token:en}),eo?window.location.href=ep?(0,B.K8_)($.subdomain,Q.slug,{redirect:"app-store",params:{utm_campaign:L.VX.paywallPostUnlockPrompt,utm_source:L.b3.paywall,utm_medium:f}}):(0,B.D4e)({utm_campaign:L.VX.paywallPostUnlockPrompt,utm_source:L.b3.paywall,utm_medium:f}):em()}catch(e){ec(e=>(0,a.tZ)(T.FN,(0,r._)((0,i._)({},e),{text:ei("Teaser posts are not currently available for this content")})))}},[Q.id,Q.slug,$.id,$.subdomain,f,en,ep,em,ec,ei,eo]),ev=!!et,ef=null!==(o=(0,I.H$)($))&&void 0!==o?o:"Founding Member",eC=eu?et?"video"===f?eo?er(P()):er(N(),$.author_name||$.name):eo?er(D()):er(R(),$.author_name||$.name):"video"===f?eo?er(O()):er(X(),$.author_name||$.name):eo?er(j()):er(z(),$.author_name||$.name):"founding"===Q.audience?er(U(),ef):ei("Paid episode"),eZ="founding"===Q.audience?er(H(),ef):er(F(),$.name);2309160===$.id?(eC=ei("Watch the film"),eZ="Subscribe or purchase as a 1-month rental to continue."):K&&(eC="founding"===Q.audience?er(V(),ef):ei("Paid clip"),eZ="founding"===Q.audience?er(W(),ef):er(q(),$.name));let eb="video"===f?ei("Subscribe to watch"):ei("Subscribe to listen"),ew=eu?ei("Claim my free episode"):"video"===f?ei("Upgrade to watch"):ei("Upgrade to listen"),ey=eu?()=>{eg()}:()=>{(0,y.uX)((0,B.Zs0)($,{simple:!0,next:document.location.href,utm_source:L.b3.showsPaywall,utm_medium:L.lP.web,utm_content:Q.id}),{local_navigation:!1})},e_=G?ew:eb;return(0,l.d4)(()=>{(0,w.j)(w.FP.FREE_PREVIEW_PAYWALL_SHOWN,{post_id:Q.id,medium:f})},[Q.id,f]),(0,l.d4)(()=>{ev&&setTimeout(()=>{el(!0)},10)},[ev]),(0,a.BX)(E.gq,{className:d()(S.container,{[S["container--dialog"]]:"dialog"===ee,[S["container--overlay"]]:"overlay"===ee,[S["container--animated"]]:ev,[S["container--animated-in"]]:ea}),inset:0,justifyContent:"center",alignItems:"center",position:"absolute",onClick:e=>{e.stopPropagation(),e.preventDefault()},"data-testid":"paywall",children:[eh,"dialog"===ee?(0,a.tZ)(J,{showUnlockPrompt:eu,description:eZ,headerText:eC,post:Q,pub:$,primaryCta:e_,primaryCtaClick:ey,onRestart:et}):(0,a.BX)(E.tu,{alignItems:"center",gap:eo?12:16,paddingX:24,children:[(0,a.BX)(E.tu,{alignItems:"center",className:S["content-top"],gap:eo?12:16,children:[!Y&&(eu?(0,a.tZ)(k.qE,{photoUrl:null!==(s=$.author_photo_url)&&void 0!==s?s:void 0,size:64}):(0,a.tZ)(E.gq,{className:S["icon-container"],alignItems:"center",color:"white",justifyContent:"center",radius:"sm",children:(0,a.tZ)(c.Z,{size:eo?16:24})})),(0,a.BX)(E.tu,{alignItems:"center",gap:4*!eo,children:[(0,a.BX)(E.gq,{alignItems:"center",gap:8,children:[Y&&(0,a.tZ)(E.gq,{className:S.inlineIconContainer,alignItems:"center",justifyContent:"center",radius:"sm",children:(0,a.tZ)(c.Z,{size:16})}),(0,a.tZ)(x.xv.B3,{as:"h3",color:"white",weight:"semibold",fontSize:eu?20:15,textAlign:"center",children:eC})]}),!eu&&(0,a.tZ)(x.xv.B4,{color:"white",opacity:80,align:"center",children:eZ})]})]}),(0,a.BX)(E.gq,{className:S["content-bottom"],gap:16,children:[et&&(0,a.tZ)(A.zx,{className:S["restart-button"],disabled:m,priority:"secondary-outline",onClick:()=>{(0,w.j)(w.FP.FREE_PREVIEW_PAYWALL_RESTART_BUTTON_CLICKED,{post_id:Q.id}),et()},children:(0,a.BX)(E.gq,{alignItems:"center",gap:12,children:[(0,a.tZ)(u.Z,{size:16}),ei("Restart")]})}),(0,a.BX)(A.zx,{priority:"primary",onClick:ey,disabled:m,children:[eu&&(0,a.tZ)(p.Z,{className:"icon",size:20,stroke:"#fff",fill:"none",strokeWidth:2}),e_]})]})]})]})},J=e=>{var t;let{description:n,headerText:i,post:r,pub:o,primaryCtaClick:l,primaryCta:s,onRestart:d,showUnlockPrompt:u}=e,{iString:p}=(0,C.M1)();return(0,a.BX)(E.tu,{bg:"glass-inverted-medium",padding:16,gap:16,radius:"md",maxWidth:320,children:[(0,a.BX)(E.tu,{gap:4,alignItems:"center",children:[u&&(0,a.tZ)(k.qE,{photoUrl:null!==(t=o.author_photo_url)&&void 0!==t?t:void 0,size:64}),(0,a.BX)(E.gq,{alignItems:"center",color:"white",gap:8,children:[!u&&(0,a.tZ)(c.Z,{size:16}),(0,a.tZ)(x.xv.B2,{as:"h3",color:"white",weight:"semibold",textAlign:u?"center":"left",children:i})]}),!u&&(0,a.tZ)(x.xv.B4,{color:"white",opacity:80,align:"center",children:n})]}),(0,a.BX)(E.tu,{gap:8,children:[d&&(0,a.tZ)(A.zx,{priority:"primary-mono",onClick:()=>{(0,w.j)(w.FP.FREE_PREVIEW_PAYWALL_RESTART_BUTTON_CLICKED,{post_id:r.id}),d()},children:p("Replay")}),(0,a.BX)(A.zx,{onClick:l,priority:"secondary",children:[u&&(0,a.tZ)(f.Z,{size:18,className:S.icon}),s]})]})]})}},70958:function(e,t,n){n.d(t,{l:()=>a});var i=n(16584),r=n(19081),o=n(58175);let a=e=>{let{children:t,avoidBackgroundBlur:n}=e;return(0,i.tZ)(r.gq,{alignItems:"center",bg:n?void 0:"glass-inverted-medium",color:"white",gap:6,height:24,paddingX:8,radius:"sm","data-testid":"audio-player-preview-label",style:n?{background:"var(--color-light-fg-primary)"}:void 0,children:(0,i.tZ)(o.xv.B5,{weight:"medium",color:"white",children:t})})}},61404:function(e,t,n){n.d(t,{w:()=>p});var i=n(58865),r=n(16584),o=n(94184),a=n.n(o),l=n(95441),s=n(19081),d=n(58175);let c={timestamp:"timestamp-FzOPmB","track-container":"track-container-Ycx4d5","track-container-dragging":"track-container-dragging-oDgpWK","track-handle":"track-handle-Ko3Wwm",track:"track-AtNL73","track-played":"track-played-VpPIlb","track-drag-time":"track-drag-time-QOxM_w","sr-progress":"sr-progress-gt0aLk"};function u(){let e=(0,i._)([""," with "," remaining"]);return u=function(){return e},e}let p=e=>{let{containerRef:t,currentTime:n,dragTime:i,hideStartingTimestamp:o,remainingTime:p,progress:h,onMouseDown:m}=e,{iString:g,iTemplate:v}=(0,l.M1)();return(0,r.BX)(s.gq,{alignItems:"center",flex:"grow",gap:12,children:[!o&&(0,r.tZ)(d.xv.B5,{className:c.timestamp,color:"vibrance-primary",children:n}),(0,r.BX)("div",{ref:t,className:a()(c["track-container"],i&&c["track-container-dragging"]),onMouseDown:m,role:"slider","aria-label":g("Seek progress"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":100*h,"aria-valuetext":v(u(),n,p),tabIndex:0,children:[(0,r.BX)("div",{className:c["sr-progress"],"aria-hidden":!0,children:[g("Current time"),": ",n," / ",g("Total time"),": ",p]}),(0,r.tZ)("div",{className:c.track}),(0,r.tZ)("div",{className:c["track-played"],style:{width:"".concat(100*h,"%")}}),i&&(0,r.tZ)(d.xv.B5,{className:c["track-drag-time"],style:{left:"".concat(100*h,"%")},"aria-hidden":!0,children:i}),(0,r.tZ)("div",{className:c["track-handle"],style:{left:"".concat(100*h,"%")},"aria-hidden":!0})]}),(0,r.tZ)(d.xv.B5,{className:c.timestamp,color:"vibrance-secondary",children:p})]})}},4158:function(e,t,n){n.d(t,{z:()=>d});var i=n(7409),r=n(16584),o=n(3411),a=n(19081),l=n(60308);let s={backgroundImage:"backgroundImage-Eijlhi",backgroundDarkenRight:"backgroundDarkenRight-DYlB0F"},d=e=>{let{backgroundUrl:t,blurAmount:n,isBlurred:d,palette:c,radius:u="md"}=e,p="none"===u?void 0:u;return(0,r.BX)(r.HY,{children:[t&&(0,r.tZ)(a.hs,{className:s.backgroundImage,inset:0,position:"absolute",radius:p,style:t?{backgroundImage:"url(".concat((0,l.zF4)(t),")")}:void 0}),d?(0,r.tZ)(a.hs,{inset:0,position:"absolute",radius:p,style:(0,i._)({backdropFilter:"blur(".concat(n,"px)"),WebkitBackdropFilter:"blur(".concat(n,"px)"),WebkitFilter:"brightness(0.7)",filter:"brightness(0.7)"},(0,o.mX)({palette:c}))}):(0,r.tZ)(a.hs,{className:s.backgroundDarkenRight,inset:0,position:"absolute",radius:p})]})}},14283:function(e,t,n){n.d(t,{o:()=>v});var i=n(7409),r=n(99282),o=n(16584),a=n(2564),l=n(95441),s=n(68833),d=n(15771),c=n(19081),u=n(58175),p=n(3486),h=n(60308),m=n(47929);let g={header:"header-PjQum5",vibranceIcon:"vibranceIcon-a9wDjU"},v=e=>{let{explicitPodcastUrl:t,isDisabled:n,post:v,postTitle:f,pub:C,section:Z,showTitle:b,showUpgradeButton:w,variant:y}=e,{iString:_}=(0,l.M1)();return(0,o.BX)(c.gq,{className:g.header,flex:"grow",alignItems:"center",alignSelf:"start",gap:"mini"===y||"notes-embed"===y?12:16,opacity:n?20:void 0,pointerEvents:n?"none":void 0,children:[(0,o.tZ)(p.p,{post:v,pub:C,section:Z,size:"mini"===y?32:"notes-embed"===y?48:76,url:t}),(0,o.BX)(c.tu,{minWidth:0,gap:4,flex:"grow",children:["mini"!==y&&(0,o.tZ)(u.xv.B4,{color:"vibrance-secondary",ellipsis:!0,overflow:"hidden",children:b}),(0,o.tZ)(u.xv.B3,(0,r._)((0,i._)({color:"vibrance-primary",ellipsis:!0,overflow:"hidden",weight:"medium"},"mini"===y?{size:14,lineHeight:20}:null),{style:{maxWidth:460},children:f})),w&&"mini"!==y&&"notes-embed"!==y&&(0,o.tZ)(c.gq,{paddingTop:4,children:(0,o.tZ)(d.zx,{"data-testid":"free-podcast-url-cta",href:(0,h.Zs0)(C,{simple:!0,next:"undefined"!=typeof document?document.location.href:"",utm_source:m.b3.showsAudioPlayerHeader,utm_medium:m.lP.web,utm_content:null==v?void 0:v.id}),localNavigation:!1,priority:"primary-mono",size:"sm",onClick:()=>{(0,s.j)(s.FP.LISTEN_AD_FREE_CLICKED,{post_id:null==v?void 0:v.id,section_id:null==Z?void 0:Z.id,source:"audio-player"})},children:_("Listen ad-free")})})]}),"notes-embed"===y&&(0,o.tZ)(a.Z,{className:g.vibranceIcon,size:20})]})}},28797:function(e,t,n){n.d(t,{Z:()=>h});var i=n(7409),r=n(99282),o=n(16584),a=n(30396),l=n(94184),s=n.n(l),d=n(85277),c=n(48083);let u={container:"container-zAxsTa",text:"text-Mt4veX","container-full-screen":"container-full-screen-mK397L","text-full-screen":"text-full-screen-BX6VEN","highlight-word":"highlight-word-YsKp8Q","captions-small":"captions-small-CavdhE","text-small":"text-small-boKa5D"},p=new d.WebVTTParser,h=e=>{var t,n;let{videoEle:l,mediaUpload:d,handle:h,subtitles:m,showCaptions:g,withHighlight:v,size:f="md",captionsStyle:C}=e,[Z,b]=(0,a.eJ)([]),[w,y]=(0,a.eJ)({segment:null,wordIndex:-1}),{segment:_,wordIndex:k}=w,A=(0,c.Z)(l);return((0,a.d4)(()=>{if(l){let e=l.currentTime,t=Z.find(t=>e>=t.start&&e<=t.end),n=null!=t?t:null;if(!v){y({wordIndex:-1,segment:n});return}if(n){let t=-1;for(let i=0;i<n.words.length;i++){let r=n.words[i];if(r){if(e>=r.start&&e<=r.end){t=i;break}if(e<r.start)break;t=i}}y({wordIndex:t,segment:n})}else y({wordIndex:-1,segment:n})}},[l,m,Z.length,A]),(0,a.d4)(()=>{var e,t,n,o;let a=(null!==(n=null==d?void 0:null===(e=d.transcription)||void 0===e?void 0:e.signed_captions)&&void 0!==n?n:[]).find(e=>e.language===m);(null==a?void 0:a.original)?(null==d?void 0:null===(t=d.transcription)||void 0===t?void 0:t.cdn_url)&&fetch(null==d?void 0:null===(o=d.transcription)||void 0===o?void 0:o.cdn_url).then(e=>e.json()).then(e=>{b(e.map(e=>(0,r._)((0,i._)({},e),{words:e.words?e.words:[]})))}).catch(e=>console.error("Error fetching transcription:",e)):(null==a?void 0:a.url)&&fetch(a.url).then(e=>e.text()).then(e=>{b(p.parse(e,"metadata").cues.map(e=>({text:e.text,start:e.startTime,end:e.endTime,words:[]})))}).catch(e=>console.error("Error fetching transcription:",e))},[d,m,g]),g&&Z.length)?_?(0,o.tZ)("div",{className:s()(u.container,{[u["container-full-screen"]]:h.active,[u["captions-small"]]:"sm"===f}),style:C,children:_&&(0,o.tZ)("div",{className:s()(u.text,{[u["text-full-screen"]]:h.active,[u["text-small"]]:"sm"===f}),children:(null==_?void 0:null===(t=_.words)||void 0===t?void 0:t.length)?(0,o.tZ)("div",{children:null==_?void 0:_.words.map((e,t)=>(0,o.tZ)("span",{className:s()({[u["highlight-word"]]:t<=k&&v||!v}),children:e.word.startsWith(" ")?e.word:" ".concat(e.word)},t))}):(0,o.tZ)("span",{className:u["highlight-word"],children:function(e){var t;let n=e.match(/<v [^>]+>(.*?)(<\/v>|$)/);return n?null===(t=n[1])||void 0===t?void 0:t.replace(/<\/v>$/,""):""}(null!==(n=null==_?void 0:_.text)&&void 0!==n?n:"")})})}):null:null}},49233:function(e,t,n){n.d(t,{Z:()=>g});var i=n(16584),r=n(30396),o=n(7409),a=n(99282),l=n(64515);let s=e=>(0,i.tZ)(l.l,(0,a._)((0,o._)({name:"ClosedCaptionsFilledIcon",svgParams:{height:16,width:20,stroke:"#808080"}},e),{children:(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2.51429C0 1.12568 1.14532 0 2.55814 0H17.4419C18.8547 0 20 1.12568 20 2.51429V13.4857C20 14.8743 18.8547 16 17.4419 16H2.55814C1.14532 16 0 14.8743 0 13.4857V2.51429ZM12.6776 7.9987V8.60503C12.6776 8.91696 12.7142 9.17954 12.7874 9.3928C12.8638 9.60605 12.972 9.76837 13.1121 9.87977C13.2553 9.98799 13.4272 10.0421 13.6277 10.0421C13.8251 10.0421 13.9906 9.99436 14.1242 9.89887C14.2579 9.8002 14.3582 9.66811 14.425 9.5026C14.4919 9.3371 14.5253 9.1509 14.5253 8.94401H16.4207V9.09201V9.23524C16.4207 9.7254 16.2997 10.1535 16.0578 10.5195C15.8191 10.8824 15.4881 11.1641 15.0648 11.3646C14.6415 11.5651 14.1561 11.6654 13.6086 11.6654C12.9657 11.6654 12.4214 11.538 11.9758 11.2834C11.5334 11.0288 11.1976 10.6723 10.9684 10.214C10.7393 9.75246 10.6247 9.21137 10.6247 8.59071V8.00347C10.6247 7.37963 10.7393 6.83854 10.9684 6.38021C11.1976 5.92188 11.5334 5.56699 11.9758 5.31554C12.4214 5.06091 12.9657 4.93359 13.6086 4.93359C14.0192 4.93359 14.3964 4.99089 14.7401 5.10547C15.0839 5.21687 15.3799 5.3792 15.6281 5.59245C15.8796 5.8057 16.0737 6.06192 16.2106 6.36111C16.3507 6.6603 16.4207 6.99609 16.4207 7.36849V7.51172V7.65017H14.5253C14.5253 7.44329 14.4919 7.25709 14.425 7.09158C14.3582 6.92607 14.2579 6.79557 14.1242 6.70009C13.9906 6.6046 13.8251 6.55686 13.6277 6.55686C13.4272 6.55686 13.2553 6.61256 13.1121 6.72396C12.972 6.83218 12.8638 6.99291 12.7874 7.20616C12.7142 7.41942 12.6776 7.68359 12.6776 7.9987ZM6.23177 8.60503V7.9987C6.23177 7.68359 6.26837 7.41942 6.34158 7.20616C6.41797 6.99291 6.52619 6.83218 6.66623 6.72396C6.80946 6.61256 6.98134 6.55686 7.18186 6.55686C7.3792 6.55686 7.5447 6.6046 7.67839 6.70009C7.81207 6.79557 7.91233 6.92607 7.97917 7.09158C8.04601 7.25709 8.07943 7.44329 8.07943 7.65017H9.97483V7.51172V7.36849C9.97483 6.99609 9.9048 6.6603 9.76476 6.36111C9.62789 6.06192 9.43374 5.8057 9.18229 5.59245C8.93403 5.3792 8.63802 5.21687 8.29427 5.10547C7.95052 4.99089 7.57335 4.93359 7.16276 4.93359C6.51982 4.93359 5.97555 5.06091 5.52995 5.31554C5.08753 5.56699 4.75174 5.92188 4.52257 6.38021C4.2934 6.83854 4.17882 7.37963 4.17882 8.00347V8.59071C4.17882 9.21137 4.2934 9.75246 4.52257 10.214C4.75174 10.6723 5.08753 11.0288 5.52995 11.2834C5.97555 11.538 6.51982 11.6654 7.16276 11.6654C7.71021 11.6654 8.1956 11.5651 8.61892 11.3646C9.04225 11.1641 9.37326 10.8824 9.61198 10.5195C9.85388 10.1535 9.97483 9.7254 9.97483 9.23524V9.09201V8.94401H8.07943C8.07943 9.1509 8.04601 9.3371 7.97917 9.5026C7.91233 9.66811 7.81207 9.8002 7.67839 9.89887C7.5447 9.99436 7.3792 10.0421 7.18186 10.0421C6.98134 10.0421 6.80946 9.98799 6.66623 9.87977C6.52619 9.76837 6.41797 9.60605 6.34158 9.3928C6.26837 9.17954 6.23177 8.91696 6.23177 8.60503Z",fill:"white",strokeWidth:.25})})),d=e=>(0,i.BX)(l.l,(0,a._)((0,o._)({name:"ClosedCaptionsIcon",svgParams:{height:16,width:20,stroke:"#808080"}},e),{children:[(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2.51429C0 1.12568 1.14532 0 2.55814 0H17.4419C18.8547 0 20 1.12568 20 2.51429V13.4857C20 14.8743 18.8547 16 17.4419 16H2.55814C1.14532 16 0 14.8743 0 13.4857V2.51429ZM2.55814 1.37143C1.91595 1.37143 1.39535 1.8831 1.39535 2.51429V13.4857C1.39535 14.1169 1.91595 14.6286 2.55814 14.6286H17.4419C18.0841 14.6286 18.6047 14.1169 18.6047 13.4857V2.51429C18.6047 1.8831 18.0841 1.37143 17.4419 1.37143H2.55814Z",fill:"white",strokeWidth:"0.25"}),(0,i.tZ)("path",{d:"M12.1858 7.94143V8.6719C12.1858 9.03793 12.2336 9.34826 12.329 9.60289C12.4277 9.85752 12.5694 10.0501 12.754 10.1806C12.9418 10.3111 13.1661 10.3763 13.4271 10.3763C13.6563 10.3763 13.8536 10.3286 14.0192 10.2331C14.1878 10.1344 14.3183 10.0008 14.4106 9.83206C14.5029 9.66337 14.5555 9.4708 14.5682 9.25437H16.0626C16.0626 9.2862 16.0626 9.31802 16.0626 9.34985C16.0626 9.38168 16.0626 9.41192 16.0626 9.44057C16.053 9.88617 15.9321 10.2777 15.6997 10.615C15.4705 10.9492 15.1586 11.2102 14.7639 11.398C14.3693 11.5826 13.9205 11.6749 13.4176 11.6749C12.8097 11.6749 12.294 11.5524 11.8707 11.3073C11.4506 11.0622 11.1307 10.7153 10.9111 10.2665C10.6946 9.81774 10.5864 9.2846 10.5864 8.66713V7.94143C10.5864 7.32077 10.6962 6.78605 10.9159 6.33727C11.1355 5.8853 11.4553 5.53677 11.8755 5.29169C12.2988 5.04661 12.8128 4.92407 13.4176 4.92407C13.7964 4.92407 14.1449 4.97818 14.4632 5.0864C14.7814 5.19143 15.0584 5.34421 15.2939 5.54473C15.5294 5.74525 15.714 5.98556 15.8477 6.26565C15.9846 6.54256 16.0562 6.85289 16.0626 7.19664C16.0626 7.22847 16.0626 7.2603 16.0626 7.29213C16.0626 7.32077 16.0626 7.34942 16.0626 7.37807H14.5682C14.5555 7.15526 14.5014 6.95633 14.4059 6.78128C14.3136 6.60622 14.1847 6.46936 14.0192 6.37069C13.8536 6.26883 13.6563 6.21791 13.4271 6.21791C13.1661 6.21791 12.9433 6.28634 12.7587 6.4232C12.5741 6.55688 12.4325 6.75104 12.3338 7.00567C12.2352 7.2603 12.1858 7.57222 12.1858 7.94143Z",fill:"white",strokeWidth:"0.25"}),(0,i.tZ)("path",{d:"M5.87381 7.94143V8.6719C5.87381 9.03793 5.92155 9.34826 6.01704 9.60289C6.1157 9.85752 6.25734 10.0501 6.44195 10.1806C6.62974 10.3111 6.85413 10.3763 7.11513 10.3763C7.34429 10.3763 7.54163 10.3286 7.70714 10.2331C7.87583 10.1344 8.00633 10.0008 8.09863 9.83206C8.19094 9.66337 8.24345 9.4708 8.25618 9.25437H9.75054C9.75054 9.2862 9.75054 9.31802 9.75054 9.34985C9.75054 9.38168 9.75054 9.41192 9.75054 9.44057C9.74099 9.88617 9.62004 10.2777 9.3877 10.615C9.15853 10.9492 8.84661 11.2102 8.45193 11.398C8.05726 11.5826 7.60847 11.6749 7.10558 11.6749C6.49765 11.6749 5.98202 11.5524 5.5587 11.3073C5.13856 11.0622 4.81868 10.7153 4.59907 10.2665C4.38263 9.81774 4.27441 9.2846 4.27441 8.66713V7.94143C4.27441 7.32077 4.38422 6.78605 4.60384 6.33727C4.82346 5.8853 5.14334 5.53677 5.56348 5.29169C5.9868 5.04661 6.50083 4.92407 7.10558 4.92407C7.48434 4.92407 7.83286 4.97818 8.15115 5.0864C8.46944 5.19143 8.74635 5.34421 8.98188 5.54473C9.21741 5.74525 9.40202 5.98556 9.5357 6.26565C9.67256 6.54256 9.74418 6.85289 9.75054 7.19664C9.75054 7.22847 9.75054 7.2603 9.75054 7.29213C9.75054 7.32077 9.75054 7.34942 9.75054 7.37807H8.25618C8.24345 7.15526 8.18934 6.95633 8.09386 6.78128C8.00156 6.60622 7.87265 6.46936 7.70714 6.37069C7.54163 6.26883 7.34429 6.21791 7.11513 6.21791C6.85413 6.21791 6.63133 6.28634 6.44672 6.4232C6.26212 6.55688 6.12048 6.75104 6.02181 7.00567C5.92314 7.2603 5.87381 7.57222 5.87381 7.94143Z",fill:"white",strokeWidth:"0.25"})]}));var c=n(95441),u=n(84370),p=n(87077),h=n(74571),m=n(63722);let g=e=>{let{showCaptions:t,setShowCaptions:n,isFocused:o,disabled:a,disableShortcuts:l,disableTooltips:g=!1}=e,{iString:v}=(0,c.M1)(),f=e=>{n({showCaptions:e,userInitiated:!0}),e?localStorage.setItem("video_player:show_captions","true"):localStorage.removeItem("video_player:show_captions")};return(0,r.d4)(()=>{let e="true"===localStorage.getItem("video_player:show_captions");t!==e&&n({showCaptions:e,userInitiated:!1})},[]),(0,h.Kr)("c",()=>f(!t),o&&!l),(0,i.tZ)(p.u,{disabled:g,text:v("Closed captions / subtitles"),trailing:l?void 0:(0,i.tZ)(u.T,{children:"C"}),children:(0,i.tZ)(m.Z,{onClick:()=>f(!t),disabled:a,children:t?(0,i.tZ)(s,{}):(0,i.tZ)(d,{})})})}},90630:function(e,t,n){n.d(t,{Z:()=>c});var i=n(16584),r=n(27299),o=n(83502),a=n(84370),l=n(87077),s=n(74571),d=n(63722);let c=e=>{let{disableShortcuts:t=!1,disableTooltips:n=!1,handle:c,isFocused:u}=e,p=()=>{c.active?c.exit():c.enter()};return(0,s.Kr)("f",p,u&&!t),(0,i.tZ)(l.u,{disabled:n,text:c.active?"Exit full screen":"Full screen",trailing:t?void 0:(0,i.tZ)(a.T,{children:"F"}),children:(0,i.tZ)(d.Z,{onClick:p,children:c.active?(0,i.tZ)(r.Z,{size:18}):(0,i.tZ)(o.Z,{size:18})})})}},63587:function(e,t,n){n.d(t,{Z:()=>b});var i=n(16584),r=n(30396),o=n(2564),a=n(33979),l=n(80569),s=n.n(l),d=n(20888),c=n(68833),u=n(98914),p=n(33870),h=n(71068),m=n(19081),g=n(58175),v=n(74571),f=n(63722),C=n(84864);let Z={fullWidth:"fullWidth-KNhzK0",container:"container-djeVTw","thumbnail-duration":"thumbnail-duration-CaP985",space:"space-NQlvsK"},b=e=>{var t,n,l,b;let{pub:w,postId:y,isFocused:_,disableShortcuts:k=!1}=e,[A,E]=(0,r.eJ)(!1),[x,T]=(0,r.eJ)(null),I=e=>{if(!x||!w)return;(0,c.j)(c.FP.VIDEO_NEXT_VIDEO_BUTTON_CLICKED,{postId:x.id,pubId:w.id});let t=(0,p.zV)({linkToComments:!1,post:x,pub:w,utm:"next-episode"});(0,u.uX)(t,{event:e})};(0,r.d4)(()=>{(async()=>{var e,t,n;let i=await s().get("/api/v1/recent_posts").query({episodes_only:!0}),r=(null!==(t=i.body)&&void 0!==t?t:[]).findIndex(e=>e.id===y);T(null!==(n=null===(e=i.body)||void 0===e?void 0:e[r+1])&&void 0!==n?n:void 0)})()},[]),(0,v.Kr)("shift+n",()=>I(),_&&!k);let B=(null==x?void 0:x.cover_image)||(null==x?void 0:x.podcast_episode_image_url);return(0,i.BX)("div",{style:{position:"relative"},onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:[A&&B&&(0,i.BX)(m.tu,{position:"absolute",className:Z.container,children:[(0,i.BX)(m.tu,{bg:"glass-inverted-medium",radius:"sm",style:{cursor:"pointer"},paddingY:8,paddingX:12,gap:4,onClick:I,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:[(0,i.BX)(m.gq,{gap:16,children:[(0,i.BX)(m.tu,{gap:2,flex:"grow",children:[(0,i.tZ)(g.xv.Meta,{color:"white",opacity:80,children:"Next Up"}),(0,i.tZ)(g.xv.B4,{color:"white",children:x.title})]}),(0,i.tZ)(m.gq,{alignItems:"center",children:(0,i.tZ)(o.Z,{color:"white",size:24})})]}),(0,i.BX)("div",{style:{position:"relative"},children:[(0,i.tZ)(d.e,{className:Z.fullWidth,src:B,alt:x.title,maxWidth:200,imageProps:{height:112.5,smartCrop:!0},radius:"sm"}),(0,i.tZ)(m.gq,{className:Z["thumbnail-duration"],bg:"glass-inverted-medium",position:"absolute",radius:"sm",children:(0,i.tZ)(g.xv.Meta,{color:"white",lineHeight:20,children:(0,C.secondsToHHMMSS)(null!==(b=null!==(l=null===(t=x.videoUpload)||void 0===t?void 0:t.duration)&&void 0!==l?l:null===(n=x.podcastUpload)||void 0===n?void 0:n.duration)&&void 0!==b?b:0)})})]})]}),(0,i.tZ)(h.xu,{className:Z.space})]}),(0,i.tZ)(f.Z,{disabled:!x,children:(0,i.tZ)(a.Z,{size:18,fill:"white",onClick:I})})]})}},32782:function(e,t,n){n.d(t,{Z:()=>c});var i=n(16584),r=n(30396),o=n(37474),a=n(84370),l=n(87077),s=n(74571),d=n(63722);let c=e=>{let{disableShortcuts:t,disableTooltips:n,isFocused:c,mediaRef:u}=e,[p,h]=(0,r.eJ)(!1),m=async()=>{if(u.current)try{document.pictureInPictureElement?await document.exitPictureInPicture():u.current.player&&"requestPictureInPicture"in u.current.player&&await u.current.player.requestPictureInPicture()}catch(e){console.error("Failed to toggle PiP mode:",e)}};return(0,r.d4)(()=>{let e=()=>h(!0),t=()=>h(!1);if(u.current){var n,i;null===(n=u.current.player)||void 0===n||n.addEventListener("enterpictureinpicture",e),null===(i=u.current.player)||void 0===i||i.addEventListener("leavepictureinpicture",t)}return()=>{if(u.current){var n,i;null===(n=u.current.player)||void 0===n||n.removeEventListener("enterpictureinpicture",e),null===(i=u.current.player)||void 0===i||i.removeEventListener("leavepictureinpicture",t)}}},[u]),(0,s.Kr)("i",m,c&&!t),(0,i.tZ)(l.u,{disabled:n,text:"Picture-in-picture",trailing:t?void 0:(0,i.tZ)(a.T,{children:"I"}),children:(0,i.tZ)(d.Z,{onClick:m,children:(0,i.tZ)(o.Z,{size:18})})})}},76671:function(e,t,n){n.d(t,{Z:()=>u});var i=n(16584),r=n(44276),o=n(77475),a=n(53030),l=n(84370),s=n(87077),d=n(74571),c=n(63722);let u=e=>{let{mediaRef:t,isFocused:n,disableShortcuts:u,disableTooltips:p=!1}=e,h=(0,a.On)(t),m=()=>{var e,n;return null===(n=t.current)||void 0===n?void 0:null===(e=n.player)||void 0===e?void 0:e.play()},g=()=>{var e,n;return null===(n=t.current)||void 0===n?void 0:null===(e=n.player)||void 0===e?void 0:e.pause()},v=()=>h?g():m();return(0,d.Kr)("k",v,n&&!u),(0,d.Kr)(" ",v,n&&!u),(0,i.tZ)(s.u,{disabled:p,text:h?"Pause":"Play",trailing:u?void 0:(0,i.tZ)(l.T,{children:"K"}),children:(0,i.tZ)(c.Z,{onClick:v,children:h?(0,i.tZ)(r.Z,{fill:"white",size:18}):(0,i.tZ)(o.Z,{fill:"white",size:18})})})}},63722:function(e,t,n){n.d(t,{Z:()=>c});var i=n(7409),r=n(99282),o=n(98848),a=n(16584),l=n(94184),s=n.n(l),d=n(15771);let c=e=>{var{children:t,className:n}=e,l=(0,o._)(e,["children","className"]);return(0,a.tZ)(d.kG,(0,r._)((0,i._)({resetCss:!0,className:s()("playerButton-qCsqQJ",n)},l),{children:t}))}},84945:function(e,t,n){n.d(t,{L:()=>c,Z:()=>u});var i=n(16584),r=n(30396),o=n(19081),a=n(58175),l=n(43905);let s=e=>{let{startTime:t,mediaRef:n}=e,[o,s]=(0,r.eJ)(0);return(0,r.d4)(()=>{let e;let t=()=>{var i;(null===(i=n.current)||void 0===i?void 0:i.player)&&(s(n.current.player.currentTime),e=requestAnimationFrame(t))};return n.current&&(e=requestAnimationFrame(t)),()=>{cancelAnimationFrame(e)}},[n]),(0,i.tZ)(a.xv.Digit,{size:14,color:"white",children:t?o-t<0?null:(0,l.mr)(o-t):(0,l.mr)(o)})},d=e=>{var t;let{duration:n,mediaRef:o}=e,s=null==o?void 0:null===(t=o.current)||void 0===t?void 0:t.player,[d,c]=(0,r.eJ)(null!=n?n:(null==s?void 0:s.duration)?s.duration:0);return(0,r.d4)(()=>{let e=()=>{var e;(null==o?void 0:null===(e=o.current)||void 0===e?void 0:e.player)&&!isNaN(o.current.player.duration)&&c(o.current.player.duration)};if(null==o?void 0:o.current){var t,n;null===(n=o.current)||void 0===n||null===(t=n.player)||void 0===t||t.addEventListener("durationchange",e)}return e(),()=>{if(null==o?void 0:o.current){var t,n;null===(n=o.current)||void 0===n||null===(t=n.player)||void 0===t||t.removeEventListener("durationchange",e)}}},[s]),(0,i.tZ)(a.xv.Digit,{size:14,color:"white",children:(0,l.mr)(d)})},c=e=>{let{startTime:t,duration:n,mediaRef:r}=e;return(0,i.BX)(o.gq,{justifyContent:"center",alignItems:"center",gap:4,children:[(0,i.tZ)(s,{mediaRef:r,startTime:t}),(0,i.tZ)(a.xv.Digit,{size:14,color:"white",children:"/"}),(0,i.tZ)(d,{duration:n})]})},u=e=>{let{duration:t,mediaRef:n}=e;return(0,i.BX)(o.gq,{justifyContent:"center",alignItems:"center",gap:4,children:[(0,i.tZ)(s,{startTime:null,mediaRef:n}),(0,i.tZ)(a.xv.Digit,{size:14,color:"white",children:"/"}),(0,i.tZ)(d,{duration:t,mediaRef:n})]})}},68260:function(e,t,n){n.d(t,{Z:()=>s});var i=n(16584),r=n(2647),o=n(95441),a=n(87077),l=n(63722);let s=e=>{let{disableTooltips:t=!1,isSettingsOpen:n,setIsSettingsOpen:s}=e,{iString:d}=(0,o.M1)();return n?(0,i.tZ)(l.Z,{children:(0,i.tZ)(r.Z,{size:18,onClick:()=>s(!n)})}):(0,i.tZ)(a.u,{disabled:t,text:d("Settings"),children:(0,i.tZ)(l.Z,{children:(0,i.tZ)(r.Z,{size:18,onClick:()=>s(!n)})})})}},30730:function(e,t,n){n.d(t,{Z:()=>E});var i=n(7409),r=n(16584),o=n(6400),a=n(30396),l=n(94184),s=n.n(l),d=n(25380),c=n(53961),u=n(48619),p=n(31131),h=n(48083),m=n(14068),g=n(75697),v=n(95441),f=n(68833),C=n(19081),Z=n(58175),b=n(40949);let w={seetingsMenu:"seetingsMenu-zc8kI3",menuItem:"menuItem-Z86vY3"},y=e=>{let{mediaRef:t,dismiss:n}=e,i=e=>{var i;(null===(i=t.current)||void 0===i?void 0:i.player)&&(t.current.player.playbackRate=e,localStorage.setItem("video_player:playbackRate",e.toString())),n()};return(0,r.tZ)(C.tu,{gap:4,flex:"grow",children:[.25,.5,.75,1,1.25,1.5,1.75,2].map(e=>{var n,o;return(0,r.BX)(C.gq,{className:w.menuItem,padding:8,justifyContent:"space-between",alignItems:"center",onClick:()=>i(e),children:[(0,r.BX)(Z.xv.B4,{font:"text",size:12,lineHeight:16,weight:"regular",color:"white",children:[e,"\xd7"]}),e===(null===(o=t.current)||void 0===o?void 0:null===(n=o.player)||void 0===n?void 0:n.playbackRate)&&(0,r.tZ)(d.Z,{size:16,color:"white"})]})})})},_={en:"English",es:"Spanish",it:"Italian",de:"German",pt:"Portuguese",fr:"French"},k=e=>{let{options:t=[],subtitles:n,setSubtitles:i,dismiss:o}=e,a=e=>{i(e),localStorage.setItem("video_player:subtitles",e||""),o()};return(0,r.tZ)(C.tu,{gap:4,flex:"grow",children:[null,...t].map(e=>{var t;return(0,r.BX)(C.gq,{className:w.menuItem,paddingY:8,paddingX:16,justifyContent:"space-between",alignItems:"center",onClick:()=>a(e),children:[(0,r.tZ)(Z.xv.B4,{font:"text",size:12,lineHeight:16,weight:"regular",color:"white",children:null!==(t=_[null!=e?e:""])&&void 0!==t?t:"None"}),n===e&&(0,r.tZ)(d.Z,{size:16,color:"white"})]})})})},A=e=>{let{title:t,icon:n,selection:i,onClick:o}=e;return(0,r.BX)(C.gq,{className:w.menuItem,padding:8,justifyContent:"space-between",alignItems:"center",onClick:o,children:[(0,r.BX)(C.gq,{gap:8,alignItems:"center",children:[n,(0,r.tZ)(Z.xv.B4,{color:"white",font:"text",size:12,lineHeight:16,weight:"regular",children:t})]}),(0,r.tZ)(C.gq,{children:(0,r.tZ)(Z.xv.B4,{color:"white",font:"text",size:12,lineHeight:16,weight:"regular",children:i})})]})},E=e=>{var t,n,l;let{hideSharePostAtCurrentTime:d,mediaRef:Z,post:E,pub:x,podcastUpload:T,subtitles:I,setSubtitles:B,setIsSettingsOpen:L}=e,{iString:S}=(0,v.M1)(),[M,P]=(0,a.eJ)(!1),[N,D]=(0,a.eJ)(!1),R=(0,o.createRef)(),O=(0,h.Z)(null===(t=Z.current)||void 0===t?void 0:t.player),X=(0,b.y)(),[j,z]=(0,a.eJ)([]);return(0,a.d4)(()=>{B(localStorage.getItem("video_player:subtitles")||null)},[]),(0,a.d4)(()=>{var e,t;if(null==T?void 0:null===(e=T.transcription)||void 0===e?void 0:e.signed_captions){let e=(null!==(t=T.transcription.signed_captions)&&void 0!==t?t:[]).map(e=>e.language);z(e),I&&!e.includes(I)&&B(null)}},[T,I]),(0,a.d4)(()=>{var e,t;let n=parseFloat(localStorage.getItem("video_player:playbackRate")||"1"),i=()=>{var e;(null===(e=Z.current)||void 0===e?void 0:e.player)&&(Z.current.player.playbackRate=n)};return(null===(e=Z.current)||void 0===e?void 0:e.player)&&(null===(t=Z.current.player)||void 0===t||t.addEventListener("loadedmetadata",i)),()=>{if(Z.current){var e;null===(e=Z.current.player)||void 0===e||e.removeEventListener("loadedmetadata",i)}}},[Z]),(0,m.Z)(R,()=>{P(!1),D(!1),L(!1)}),(0,r.BX)(C.tu,{paddingY:8,ref:R,gap:4,flex:"grow",className:s()(w.seetingsMenu,{[w.slideOut]:M}),children:[M&&(0,r.tZ)(y,{mediaRef:Z,dismiss:()=>P(!1)}),N&&(0,r.tZ)(k,{options:j,subtitles:I,setSubtitles:B,dismiss:()=>D(!1)}),!M&&!N&&(0,r.BX)(C.tu,{gap:4,flex:"grow",children:[(0,r.tZ)(A,{title:S("Playback speed"),icon:(0,r.tZ)(c.Z,{size:16,color:"white"}),onClick:()=>P(!0),selection:(0,r.BX)(r.HY,{children:[null===(l=Z.current)||void 0===l?void 0:null===(n=l.player)||void 0===n?void 0:n.playbackRate,"\xd7"]})}),j.length>0&&(0,r.tZ)(A,{title:S("Subtitles"),icon:(0,r.tZ)(u.Z,{size:16,color:"white"}),onClick:()=>D(!0),selection:_[null!=I?I:""]}),E&&x&&(0,r.BX)(o.Fragment,{children:[(0,r.tZ)(A,{title:S("Share post"),icon:(0,r.tZ)(p.Z,{size:16,color:"white"}),onClick:()=>{E&&x&&(X((0,g.O1)(null,{post:E,pub:x,useCustomDomainOverOpen:!0})),(0,f.j)(f.FP.SHARE_LINK_CLICKED,{name:"copy",source:"player",post_id:E.id}))}}),!d&&(0,r.tZ)(A,{title:S("Share post at current time"),icon:(0,r.tZ)(p.Z,{size:16,color:"white"}),onClick:()=>{if(!E||!x)return;let e=O?{timestamp:O.toFixed(1)}:{};X((0,g.O1)(null,{post:E,pub:x,useCustomDomainOverOpen:!0,params:e})),(0,f.j)(f.FP.SHARE_LINK_CLICKED,(0,i._)({name:"copy",source:"player",post_id:E.id},e))}})]})]})]})}},27420:function(e,t,n){n.d(t,{T:()=>V});var i=n(16584),r=n(30396),o=n(94184),a=n.n(o),l=n(74691),s=n.n(l),d=n(31131),c=n(61649),u=n(95441),p=n(53030),h=n(68833),m=n(19081),g=n(58175),v=n(74571),f=n(43905);let C=()=>{let e=new URL(window.location.href);e.searchParams.delete("t"),e.searchParams.delete("d"),window.history.replaceState({},"",e.toString())},Z=()=>{if("undefined"==typeof window)return null;let e=new URLSearchParams(window.location.search),t=e.get("t"),n=e.get("d");if(!t||!n)return null;let i=parseInt(t),r=parseInt(n);return isNaN(i)||isNaN(r)?(C(),null):{start:i,end:i+s()(r,c.AT,c.ar)}},b=()=>{let[e]=(0,r.eJ)(Z());return{clipTimes:e}};var w=n(40423),y=n(93370);let _=e=>{let{clipDuration:t,isMinimized:n,onClick:r}=e;return n?(0,i.tZ)(k,{onClick:r}):(0,i.BX)(m.gq,{alignItems:"center",bg:"glass-inverted-thick",gap:6,padding:6,paddingRight:8,radius:"full",onMouseDown:e=>e.stopPropagation(),onClick:e=>{e.stopPropagation(),r()},children:[(0,i.tZ)("div",{className:"iconContainer-RgovDu",children:(0,i.tZ)(w.Z,{size:12,color:"white"})}),(0,i.tZ)(g.xv.Meta,{color:"white",children:(0,y.DL)(t)})]})},k=e=>{let{onClick:t}=e;return(0,i.tZ)("div",{className:"iconContainerMarker-qBRnT3",onMouseDown:e=>e.stopPropagation(),onClick:e=>{e.stopPropagation(),t()},children:(0,i.tZ)(w.Z,{size:12,color:"white"})})};var A=n(7409),E=n(39693),x=n.n(E),T=n(71212),I=n(42042),B=n(67203),L=n(75697),S=n(15771),M=n(61254),P=n(84747),N=n(43681),D=n(33884);function R(e){var t,n,o,a;let{duration:l,pub:s,post:d,trigger:p,timestamp:m,onShareMenuOpen:g,onShareMenuClose:v,size:f}=e,[C,Z]=(0,r.eJ)(m),{onStartClipping:b}=(0,c.Sr)(),w=C&&l,y=w?{t:C.toFixed(1),d:l.toFixed(1)}:C?{timestamp:C.toFixed(1)}:{};(0,r.d4)(()=>{Z(m)},[m]);let _=(0,L.O1)(null,{post:d,pub:null!=s?s:void 0,useCustomDomainOverOpen:!0,params:y}),{iString:k}=(0,u.M1)(),E={variant:"menu",url:_,onLinkClicked:e=>{(0,h.j)(h.FP.SHARE_LINK_CLICKED,(0,A._)({is_clip:w,type:e,post_id:null==d?void 0:d.id},y)),(0,h.j)(h.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"share_to_".concat(e),source:"playback timeline"})}},I=(0,N.LM)(E),S=(0,N.gY)(E),D=(0,N.oy)(E),R=(0,N.Wh)(E),X=O(E),j=x()([R,"sm"!==f?(0,i.tZ)(P.u,{leading:(0,i.tZ)(T.Z,{}),onClick:()=>{(0,h.j)(h.FP.SHARE_LINK_CLICKED,(0,A._)({is_clip:w,type:"download_clip",post_id:null==d?void 0:d.id},y)),(0,h.j)(h.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"create",source:"playback timeline"}),b({source:"video-timeline",title:null})},children:k("Download clip")}):null,(0,i.tZ)(B.O0,{url:E.url,onShare:()=>{var e;null===(e=E.onLinkClicked)||void 0===e||e.call(E,"chat")}}),(0,i.tZ)(M.iz,{paddingX:8}),X,I,S,D]);return(0,i.BX)(P.M,{trigger:p,title:k("Share"),maxHeight:350,layerOptions:{placement:"top-center"},onOpen:g,onClose:v,children:[j,!w&&(0,i.BX)(i.HY,{children:[(0,i.tZ)(M.iz,{}),(0,i.tZ)(B.YY,{initialTime:null!=C?C:0,onChange:Z,maxTime:null!==(a=null!==(o=null==d?void 0:null===(t=d.videoUpload)||void 0===t?void 0:t.duration)&&void 0!==o?o:null==d?void 0:null===(n=d.podcastUpload)||void 0===n?void 0:n.duration)&&void 0!==a?a:null})]})]})}let O=e=>{let{variant:t,url:n,onLinkClicked:r}=e,{iString:o}=(0,u.M1)(),a=()=>{window.open((0,D.TK)({message:null!=n?n:""}),"_blank"),null==r||r("notes")};return"icon"===t?(0,i.tZ)(S.hU,{onClick:a,children:(0,i.tZ)(I.Z,{})}):(0,i.tZ)(P.u,{leading:(0,i.tZ)(I.Z,{}),onClick:a,children:o("Share to Notes")})};var X=n(40297);let j={timelineThumbnail:"timelineThumbnail-sJc0Xj",timelineThumbnailSmall:"timelineThumbnailSmall-FCvVQ9"},z=e=>{var t;let{children:n,showTooltip:r,size:o,setIsHovering:l,storyboard:s,videoTime:d}=e,c="sm"===o?75:100,u=null!==(t=null==s?void 0:s.tiles)&&void 0!==t?t:[],p=u.length?(0,X.wb)(u,d):null;return(0,i.BX)(m.tu,{bg:r?"glass-inverted-medium":void 0,radius:"sm"===o?"xs":"sm",padding:8*("sm"!==o),gap:4,opacity:100*!!r,children:[(0,i.tZ)(m.gq,{justifyContent:"center",alignItems:"center",onMouseEnter:()=>l(!1),children:(0,i.tZ)("div",{style:{position:"relative"},children:s&&p&&(0,i.tZ)(X.RF,{storyboard:s,imageUrl:s.url,displayHeight:c,displayWidth:s.tile_width/s.tile_height*c,x:p.x,y:p.y,className:a()(j.timelineThumbnail,{[j.timelineThumbnailSmall]:"sm"===o})})})}),n]})},U={container:"container-S0aAZ3",track:"track-FYojQC",trackClippedPlayed:"trackClippedPlayed-cnYlGh",trackClippedUnplayed:"trackClippedUnplayed-km4zul",trackFilled:"trackFilled-gbOxAX",trackExpanded:"trackExpanded-_EdObk"},H=e=>{let{clipTimes:t,duration:n,isHovering:o,isPlayingClippedSegment:l,post:s,pub:c,progress:p,setIsHovering:v,storyboard:f,onClickBubble:C,onPause:Z,onShareMenuOpen:b,onShareMenuClose:w}=e,{iString:y}=(0,u.M1)(),[k,A]=(0,r.eJ)(!1),[E,x]=(0,r.eJ)(!0),T=!l&&p>t.start/n*100,I=!l&&p>t.end/n*100;return(0,r.d4)(()=>{(0,h.j)(h.FP.MEDIA_CLIP_SEEN,{start_time:t.start,duration:t.end-t.start})},[t.end,t.start]),(0,i.BX)("div",{className:U.container,children:[(0,i.tZ)("div",{className:a()(U.track,U.trackUnclipped,{[U.trackFilled]:T,[U.trackExpanded]:T&&o}),style:{left:0,width:"calc(".concat(t.start/n*100,"% - 2px)")}}),(0,i.tZ)("div",{className:a()(U.track,{[U.trackClippedUnplayed]:l,[U.trackFilled]:I,[U.trackExpanded]:I&&o}),style:{left:"".concat(t.start/n*100,"%"),width:"".concat((t.end-t.start)/n*100,"%")}}),(0,i.tZ)("div",{className:a()(U.track),style:{right:0,width:"calc(".concat((1-t.end/n)*100,"% - 2px)")}}),l?(0,i.tZ)("div",{className:a()(U.track,U.trackClippedPlayed,{[U.trackExpanded]:o}),style:{left:"".concat(t.start/n*100,"%"),width:"".concat(p-t.start/n*100,"%")}}):p<t.start/n*100?(0,i.tZ)("div",{className:a()(U.track,U.trackFilled,{[U.trackExpanded]:o}),style:{left:0,width:"".concat(p,"%")}}):(0,i.tZ)("div",{className:a()(U.track,U.trackFilled,{[U.trackExpanded]:o}),style:{left:"calc(".concat(t.end/n*100,"% + 2px)"),width:"calc(".concat(p-t.end/n*100,"% - 2px)")}}),(0,i.BX)(m.tu,{alignItems:"center",position:"absolute",gap:8,style:{bottom:16,left:l?"".concat(Math.max(t.start/n*100,3.5),"%"):"".concat(Math.max(.5*(t.start+t.end)/n*100,1.5),"%"),transform:"translateX(-50%)"},onMouseEnter:()=>{A(!0)},onMouseLeave:()=>{E&&(x(!0),A(!1))},children:[k&&(0,i.tZ)(z,{setIsHovering:v,showTooltip:E,size:"md",storyboard:f,videoTime:t.start,children:(0,i.tZ)(R,{onShareMenuOpen:()=>{x(!1),null==b||b(),(0,h.j)(h.FP.POST_SHARE_BUTTON_CLICKED,{position:"video_timeline",post_id:null==s?void 0:s.id})},onShareMenuClose:()=>{x(!0),null==w||w()},timestamp:t.start,duration:t.end-t.start,pub:c,post:s,size:"md",trigger:(0,i.tZ)("div",{onMouseDown:e=>e.stopPropagation(),children:E&&(0,i.BX)(m.gq,{cursor:"pointer",gap:8,flex:"grow",paddingY:4,onClick:Z,justifyContent:"center",children:[(0,i.tZ)(d.Z,{color:"white",size:20}),(0,i.tZ)(g.xv.B4,{color:"white",weight:"semibold",children:y("Share clip")})]})})})}),(0,i.tZ)(_,{clipDuration:t.end-t.start,isMinimized:!l,onClick:C})]})]})},F={timelineContainer:"timelineContainer-QAunx2",timeline:"timeline-nCVBQY",timelineHover:"timelineHover-G7eFow",progress:"progress-K0IenH",progressHover:"progressHover-Cm9xTr",thumbnailContainer:"thumbnailContainer-vAgzNA"},V=e=>{var t;let{disableSharing:n,mediaRef:o,mediaUpload:l,post:C,pub:Z,size:w,startTime:y=0,endTime:_,onShareMenuOpen:k,onShareMenuClose:A}=e,{iString:E}=(0,u.M1)(),{isClipping:x}=(0,c.Sr)(),{currentTime:T}=(0,p.FI)(o),{clipTimes:I}=b(),B=!!(I&&T>=I.start&&T<=I.end),[L,S]=(0,r.eJ)(!0),[M,P]=(0,r.eJ)(null),[N,D]=(0,r.eJ)(0),[O,X]=(0,r.eJ)(!1),[j,U]=(0,r.eJ)(!1),[V,W]=(0,r.eJ)(0),[q,Y]=(0,r.eJ)(0),[J,G]=(0,r.eJ)(0),[K,Q]=(0,r.eJ)(0),$=(0,r.sO)(null),ee=(0,r.sO)(null),et=(0,r.sO)(null),en=(0,v.lg)(l),ei=(_||V)-y,er=(0,r.I4)(()=>{var e;if(null===(e=o.current)||void 0===e?void 0:e.player){let e=o.current.player;D(s()(e.currentTime-y,0,null!=ei?ei:e.duration-y)/(null!=ei?ei:e.duration)*100),_&&e.currentTime>=_&&(e.currentTime=y,e.pause())}$.current=requestAnimationFrame(er)},[o,y,ei,_]),eo=(0,r.I4)(e=>{var t;if(et.current&&(null===(t=o.current)||void 0===t?void 0:t.player)){let t=et.current.getBoundingClientRect(),n=(e.clientX-t.left)/t.width;o.current.player.currentTime=s()(y+n*ei,0,V),D(100*n)}},[o,y,V,ei]),ea=(0,r.I4)(e=>{eo(e)},[eo]),el=(0,r.I4)(e=>{O&&e.preventDefault()},[O]),es=(0,r.I4)(()=>{X(!1),document.removeEventListener("mousemove",ea),document.removeEventListener("selectstart",el)},[ea,el]),ed=(0,r.I4)(e=>{e.preventDefault(),X(!0),eo(e),document.addEventListener("mousemove",ea),document.addEventListener("mouseup",es),document.addEventListener("selectstart",el)},[eo,ea,es,el]),ec=()=>{Math.abs(q-K)>.1?(Q(e=>e+(q-e)*.1),ee.current=window.requestAnimationFrame(ec)):(Q(q),ee.current&&window.cancelAnimationFrame(ee.current))};(0,r.d4)(()=>($.current=window.requestAnimationFrame(er),()=>{null!==$.current&&window.cancelAnimationFrame($.current),null!==ee.current&&window.cancelAnimationFrame(ee.current)}),[er]),(0,r.d4)(()=>{let e=()=>{var e;(null===(e=o.current)||void 0===e?void 0:e.player)&&!isNaN(o.current.player.duration)&&W(o.current.player.duration)};if(o.current){var t;null===(t=o.current.player)||void 0===t||t.addEventListener("durationchange",e)}return e(),()=>{if(o.current){var t;null===(t=o.current.player)||void 0===t||t.removeEventListener("durationchange",e)}}},[null===(t=o.current)||void 0===t?void 0:t.player]);let eu=M?M/ei*100:q*ei/100;return(0,i.BX)(m.gq,{ref:et,onMouseDown:ed,onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),onClick:es,onMouseMove:e=>{var t,n,i,r;let{x:o,width:a}=null!==(i=null===(t=et.current)||void 0===t?void 0:t.getBoundingClientRect())&&void 0!==i?i:{x:0,width:0};Y((e.clientX-o)/a*100);let l=en?en.tile_width/en.tile_height*100:100,d=((null!=l?l:0)+10)/2/(null!==(r=null===(n=et.current)||void 0===n?void 0:n.getBoundingClientRect().width)&&void 0!==r?r:1)*100,c=M?M/ei*100:null;G(s()(null!=c?c:q,d,100-d)),ee.current||ec()},flex:"grow",position:"relative",className:F.timelineContainer,cursor:"pointer",children:[I&&V&&C&&Z&&!x?(0,i.tZ)(H,{clipTimes:I,duration:V,isHovering:j,isPlayingClippedSegment:null!=B&&B,post:C,pub:Z,progress:N,setIsHovering:U,storyboard:en,onClickBubble:()=>{var e,t,n;(null===(e=o.current)||void 0===e?void 0:e.player)&&I&&(o.current.player.currentTime=I.start,o.current.player.paused&&(null===(t=(n=o.current.player).play)||void 0===t||t.call(n)))},onPause:()=>{var e,t,n;(null===(e=o.current)||void 0===e?void 0:e.player)&&(null===(t=(n=o.current.player).pause)||void 0===t||t.call(n))},onShareMenuOpen:k,onShareMenuClose:A}):(0,i.BX)("div",{className:F.timeline,children:[j&&(0,i.tZ)("div",{className:F.timelineHover,style:{width:"".concat(q,"%"),height:"100%"}}),(0,i.tZ)("div",{className:a()(F.progress,{[F.progressHover]:j&&!I}),style:{width:"".concat(N,"%"),height:"100%"}})]}),!x&&!n&&!I&&C&&Z&&A&&k&&(0,i.tZ)(m.tu,{position:"absolute",className:F.thumbnailContainer,style:{position:"absolute",left:"".concat(J,"%"),opacity:+!!j},children:(0,i.tZ)(z,{setIsHovering:U,showTooltip:L,size:null!=w?w:"md",storyboard:en,videoTime:eu,children:"sm"!==w&&(0,i.tZ)(R,{onShareMenuOpen:()=>{S(!1),null==k||k(),(0,h.j)(h.FP.POST_SHARE_BUTTON_CLICKED,{position:"video_timeline",post_id:null==C?void 0:C.id})},onShareMenuClose:()=>{S(!0),P(null),null==A||A()},timestamp:M,pub:Z,post:C,size:w,trigger:(0,i.tZ)(m.gq,{children:L&&(0,i.BX)(m.gq,{cursor:"pointer",gap:8,flex:"grow",paddingY:4,onClick:()=>{var e,t,n,i;(null===(t=o.current)||void 0===t?void 0:null===(e=t.player)||void 0===e?void 0:e.paused)||null===(i=o.current)||void 0===i||null===(n=i.player)||void 0===n||n.pause(),P(eu)},justifyContent:"center",children:[(0,i.tZ)(d.Z,{color:"white",size:20}),(0,i.BX)(g.xv.B4,{color:"white",weight:"semibold",children:[E("Share from "),(0,f.mr)(eu)]})]})})})})})]})}},91189:function(e,t,n){n.d(t,{Z:()=>c});var i=n(16584),r=n(56687),o=n(95441),a=n(84370),l=n(87077),s=n(74571),d=n(63722);let c=e=>{let{isFocused:t,disabled:n,disableShortcuts:c,disableTooltips:u=!1,onToggleShowTranscript:p}=e,{iString:h}=(0,o.M1)();return(0,s.Kr)("t",p,t&&!c),(0,i.tZ)(l.u,{disabled:u,text:h("Transcripts"),trailing:c?void 0:(0,i.tZ)(a.T,{children:"T"}),children:(0,i.tZ)(d.Z,{onClick:p,disabled:n,children:(0,i.tZ)(r.Z,{size:18})})})}},76820:function(e,t,n){n.d(t,{Jl:()=>C,PJ:()=>f,Qz:()=>g,YQ:()=>v});var i=n(7409),r=n(16584),o=n(30396),a=n(12281),l=n(60807),s=n(27625),d=n(98422),c=n(71068),u=n(19081),p=n(75822),h=n(18618),m=n(95738);function g(e,t){let[n,i]=(0,o.eJ)(null);return(0,o.d4)(()=>{let n=new ResizeObserver(e=>{if(!e||0===e.length)return;let n=e[0];if(n&&n.target){let{width:e}=n.contentRect;t?i(Math.min(e,t)):i(e)}}),r=e.current;return r&&n.observe(r),()=>{n.disconnect()}},[e]),n}let v=295,f=520;function C(e){let{mediaUpload:t,composing:n,maxWidth:C,videoPlayerProps:b,tag:w}=e,y=(0,l.Fl)().autoPlayVideo,{isMobile:_}=(0,d.v9)(),k=(0,o.sO)(null),A=(0,o.sO)(null),E=g(A,C);(0,p.KS)({videoPlayerRef:k,showPaywall:!1,disable:!1});let{isHidden:x,onShow:T}=(0,s.Sl)(!!t.explicit),I=null;null!==t.width&&null!==t.height&&(I=t.width/t.height);let B={};if(_){let e=null!=E?E:v;B=I?I>1?{width:"".concat(e,"px"),height:"".concat(e/I,"px")}:{height:"".concat(400,"px"),width:"".concat(400*I,"px")}:{}}else if(I){let e=null!=E?E:f;B=I?I>1?{width:"".concat(e,"px"),height:"".concat(e/I,"px")}:{height:"".concat(400,"px"),width:"".concat(400*I,"px")}:{}}return(0,r.tZ)(u.tu,{ref:A,children:(0,r.BX)(u.tu,{style:B,radius:"md",overflow:"hidden",position:"relative",className:m.Z.videoPlayerContainer,children:[(0,r.tZ)(a.Z,(0,i._)({ref:k,mediaUpload:t,startMuted:y,autoPlay:y&&n,renderPlayButton:()=>(0,r.tZ)(h.fI,{isPlaying:!1,size:_?40:56}),pub:null,videoPlayerClassName:m.Z.videoPlayer,videoClassName:m.Z.video,omitBackgroundColor:!0,stopPropagation:!0,noKeyboardShortcuts:!0,noPictureInPicture:!0},b)),!n&&x&&(0,r.tZ)(s.cD,{radius:"md",onShow:T,itemName:"video"}),(0,r.tZ)(c.xu,{position:"absolute",inset:0,radius:"md",outline:"detail",pointerEvents:"none"}),w&&(0,r.tZ)(Z,{children:w})]})})}let Z=(0,c.zo)({display:"flex",padding:8,position:"absolute",alignItems:"start",justifyContent:"start"})},38927:function(e,t,n){n.d(t,{t:()=>i});let i=["listItem","codeBlock","heading","paragraph"]},71106:function(e,t,n){n.d(t,{A:()=>d});var i=n(60826),r=n(19834),o=n(60308),a=n(63651),l=n(84864),s=n(47929);function d(e,t){var n,d;let{pub:c,post:u,user:p}=t,h=e=>RegExp(e,"g"),m=e;return u&&p&&(m=m.replace(h(i.W.COMMENTS_URL),(0,o.tk4)(c,u)).replace(h(i.W.HALF_MAGIC_COMMENTS_URL),(0,o.tk4)(c,u))),m.replace(h(i.W.CHECKOUT_URL),(0,l.escapeNewlines)((0,o.Zs0)(c))).replace(h(i.W.FOUNDING_CHECKOUT_URL),(0,l.escapeNewlines)((0,o.pqm)(c))).replace(h(i.W.ACCOUNT_URL),(0,l.escapeNewlines)((0,a.mGw)(c,{addBase:!0}))).replace(h(i.W.ARCHIVE_URL),(0,l.escapeNewlines)((0,o.nxG)(c,{addBase:!0,params:null}))).replace(h(i.W.PUBLICATION_NAME),(0,l.escapeNewlines)((0,r.Z)(c.name||""))).replace(h(i.W.PUBLICATION_HERO_TEXT),(0,l.escapeNewlines)((0,r.Z)(c.hero_text||""))).replace(h(i.W.AUTHOR_NAME),(0,l.escapeNewlines)((0,r.Z)(c.author_name||""))).replace(h(i.W.AUTHOR_FIRST_NAME),(0,l.escapeNewlines)((0,r.Z)((0,l.guessFirstName)(c.author_name)||""))).replace(h(i.W.AUTHOR_BIO),(0,l.escapeNewlines)((0,r.Z)(c.author_bio||""))).replace(h(i.W.SHARE_URL),"").replace(h(i.W.SHARE_PUB_URL),(0,o.a_F)(c)).replace(h(i.W.PODCAST_SETUP_URL),(0,o.tS3)(c,{addBase:!0,noSection:!0,params:null,section:null,user:null,startAtSubscribeFlow:!1})).replace(h(i.W.PERSONAL_PODCAST_SETUP_URL),(0,o.tS3)(c,{addBase:!0,noSection:!0,params:null,section:null,user:null,startAtSubscribeFlow:!1})).replace(h(i.W.ALL_PODCASTS_SETUP_URL),(0,o.Tk$)(c,{startAtSubscribeFlow:!0,utm_source:s.b3.allPodcastsSetupButton})).replace(h(i.W.HOME_LINK),(0,a.SVA)(c)).replace(h(i.W.THREAD_URL),(0,a.ZVW)({pubKey:c.subdomain})).replace(h(i.W.CHAT_URL),(0,a.ZVW)({pubKey:c.subdomain})).replace(h(i.W.PREACT_COMPAT_HTML_COMMENT_OPEN),"\x3c!--").replace(h(i.W.PREACT_COMPAT_HTML_COMMENT_CLOSE),"--\x3e").replace(h(i.W.DASHBOARD_URL),(0,a.QK7)(c,{addBase:!0})).replace(h(i.W.AUTHOR_PHOTO_URL),c.author_photo_url||"").replace(h(i.W.MEETINGS_URL),(0,a.szv)(c,{addBase:!0})||"").replace(h(i.W.PUBLICATION_URL),(0,a.SVA)(c)).replace(h(i.W.LEADERBOARD_URL),(0,a.j8T)(c,void 0,{addBase:!0})).replace(h(i.W.ACTIVITY_PAGE_URL),"".concat((0,a.ZJn)(),"/activity")).replace(h(i.W.FOLLOW_PROFILE_URL),p?(0,a.NNq)(p,{utm_source:s.b3.email,extraParams:{r:null!==(n=(0,l.userReferralKey)(p))&&void 0!==n?n:"",followPrompt:!0}}):(0,a.n1t)((0,a.ZJn)(),{utm_source:s.b3.email,followPrompt:!0})).replace(h(i.W.FOLLOW_POST_URL),p?(0,a.uRy)(c,u,{urlParams:{utm_source:s.b3.email,r:null!==(d=(0,l.userReferralKey)(p))&&void 0!==d?d:"",followPrompt:!0}}):(0,a.n1t)((0,a.ZJn)(),{utm_source:s.b3.email,followPrompt:!0}))}},99605:function(e,t,n){n.d(t,{$:()=>i});let i={content:"block+",group:"block",defining:!0,parseDOM:[{tag:"div[data-callout]",priority:100},{tag:"div.callout-block",priority:99}],toDOM:()=>["div",{class:"callout-block","data-callout":"true"},0],toDOMStatic:()=>["div",{class:"callout-block","data-callout":"true"},0]}},94826:function(e,t,n){n.d(t,{I:()=>l,P:()=>a});var i=n(92007),r=n(68303),o=n(80870);function a(e){let{paragraph:t,ordered_list:n,bullet_list:i,blockquote:o,orderedList:a,bulletList:l}=e.schema.nodes;return(0,r.$9)(e,[t,n,i,o,a,l])}function l(e,t){if(!a(e))return!1;let{schema:n}=e,r=n.nodes.footnote.create({number:1},n.nodes.paragraph.create()),l=n.nodes.footnoteAnchor.create({number:1}),s=e.tr,d=(0,o.dG)(s,n);s.replaceWith(d,d,r),s.replaceSelectionWith(l),(0,o.A0)(s,n);try{s.setSelection(i.Bs.create(s.doc,d+2,d+2)).scrollIntoView()}catch(e){return console.error("could not set footnote text selection"),!1}return t&&t(s),!0}},59383:function(e,t,n){n.d(t,{M:()=>a});var i=n(88897),r=n(68303);let o=e=>{let{label:t,mediaUploadId:n,duration:i}=e;return(e,o)=>(o&&o((0,r.o4)(e,e.schema.nodes.audio.create({label:t,mediaUploadId:n,duration:i,isEditorNode:!0}))),!0)},a=i.hj.create({name:"audioInsert",addCommands:()=>({insertAudio:e=>{let{label:t,mediaUploadId:n,duration:i}=e;return e=>{let{state:r,dispatch:a}=e;return o({label:t,mediaUploadId:n,duration:i})(r,a)}}})})},5660:function(e,t,n){n.d(t,{z:()=>d});var i=n(88897),r=n(86551),o=n(63651),a=n(47929),l=n(68303),s=n(39947);let d=i.hj.create({name:"buttonCustom",addCommands:()=>({insertSubscribeButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.tX)(e)(n,i)},insertSubscribeButtonWithPreamble:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.Ui)(e)(n,i)},insertCaptionedShareButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.T6)(e)(n,i)},insertSpecialOfferButton:e=>{let{couponPub:t,scrollParent:n,parentClass:i,get_coupons:o,insert_coupon:a,SelectField:l,openPrompt:s,closePrompt:d,getNetworkErrorMessage:c}=e;return e=>{let{state:u,dispatch:p,view:h}=e;return(0,r.pw)({couponPub:t,scrollParent:n,parentClass:i,get_coupons:o,insert_coupon:a,SelectField:l,openPrompt:s,closePrompt:d,getNetworkErrorMessage:c})(u,p,h)}},insertGroupSubscriptionButton:e=>{let{publication:t}=e;return e=>{let{state:n,dispatch:i}=e;return(0,r.Fp)({publication:t})(n,i)}},insertDonateButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.U0)(e)(n,i)},insertReferralButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.Lb)(e)(n,i)},insertCaptionedWriterReferralButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.HQ)({writerReferralCode:e.writerReferralCode,publication:e.publication,postId:e.postId})(n,i)},insertGiftButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.aZ)(e)(n,i)},insertCommentsButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.sj)(e)(n,i)},insertSurveyButton:(e,t,n)=>i=>{let{state:o,dispatch:a}=i;return(0,r.F2)(e,t,n)(o,a)},insertSharePubButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.S_)(e)(n,i)},insertSharePostButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.BN)(e)(n,i)},insertCustomButton:e=>{let{scrollParent:t,parentClass:n,TextField:i,openPrompt:o,publication:a}=e;return e=>{let{state:l,dispatch:s,view:d}=e;return(0,r.op)({scrollParent:t,parentClass:n,TextField:i,openPrompt:o,publication:a})(l,s,d)}},insertVisitThreadButton:e=>t=>{let{state:n,dispatch:i}=t;return((t,n)=>{if(!t.schema.nodes.communityChat)return console.error("insertCommunityChatEmbed: schema is missing communityChat node"),!1;if(!(0,s.o)(t,t.schema.nodes.communityChat))return!1;if(n){var i,r;n((0,l.o4)(t,t.schema.nodes.communityChat.create({url:(0,o.ZVW)({pubKey:e.subdomain,utm_source:a.b3.chatEmbed}),subdomain:e.subdomain,pub:{id:e.id,name:e.name,author_name:null!==(i=e.primary_profile_name)&&void 0!==i?i:e.author_name,author_photo_url:null!==(r=e.primary_profile_photo_url)&&void 0!==r?r:e.author_photo_url}})))}return!0})(n,i)}})})},98616:function(e,t,n){n.d(t,{l:()=>l});var i=n(88897),r=n(60308),o=n(68303);let a=e=>(t,n)=>{let i=(0,r.SVA)(e);return n&&n((0,o.o4)(t,t.schema.nodes.install_substack_app.create({logo_url:e.logo_url||"".concat(i,"/img/substack.png"),author_name:e.author_name,publication_subdomain:e.subdomain,publication_name:e.name,language:e.language}))),!0},l=i.hj.create({name:"embedContentCustom",addCommands:()=>({insertInstallSubstackAppEmbed:e=>t=>{let{state:n,dispatch:i}=t;return a(e)(n,i)}})})},82708:function(e,t,n){n.d(t,{k:()=>h});var i=n(88897),r=n(92007),o=n(14017),a=n(98914);let l=e=>{e.preventDefault()},s=(e,t,n)=>{let i=e.dom;if(i){let e=i.querySelector('[data-attrs*=\'{"nodeId":"'.concat(t,"\"']"));e&&(n?e.addEventListener("dragstart",l):e.removeEventListener("dragstart",l))}},d=(e,t)=>(n,i,r)=>{if(i){let o,a;if(n.doc.descendants((t,n)=>{if(t.attrs.nodeId===e.nodeId)return o=t,a=n,!1}),o&&void 0!==a){let l=n.tr;l.setNodeMarkup(a,o.type,Object.assign({},o.attrs,e)),s(r,e.nodeId,t),i(l)}}return!0},c=e=>{let{url:t}=e;return(e,n)=>{if(n){let i=e.tr,o=e.selection.from,a=o+t.length;i.deleteSelection(),i.insertText(t,o),i.addMark(o,a+1,e.schema.marks.link.create({text:t,href:t})),i.setSelection(r.Bs.create(i.doc,o,a+1)),n(i)}return!0}},u=e=>{let{url:t}=e;return(e,n,i)=>{if(n){let[,r]=(0,o.WB)(t,e.schema,{forceAllowOwnPub:!0});if(!r)return!0;(0,o.rN)(r,i,e.schema,{forceAllowOwnPub:!0}).catch(e=>alert((0,a.zx)(e))),n(e.tr.replaceSelectionWith(r))}return!0}},p=()=>(e,t)=>(t&&t(e.tr.deleteSelection()),!0),h=i.hj.create({name:"digestPostEmbedExtension",addCommands:()=>({updateDigestPostEmbed:(e,t)=>n=>{let{state:i,dispatch:r,view:o}=n;return d(e,!!t)(i,r,o)},convertDigestPostEmbedToLink:e=>t=>{let{state:n,dispatch:i}=t;return c(e)(n,i)},convertDigestPostEmbedToEmbeddedPost:e=>t=>{let{state:n,dispatch:i,view:r}=t;return u(e)(n,i,r)},deleteDigestPostEmbed:()=>e=>{let{state:t,dispatch:n}=e;return p()(t,n)}})})},73984:function(e,t,n){n.d(t,{w:()=>o});var i=n(88897),r=n(94826);let o=i.hj.create({name:"footnoteCustom",addCommands:()=>({insertFootnote:()=>e=>{let{state:t,dispatch:n}=e;return(0,r.I)(t,n)}})})},11105:function(e,t,n){n.d(t,{y:()=>p});var i=n(88897),r=n(11239),o=n(44369),a=n(68303);let l=e=>{let{gallery:t}=e;return(e,n)=>(n&&n((0,a.o4)(e,e.schema.nodes.imageGallery.create({gallery:t,isEditorNode:!0}))),!0)},s=e=>{let{gallery:t}=e;return(e,n)=>(n&&n((0,a.Hs)(e,e.schema.nodes.imageGallery.create({gallery:t,isEditorNode:!0}))),!0)},d=e=>{let{url:t,caption:n,width:i,height:r}=e;return(e,o)=>{if(!o)return!1;let l=e.schema;if(!l.nodes.image2||!l.nodes.captionedImage||!l.nodes.caption)return!1;let s=l.nodes.image2.create({src:t,imageSize:"normal",height:null!=r?r:512,width:null!=i?i:512});if(n){let t=l.nodes.caption.create(null,l.text(n)),i=l.nodes.captionedImage.create({},[s,t]);o((0,a.o4)(e,i))}else o((0,a.o4)(e,s));return!0}},c=e=>{let{url:t,width:n,height:i}=e;return(e,r)=>{let o=e.schema,l={alt:"TradingView chart",src:t,height:i,width:n,type:"image/jpg"};if(!o.nodes.image2||!o.nodes.captionedImage||!o.nodes.caption||!o.marks.link)return!1;let s=o.text("Created with "),d=o.text("TradingView",[o.marks.link.create({title:"TradingView",href:"https://tradingview.com"})]),c=o.nodes.captionedImage.create(l,[o.nodes.image2.create(l),o.nodes.caption.create(null,[s,d])]);return r&&r((0,a.o4)(e,c)),!0}},u=e=>{let{url:t,width:n,height:i,description:r,userName:o,userHref:l}=e;return(e,s)=>{let d=e.schema,c={alt:r,src:t,height:i,width:n,type:"image/jpg"},u=d.marks.link;if(!u)return!0;let p=d.text("Photo by "),h=d.text(o,[u.create({title:o,href:l})]),m=d.text(" on "),g=d.text("Unsplash",[u.create({title:"Unsplash",href:"https://unsplash.com"})]),v=d.nodes.captionedImage.create(c,[d.nodes.image2.create(c),d.nodes.caption.create(null,[p,h,m,g])]);return s&&s((0,a.o4)(e,v)),!0}},p=i.hj.create({name:"imageInsert",addCommands:()=>({insertImage:e=>t=>{let{state:n,dispatch:i,view:a}=t;return n.schema.nodes.image2?(i&&(function(e,t){let{insertImageFile:n}=t,i=document.createElement("input");return i.type="file",i.accept="image/*,.heic,.heif",i.style.cssText="display:none;",i.onchange=()=>{i.files&&i.files.length>0&&i.files[0]&&n(i.files[0]),i.value=""},i.className="insert-image-menu-item-input",document.body.appendChild(i),new o.$4({title:"Insert image",icon:r.aL,active:()=>!1,enable:t=>(0,o.om)(t,e),run(){setTimeout(()=>{i.click()},0)}},"image")})(n.schema.nodes.image2,{insertImageFile:e}).spec.run(n,i,a,void 0),!0):(console.error("image2 node not enabled"),!1)},insertUnsplashImage:e=>t=>{let{state:n,dispatch:i}=t;return u(e)(n,i)},insertImageGallery:e=>t=>{let{state:n,dispatch:i}=t;return l(e)(n,i)},updateImageGallery:e=>t=>{let{state:n,dispatch:i}=t;return s(e)(n,i)},insertImageFromUrl:e=>{let{url:t,caption:n,width:i,height:r}=e;return e=>{let{state:o,dispatch:a}=e;return d({url:t,caption:n,width:i,height:r})(o,a)}},insertTradingViewImageFromUrl:e=>{let{url:t,width:n,height:i}=e;return e=>{let{state:r,dispatch:o}=e;return c({url:t,width:n,height:i})(r,o)}}})})},10218:function(e,t,n){n.d(t,{_:()=>l});var i=n(88897),r=n(41128),o=n(68303);let a=e=>{let{expression:t}=e;return(e,n)=>{let i=(0,r.Ox)();return n&&n((0,o.o4)(e,e.schema.nodes.latex_block.create({persistentExpression:t,id:i}))),!0}},l=i.hj.create({name:"latexInsert",addCommands:()=>({insertLatex:e=>{let{expression:t}=e;return e=>{let{state:n,dispatch:i}=e;return a({expression:t})(n,i)}}})})},81519:function(e,t,n){n.d(t,{r:()=>s});var i=n(88897),r=n(60308),o=n(63651),a=n(68303);let l=e=>{let{publication:t,meetingsConfig:n,usePublicationName:i}=e;return(e,l)=>{let s=(0,r.SMH)({id:n.user_id,photo_url:n.user_profile_photo_url});return i&&t.logo_url&&(s=(0,o.zF4)(t.logo_url,112)),l&&l((0,a.o4)(e,e.schema.nodes.meeting.create({name:i?t.name:n.user_name,avatarUrl:s,url:(0,o.szv)(t,{addBase:!0,params:{source:"embed"}}),isEditorNode:!0}))),!0}},s=i.hj.create({name:"meetingInsert",addCommands:()=>({insertMeeting:e=>{let{publication:t,meetingsConfig:n,usePublicationName:i}=e;return e=>{let{state:r,dispatch:o}=e;return l({publication:t,meetingsConfig:n,usePublicationName:i})(r,o)}}})})},59662:function(e,t,n){n.d(t,{f:()=>o});var i=n(88897),r=n(57208);let o=i.hj.create({name:"paywallCustom",addCommands:()=>({addPaywall:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.f2)(e)(n,i)}})})},60511:function(e,t,n){n.d(t,{q:()=>a});var i=n(88897),r=n(68303);let o=e=>{let{url:t}=e;return(e,n)=>{if(n){if(!e.schema.nodes.pinterest)return console.error("pinterest node not defined"),!1;n((0,r.o4)(e,e.schema.nodes.pinterest.create({url:t})))}return!0}},a=i.hj.create({name:"pinterestInsert",addCommands:()=>({insertPinterest:e=>{let{url:t}=e;return e=>{let{state:n,dispatch:i}=e;return o({url:t})(n,i)}}})})},75837:function(e,t,n){n.d(t,{q:()=>a});var i=n(88897),r=n(68303);let o=e=>{let{id:t}=e;return(e,n)=>(n&&n((0,r.o4)(e,e.schema.nodes.poll.create({id:t}))),!0)},a=i.hj.create({name:"pollInsert",addCommands:()=>({insertPoll:e=>{let{id:t}=e;return e=>{let{state:n,dispatch:i}=e;return o({id:t})(n,i)}}})})},29961:function(e,t,n){n.d(t,{R:()=>a});var i=n(88897),r=n(68303);let o=e=>{let{id:t}=e;return(e,n)=>(n&&n((0,r.o4)(e,e.schema.nodes.recipe.create({id:t}))),!0)},a=i.hj.create({name:"recipeInsert",addCommands:()=>({insertRecipe:e=>{let{id:t}=e;return e=>{let{state:n,dispatch:i}=e;return o({id:t})(n,i)}}})})},80334:function(e,t,n){n.d(t,{a:()=>a});var i=n(88897),r=n(68303);let o=e=>{let{id:t}=e;return(e,n)=>{var i,o;return n&&(null==e?void 0:null===(o=e.schema)||void 0===o?void 0:null===(i=o.nodes)||void 0===i?void 0:i.sponsorshipCampaign)&&n((0,r.o4)(e,e.schema.nodes.sponsorshipCampaign.create({id:t}))),!0}},a=i.hj.create({name:"sponsorshipCampaignInsert",addCommands:()=>({insertSponsorshipCampaign:e=>{let{id:t}=e;return e=>{let{state:n,dispatch:i}=e;return o({id:t})(n,i)}}})})},75970:function(e,t,n){n.d(t,{f:()=>a});var i=n(88897),r=n(68303);let o=e=>{let{mediaUploadId:t}=e;return(e,n)=>(n&&n((0,r.o4)(e,e.schema.nodes.video.create({mediaUploadId:t,isEditorNode:!0}))),!0)},a=i.hj.create({name:"videoInsert",addCommands:()=>({insertVideo:e=>{let{mediaUploadId:t}=e;return e=>{let{state:n,dispatch:i}=e;return o({mediaUploadId:t})(n,i)}}})})},64314:function(e,t,n){n.d(t,{N:()=>i});let i='!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();'},57125:function(e,t,n){n.d(t,{Op:()=>o});var i=n(78718),r=n.n(i);let o=e=>{let{attrs:t}=e,n={};for(let[e,i]of Object.entries(t))n[e]=r()(i,["default"]);return n}},99741:function(e,t,n){n.d(t,{$:()=>r,b:()=>o});var i=n(27412);let r={attrs:{},inline:!1,group:"block",atom:!0,selectable:!0,isolating:!1,defining:!1,draggable:!0,parseDOM:[{tag:".paywall-jump"}],toDOM:()=>["div",{class:"paywall-jump","data-component-name":"PaywallToDOM"}]};class o{constructor(){var e,t,n;(0,i._)(this,"dom",void 0);let r="undefined"!=typeof window&&null!==(n=null===(t=window._preloads)||void 0===t?void 0:null===(e=t.pub)||void 0===e?void 0:e.language)&&void 0!==n?n:"en",{iString:o}=I18N.i(r),a=document.createElement("div");a.className="paywall-editor",a.appendChild(document.createElement("hr"));let l=document.createElement("div");l.className="paywall-editor-pill";let s=document.createElement("span");s.innerText=o("Paid content below this line");let d=document.createElement("div");d.className="paywall-editor-pill-icon-container",d.innerHTML='\n<svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M8.75439 4.33398V14.834" stroke="#666666" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M3.50439 9.58398L8.7544 14.834L14.0044 9.58398" stroke="#666666" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n',l.appendChild(s),l.appendChild(d),a.appendChild(l),a.appendChild(document.createElement("hr")),this.dom=a}}},3185:function(e,t,n){n.d(t,{Z:()=>o});var i=n(80508),r=n(54809);let o=new i.ZP({actionButtonAttr:"raw_href",substackType:"pdf",mimeTypesToSignature:r.Lz,actionButtonText:"Download"})},19520:function(e,t,n){n.d(t,{s:()=>r});var i=n(68833);function r(e){let{msg:t,node:n,err:r,group:a}=e;(0,i.j)(i.FP.EDITOR_NODE_RENDER_FAILED,{nodeType:n.type.name,nodeAttrs:n.attrs,errMsg:null==r?void 0:r.message});let l=null!=t?t:"Something went wrong";return"block"===a?function(e){let{msg:t}=e,n=document.createElement("div");n.className="blockContainer-sGUymL";let i=document.createElement("div");i.textContent=t,i.className="blockTitle-p5J1JM";let r=document.createElement("div");r.textContent="Try refreshing the page or try again later.",r.className="blockSubTitle-b49Pjc";let a=document.createElement("div");return a.className="blockTitleContainer-_ayaxc",a.appendChild(i),a.appendChild(r),n.appendChild(o({size:24})),n.appendChild(a),n}({msg:l}):function(e){let{msg:t}=e,n=document.createElement("span");n.className="inlineContainer-pdOZS_";let i=document.createElement("span");return i.className="inlineText-mmZJjI",i.textContent=t,n.appendChild(o({size:10})),n.appendChild(i),n}({msg:l})}function o(e){let{size:t}=e,n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg");i.setAttribute("width","".concat(t)),i.setAttribute("height","".concat(t)),i.setAttribute("viewBox","0 0 24 24"),i.setAttribute("fill","none"),i.setAttribute("stroke","#363737"),i.setAttribute("stroke-width","2"),i.setAttribute("stroke-linecap","round"),i.setAttribute("stroke-linejoin","round");let r=document.createElementNS(n,"circle");r.setAttribute("d","M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z"),r.setAttribute("cx","12"),r.setAttribute("cy","12"),r.setAttribute("r","10");let o=document.createElementNS(n,"line");o.setAttribute("x1","12"),o.setAttribute("x2","12"),o.setAttribute("y1","8"),o.setAttribute("y2","12");let a=document.createElementNS(n,"line");return a.setAttribute("x1","12"),a.setAttribute("x2","12.01"),a.setAttribute("y1","16"),a.setAttribute("y2","16"),i.appendChild(r),i.appendChild(o),i.appendChild(a),i}},15233:function(e,t,n){n.d(t,{L:()=>r});var i=n(60308);let r=function(e,t,n,r){let{targetUrl:o}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=["td",{class:"audio-details","data-component-name":"AudioEmbedStatic"},["p",{class:"title"},t],["p",{class:"subtitle"},n]];r&&(a=[...a,["p",{class:"metadata"},r]]);let l=["table",{class:"audio-embed-static",cellspacing:"12","data-component-name":"AudioEmbedStaticTable"},["tr",{},["td",{class:"thumbnail-container"},["div",{class:"play-container"},["img",{class:"play",src:(0,i.zF4)("/img/thumbnail-play.png",72),height:36,width:36}]],["img",{class:"thumbnail",src:(0,i.zF4)(e,160),height:80,width:80}]],a]];return o?["a",{class:"audio-embed-static-outer",href:o,target:"_blank","data-component-name":"AudioEmbedStaticLink"},l]:l}},62645:function(e,t,n){n.d(t,{J:()=>i});let i={parseDOM:[{tag:"del"},{tag:"s"}],toDOM:()=>["s",0]}},42034:function(e,t,n){n.d(t,{l:()=>i});let i={parseDOM:[{tag:"sub"}],toDOM:()=>["sub",0]}},41505:function(e,t,n){n.d(t,{O:()=>i});let i={parseDOM:[{tag:"sup"}],toDOM:()=>["sup",0]}},39947:function(e,t,n){n.d(t,{o:()=>i});let i=(e,t)=>{if(!t)return!1;let n=e.selection.$from;for(let e=n.depth;e>=0;e--){let i=n.index(e);if(n.node(e).canReplaceWith(i,i,t))return!0}return!1}},30548:function(e,t,n){n.d(t,{S:()=>o});var i=n(88897);let r=e=>{let{attrs:t}=e,n={};if(!t)return n;for(let[e,r]of Object.entries(t)){var i;n[e]={default:null!==(i=r.default)&&void 0!==i?i:null,keepOnSplit:!1}}return n},o=e=>{let{name:t,nodeSpec:n,addNodeView:o,addCommands:a}=e;return i.NB.create({name:t,content:n.content,marks:n.marks,group:n.group,inline:n.inline,atom:n.atom,selectable:n.selectable,draggable:n.draggable,code:n.code,whitespace:n.whitespace,defining:n.defining,isolating:n.isolating,addNodeView:o,addCommands:a,renderHTML(e){return this.options.isStatic&&n.toDOMStatic?n.toDOMStatic(e.node):n.toDOM(e.node)},parseHTML:()=>n.parseDOM,addAttributes:()=>r({attrs:n.attrs})})}},88956:function(e,t,n){n.d(t,{Y:()=>function e(t,n){if(!t||((0,i.f5)(t)||(0,i.PH)(t))&&!n(t))return null;if((0,i.f5)(t)&&t.content&&t.content.length>0){if(t.content=t.content.filter(t=>e(t,n)),0===t.content.length)return null}else if((0,i.PH)(t)){let r=(0,i.yX)({fragment:t.content});if(r.length>0){let o=r.filter(t=>e(t,n));if(0===o.length)return null;(0,i.uR)({fragment:t.content,content:o})}}return t}});var i=n(62092)},22365:function(e,t,n){n.d(t,{e:()=>o});var i=n(88897),r=n(76405);let o=e=>{let{doc:t,extensions:n,customDocument:o}=e,a=(0,i.J1)(n),l=r.NB.fromJSON(a,t),s=document.createElement("div");return r.PW.fromSchema(a).serializeFragment(l.content,{document:o},s),s.innerHTML}},30837:function(e,t,n){n.d(t,{Y:()=>i});let i=e=>{try{if("string"!=typeof e){let t=e.getAttribute("data-attrs");if(t)return JSON.parse(t)}}catch(e){}return!1}},12076:function(e,t,n){n.d(t,{Z:()=>o});var i=n(80508),r=n(54809);let o=new i.ZP({actionButtonAttr:null,substackType:"xlsx",mimeTypesToSignature:r.Z$,actionButtonText:null})},18925:function(){},81481:function(){},21361:function(){},53480:function(){},31337:function(){},17879:function(){},31384:function(){},24877:function(){}}]);