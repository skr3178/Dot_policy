"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["8914"],{83034:function(e,t,n){n.r(t),n.d(t,{AppInstallContent:()=>x,AppInstallModal:()=>D,AppInstallUpsells:()=>H,AppStoreQrCode:()=>T,EmailCodeCTA:()=>z,useAppModal:()=>P});var r=n(7409),l=n(99282),i=n(58865),o=n(16584),a=n(30396),c=n(21793),d=n(20888),u=n(95441),s=n(60807),p=n(68833),g=n(48980),h=n(64576),m=n(7882),v=n(24547),f=n(15771),Z=n(61254),_=n(19081),C=n(1844),y=n(6490),b=n(58175),k=n(14518),w=n(91400),I=n(60308),S=n(84864),A=n(8525);function B(){let e=(0,i._)(["Accept ","'s gift in the Substack app"]);return B=function(){return e},e}function M(){let e=(0,i._)(["We sent a link to download the Substack app to ","."]);return M=function(){return e},e}function P(){let{utm_campaign:e,utm_source:t,utm_content:n,abTestingId:r,overrideCTA:l,overrideTitle:i,subTitle:c,openUrl:d,giftCard:u,pub:s,facepileUsers:g}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[h,m]=(0,a.eJ)(!1),v=(0,a.I4)(()=>{m(!0),(0,p.j)(p.FP.APP_INSTALL_MODAL_OPENED,{utm_campaign:e,utm_source:t,utm_content:n})},[e,t,n]),f=(0,a.I4)(()=>{m(!1)},[]);return{open:v,modal:(0,o.tZ)(D,{isOpen:h,onClose:f,utm_campaign:e,utm_source:t,utm_content:n,abTestingId:r,overrideCTA:l,overrideTitle:i,subTitle:c,openUrl:d,width:u?450:void 0,giftCard:u,pub:s,facepileUsers:g})}}function x(e){let{utm_campaign:t,utm_source:n,utm_content:r,hideEmailPrompt:l=!1,abTestingId:i,suggestedEmail:a,size:c,padding:d=32,openUrl:s,overrideCTA:p,onSend:g}=e,{iString:h}=(0,u.M1)(),m=(0,w.XA)();return(0,o.BX)(_.tu,{gap:20,padding:d,children:[!m&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(_.hs,{className:A.Z.qrCode,padding:20,alignSelf:"center",children:(0,o.tZ)(T,{size:c,utm_campaign:t,utm_source:n,utm_content:r,abTestingId:i,openUrl:s})}),!m&&!l&&(0,o.tZ)(Z.ZC,{})]}),!m&&!l&&(0,o.tZ)(z,{suggestedEmail:a,onSend:g}),m&&(0,o.tZ)(f.zx,{href:s||(0,I.D4e)({utm_campaign:t,utm_source:n}),children:p||h("Install the app")})]})}function H(e){let{utm_campaign:t,utm_source:n,darkMode:r=!1}=e;return(0,o.BX)(_.hs,{gap:16,justifyContent:"center",children:[(0,o.tZ)("a",{className:A.Z.appBadge,href:(0,I.RMm)({utm_campaign:t,utm_source:n}),onClick:()=>{(0,p.j)(p.FP.APP_STORE_LINK_CLICKED,{source:"app_install_upsell",app_store:"ios",utm_campaign:t,utm_source:n})},children:(0,o.tZ)("img",{src:(0,I.zF4)(r?"/img/app_page/app-store-white.png":"/img/app_page/app-store.png",320),height:48})}),(0,o.tZ)("a",{className:A.Z.appBadge,href:(0,I.AaB)({utm_campaign:t,utm_source:n}),onClick:()=>{(0,p.j)(p.FP.APP_STORE_LINK_CLICKED,{source:"app_install_upsell",app_store:"android",utm_campaign:t,utm_source:n})},children:(0,o.tZ)("img",{src:(0,I.zF4)(r?"/img/app_page/google-play-white.png":"/img/app_page/google-play.png",320),height:48})})]})}function D(e){var t;let{isOpen:n,onClose:i,utm_campaign:d,utm_content:s,utm_source:p,abTestingId:g,overrideCTA:h,overrideTitle:m,subTitle:f,openUrl:Z,width:C,facepileUsers:b,showMobileClose:k,giftCard:A,pub:M}=e,{iString:P,iTemplate:H}=(0,u.M1)(),D=(0,w.XA)(),[T,z]=(0,a.eJ)(""),O=(0,a.I4)(e=>{z(e)},[]),X=(0,a.I4)(()=>{z(""),i()},[i]),j=!!A&&!!M,E=(null==A?void 0:null===(t=A.gifter)||void 0===t?void 0:t.name)?"Split Zone Duo"===A.gifter.name?"SZD":(0,S.guessFirstName)(A.gifter.name):"",N=m||(j?E?H(B(),E):P("Accept this gift in the Substack app"):P("Download the Substack app"));return(0,o.BX)(y.u_,{isOpen:n,onClose:i,width:C||360,position:D?"bottom":"default",children:[(0,o.tZ)(y.xB,{title:N,description:f,onClose:i,showClose:!D||k,showDivider:!0}),T?(0,o.tZ)(L,{sentEmail:T,closeModal:X}):(0,o.BX)(_.tu,{alignItems:"stretch",paddingTop:32*!!D,children:[j?(0,o.tZ)(_.hs,{justifyContent:"center",alignItems:"center",paddingTop:{desktop:20,mobile:0},children:(0,o.tZ)(c.h,(0,l._)((0,r._)({},A),{pub:M}))}):(null==b?void 0:b.length)?(0,o.tZ)(_.hs,{justifyContent:"center",alignItems:"center",padding:{mobile:8},children:(0,o.tZ)(v.H,{users:b,max:3,size:48})}):D?(0,o.tZ)(_.hs,{justifyContent:"center",alignItems:"center",children:(0,o.tZ)("img",{src:(0,I.zF4)("/img/substack-app-icon.png"),height:64,width:64})}):null,(0,o.tZ)(x,{utm_campaign:d,utm_source:p,utm_content:s,abTestingId:g,openUrl:Z,overrideCTA:h,size:142,onSend:O})]})]})}function T(e){let{utm_campaign:t,utm_source:r,utm_content:l,abTestingId:i,size:c=240,width:d,height:u,openUrl:s}=e,p=(0,a.sO)(null),g=(0,I.D4e)({utm_campaign:t,utm_source:r,utm_content:l,abti:i}),{darkMode:v}=(0,h.v)(),f=function(e,t){let{result:r}=(0,m.Wf)(()=>n.e("9327").then(n.t.bind(n,91915,23)),[],{auto:!0}),l=null==r?void 0:r.default;return(0,a.Ye)(()=>l&&"undefined"!=typeof window?new l(e(window)):null,[l,...t])}(e=>{let t=e.devicePixelRatio,n=getComputedStyle(document.body),r=n.getPropertyValue("--color-fg-primary-themed");return{width:(null!=d?d:c)*t,height:(null!=u?u:c)*t,type:"canvas",data:s||g,dotsOptions:{color:r,type:"dots"},backgroundOptions:{color:n.getPropertyValue("--color-bg-elevated")},cornersSquareOptions:{color:r,type:"extra-rounded"},cornersDotOptions:{color:r,type:"dot"},qrOptions:{errorCorrectionLevel:"L"}}},[d,u,s,v]);return(0,a.d4)(()=>{let{current:e}=p;if(!e||!f||!f._canvas)return;let t=f._canvas;return t.style.width="".concat(null!=d?d:c,"px"),t.style.height="".concat(null!=u?u:c,"px"),e.style.width="".concat(null!=d?d:c,"px"),e.style.height="".concat(null!=u?u:c,"px"),e.appendChild(t),()=>{e.removeChild(t)}},[f,d,u]),(0,o.tZ)("div",{ref:p})}function z(e){let{suggestedEmail:t,onSend:n}=e,{iString:r}=(0,u.M1)(),l=(0,s.aF)(),[i,c]=(0,a.eJ)((null==l?void 0:l.email)||t||""),[d,p]=(0,a.eJ)(!1),[h,m]=(0,a.eJ)(null);return(0,o.tZ)(o.HY,{children:(0,o.BX)(_.tu,{gap:8,children:[(0,o.tZ)(k.H,{placeholder:r("Your email"),placement:"end",priority:"primary",type:"email",value:i,onChange:e=>c(e.currentTarget.value),button:(0,o.tZ)(f.zx,{priority:"primary",loading:d,onClick:async()=>{p(!0);try{await (0,g.rd)("/api/v1/send_app_download_link",{method:"POST",json:{email:i}}),m(null),p(!1),n&&n(i)}catch(e){m("Something went wrong")}},children:r("Send link")})}),h&&(0,o.tZ)(C.y,{align:"center",children:h})]})})}let L=e=>{let{sentEmail:t,closeModal:n}=e,{iString:r,iTemplate:l}=(0,u.M1)();return(0,o.BX)(o.HY,{children:[(0,o.tZ)(y.fe,{children:(0,o.BX)(_.tu,{gap:20,justifyContent:"center",alignItems:"center",children:[(0,o.tZ)(d.e,{src:"/img/cohorts/local_news/plane.png",maxWidth:64}),(0,o.BX)(_.tu,{gap:4,justifyContent:"center",alignItems:"center",children:[(0,o.tZ)(b.xv.B2,{weight:"semibold",textAlign:"center",children:r("Check your email")}),(0,o.tZ)(b.xv.B3,{color:"secondary",align:"center",children:l(M(),t||"your email")})]})]})}),(0,o.tZ)(y.mz,{alignButtons:"stretch",primaryButton:(0,o.tZ)(f.zx,{priority:"secondary",onClick:n,children:r("Done")})})]})}},66054:function(e,t,n){n(30396)},62956:function(e,t,n){n(16584),n(94184),n(12757),n(15771),n(60308)},18573:function(e,t,n){n.d(t,{Z:()=>c});var r=n(7409),l=n(99282),i=n(98848),o=n(16584),a=n(64515);let c=e=>{var{size:t=24,stroke:n="var(--color-fg-primary)"}=e,c=(0,i._)(e,["size","stroke"]);return(0,o.tZ)(a.l,(0,l._)((0,r._)({},c),{name:"LinkIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:"none",stroke:n,strokeWidth:2,children:(0,o.tZ)("path",{d:"M7.50008 14.1666H5.83341C4.72835 14.1666 3.66854 13.7276 2.88714 12.9462C2.10573 12.1648 1.66675 11.105 1.66675 9.99992C1.66675 8.89485 2.10573 7.83504 2.88714 7.05364C3.66854 6.27224 4.72835 5.83325 5.83341 5.83325H7.50008M12.5001 5.83325H14.1667C15.2718 5.83325 16.3316 6.27224 17.113 7.05364C17.8944 7.83504 18.3334 8.89485 18.3334 9.99992C18.3334 11.105 17.8944 12.1648 17.113 12.9462C16.3316 13.7276 15.2718 14.1666 14.1667 14.1666H12.5001M6.66675 9.99992H13.3334"})}))}},97742:function(e,t,n){n.d(t,{Z:()=>d});var r=n(7409),l=n(99282),i=n(98848),o=n(16584),a=n(64515),c=n(90406);let d=e=>{var{color:t=c.Hu}=e,n=(0,i._)(e,["color"]);return(0,o.BX)(a.l,(0,l._)((0,r._)({},n),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:t,stroke:"none"},children:[(0,o.tZ)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),(0,o.tZ)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),(0,o.tZ)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"})]}))}},3411:function(e,t,n){function r(e,t){return e&&"rgba(".concat(e.join(","),",").concat(t,")")}n.d(t,{LE:()=>i,mX:()=>l,zn:()=>r});let l=e=>{var t,n;let{palette:l,colorKey:i="DarkMuted",defaultColor:o="var(--color-dark-bg-secondary)",bgColor:a="var(--color-dark-bg-secondary)"}=e;if(!l&&!o)return null;let c=null!==(n=r(null==l?void 0:null===(t=l[i])||void 0===t?void 0:t.rgb,.75))&&void 0!==n?n:o;return{background:"linear-gradient(180deg, ".concat(c,", ").concat(c,"), ").concat(a)}},i=e=>{var t,n,l,i,o,a;let{palette:c,defaultColor:d="var(--color-dark-bg-primary)",bgColor:u="var(--color-dark-bg-primary)"}=e;if(!c&&!d)return null;let s=null!==(i=r(null==c?void 0:null===(t=c.Muted)||void 0===t?void 0:t.rgb,.75))&&void 0!==i?i:d,p=null!==(o=r(null==c?void 0:null===(n=c.DarkMuted)||void 0===n?void 0:n.rgb,.75))&&void 0!==o?o:d,g=null!==(a=r(null==c?void 0:null===(l=c.DarkVibrant)||void 0===l?void 0:l.rgb,.75))&&void 0!==a?a:d;return{background:"linear-gradient(135deg, ".concat(s,", ").concat(p,", ").concat(g,"), ").concat(u),backgroundSize:"400% 400%"}}}}]);