"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["9631"],{62066:function(e,t,r){r.d(t,{Z:()=>n});let n={toast:"toast-IVcFeu",transition:"transition-WtixRZ",show:"show-IjHUdy",hide:"hide-ZgCsNC"}},28840:function(e,t,r){r.d(t,{Z:()=>n});let n={pageStack:"pageStack-_TN0zS",gap_0:"gap_0-SUYUaT",gap0:"gap_0-SUYUaT",gap_8:"gap_8-Np1Riv",gap8:"gap_8-Np1Riv",gap_16:"gap_16-KBArmz",gap16:"gap_16-KBArmz",linkRow:"linkRow-ddH7S0",isPadded:"isPadded-_aROE_",linkRowA:"linkRowA-pQXF7n",isClickable:"isClickable-EPNJTJ",isSelectable:"isSelectable-tK5w8z",isSelected:"isSelected-Up1BZ3",hoverLink:"hoverLink-g45pgX",input:"input-VtaUja",error:"error-RM8NkE",textarea:"textarea-emWDBj"}},90271:function(e,t,r){r.d(t,{Z:()=>n});let n={publicationPopover:"publicationPopover-UUlUw7",breakOut:"breakOut-Yj9ydV",hoverCardAvatar:"hoverCardAvatar-TlyoAs breakOut-Yj9ydV",hoverCardTitle:"hoverCardTitle-FDhnwq",writesCard:"writesCard-Hm5Y6G",hoverCardSeeAll:"hoverCardSeeAll-cLVjnW",profileHoverCardZone:"profileHoverCardZone-nzh3G9",profileHoverCardTarget:"profileHoverCardTarget-PBxvGm",publicationHoverCardTarget:"publicationHoverCardTarget-sPJ4jb",inline:"inline-lJXy8b",profileHoverCard:"profileHoverCard-nxF9Dj",publicationHoverCard:"publicationHoverCard-hEACM1",profileHoverCardHeader:"profileHoverCardHeader-PjHmnv",profileHoverCardNameRow:"profileHoverCardNameRow-EnCXNz",facepileFace:"facepileFace-lSFZbg"}},20160:function(e,t,r){r.d(t,{W:()=>o});var n=r(16584);r(98661);var i=r(4615),a=r(33803);function o(e){let{children:t}=e;return(0,n.tZ)(i.f6,{theme:a.Z.elevatedTheme,children:t})}},1548:function(e,t,r){r.d(t,{M:()=>a});var n=r(16584),i=r(95441);function a(e){let{array:t,limit:r,formatter:a=e=>e,othersFormatter:o=e=>e}=e,l=t.map(a).filter(Boolean).slice(0,r),{iString:c,iPlural:s}=(0,i.M1)(),d=c("and");if(0===l.length)return t.length?s("one person","%1 people",t.length):c("zero people");if(1===l.length)return l[0];if(2===l.length)return(0,n.BX)(n.HY,{children:[l[0]," ",d," ",l[1]]});let u=l.slice(0,-1).map(e=>(0,n.BX)(n.HY,{children:[e,", "]})),h=t.length-l.length;return h>0?(0,n.BX)(n.HY,{children:[u,d," ",o((0,n.BX)(n.HY,{children:[h+1," ",s("other","others",h+1)]}))]}):(0,n.BX)(n.HY,{children:[u,d," ",l[l.length-1]]})}},54371:function(e,t,r){r.d(t,{w:()=>i});var n=r(16584);function i(e){let{size:t=20,stroke:r="var(--color-light-fg-secondary)"}=e;return(0,n.tZ)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:r,xmlns:"http://www.w3.org/2000/svg",children:(0,n.tZ)("path",{id:"Vector",d:"M18.6471 15.3333V18.6667M18.6471 18.6667L18.6471 22M18.6471 18.6667H22M18.6471 18.6667H15.2941M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z",strokeWidth:"2",strokeLinecap:"round","stroke-linejoin":"round"})})}},58033:function(e,t,r){r.d(t,{$:()=>l});var n=r(7409),i=r(99282),a=r(98848),o=r(16584);function l(e){var{size:t=20,stroke:r="var(--color-light-fg-secondary)"}=e,l=(0,a._)(e,["size","stroke"]);return(0,o.tZ)("svg",(0,i._)((0,n._)({},l),{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:r,xmlns:"http://www.w3.org/2000/svg",children:(0,o.tZ)("path",{id:"Vector",d:"M15.2941 18.6667L17.5294 20.8889L22 16.4444M3 21.9999C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z",strokeWidth:"2",strokeLinecap:"round","stroke-linejoin":"round"})}))}},11358:function(e,t,r){r.d(t,{G:()=>v});var n=r(7409),i=r(99282),a=r(16584),o=r(71375),l=r(25380),c=r(35543),s=r(60807),d=r(68833),u=r(65205),h=r(7882),p=r(70379),f=r(64172);function v(e){let{publication:t,profileId:r,onSuccess:v=()=>{},source:m}=e,g=(0,s.aF)(),b=(0,f.Th)(),Z=(0,c.oJ)(),{popToast:_}=(0,p.pm)(),{isLoading:w,refetch:C}=(0,h.ib)({pathname:"/api/v1/reader/signup/pub",method:"POST",json:{publication_id:null==t?void 0:t.id,email:null==g?void 0:g.email,source:m,first_url:u.xY,first_referrer:u.ip,first_session_url:u.ac,first_session_referrer:u.qR,current_url:u.UE,current_referrer:u.xU}});return{isLoading:w,subscribe:async()=>{if(!g||!t){_(e=>(0,a.tZ)(p.FN,(0,i._)((0,n._)({},e),{text:"Something went wrong. Please try again.",Icon:o.Z})));return}try{await C(),_(e=>(0,a.tZ)(p.FN,(0,i._)((0,n._)({},e),{text:"Subscribed to ".concat(t.name),Icon:l.Z}))),v(),b.refetchPublication(t.id),r&&Z(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.includes(r)?e:[r,...e]},{revalidate:!1}),(0,d.j)(d.FP.FEED_ONE_CLICK_SUBSCRIBE,{source:m,publication_id:t.id})}catch(e){console.error(e),_(e=>(0,a.tZ)(p.FN,(0,i._)((0,n._)({},e),{text:"There was an issue subscribing to this profile.",Icon:o.Z})))}}}}},93252:function(e,t,r){r.d(t,{P:()=>n});function n(){return"undefined"!=typeof document&&document.location.pathname.startsWith("/embed/")}},80878:function(e,t,r){r.d(t,{Q:()=>l,_:()=>c});var n=r(7409),i=r(99282),a=r(20042),o=r(98914);function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.defaultPrevented||(e.preventDefault(),c(t,(0,i._)((0,n._)({},r),{newTab:r.newTab||e.metaKey||e.ctrlKey||1===e.button})))}function c(e){let{native:t=!1,newTab:r=!1,replace:n,state:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r?Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:e}).click():t||(0,o.Fo)(e)!==(0,o.Fo)(window.location.href)?window.location.assign(e):"react-router"===window.__SUBSTACK_ROUTER_TYPE__?window.__reactRouterNavigate(s(e),{replace:n,state:i}):((0,a.route)(s(e),n),void 0!==i&&history.replaceState(i,""))}function s(e){try{let{pathname:t,search:r,hash:n}=new URL(e);return"".concat(t).concat(r).concat(n)}catch(t){return e}}},32700:function(e,t,r){r.d(t,{z:()=>p,o:()=>f});var n=r(7409),i=r(99282),a=r(98848),o=r(16584),l=r(19425),c=r(94184),s=r.n(c),d=r(98661),u=r(62372);let h={hoverCardBase:"hoverCardBase-yO6ywL",transition:"transition-YxVfTL",show:"show-yvtGgH",hide:"hide-vMwWLX"},p=e=>{var{className:t="",children:r,layerClassName:l,dontStopPropagation:c,as:s}=e,d=(0,a._)(e,["className","children","layerClassName","dontStopPropagation","as"]);let u=f((0,n._)({className:l},d));return(0,o.BX)(null!=s?s:"div",(0,i._)((0,n._)({className:t},u.triggerProps,u.hoverProps),{onClick:e=>{c||e.stopPropagation()},children:[r,u.layer]}))};function f(e){var{disabled:t,onFetch:r,onOpen:c,content:p,className:f,layerOptions:v,hideOnScroll:m=!1}=e,g=(0,a._)(e,["disabled","onFetch","onOpen","content","className","layerOptions","hideOnScroll"]);let[b,Z]=(0,u.XI)({delayEnter:500,delayLeave:250,hideOnScroll:m}),_=(0,d.useRef)(!1);(0,d.useEffect)(()=>{b&&(!_.current&&r&&(_.current=!0,r()),null==c||c())},[b,r,c]);let[w,C]=(0,d.useState)(!1),{triggerProps:S,layerProps:y,renderLayer:H}=(0,u.sJ)((0,n._)({isOpen:!t&&b,auto:!0,containerOffset:10,triggerOffset:8,snap:!1,possiblePlacements:["bottom-center","top-center","left-center","right-center"],preferX:"left",preferY:"bottom"},v));return{triggerProps:S,hoverProps:Z,layer:(b||w)&&!t&&H((0,o.tZ)(l.u,{appear:!0,show:b&&!g.loading,beforeEnter:()=>C(!0),afterLeave:()=>C(!1),className:h.transition,enterFrom:h.hide,enterTo:h.show,leaveFrom:h.show,leaveTo:h.hide,children:(0,o.tZ)("div",(0,i._)((0,n._)({className:s()(f,h.hoverCardBase)},y,Z),{children:p}))}))}}},84747:function(e,t,r){if(r.d(t,{M:()=>b,u:()=>w}),!/^(1588|1691|4457)$/.test(r.j))var n=r(7409);if(!/^(1588|1691|4457)$/.test(r.j))var i=r(99282);if(!/^(1588|1691|4457)$/.test(r.j))var a=r(98848);var o=r(16584);if(!/^(1588|1691|4457)$/.test(r.j))var l=r(19425);var c=r(94184),s=r.n(c),d=r(98661),u=r(60684),h=r(10903),p=r(50368),f=r(14775),v=r(14651),m=r(91400),g=r(6114);let b=/^(1588|1691|4457)$/.test(r.j)?null:(0,d.forwardRef)((e,t)=>{var{trigger:r,children:c,ariaLabel:s="View more",hideOnScroll:v,layerOptions:b,layerClassName:w,onOpen:S,onClose:y,useMobileBottomSheet:H=!0,stopPropagation:k=!1,padding:N=4,disableMenu:B=!1,title:T,Theme:x,customShowClass:P,customHideClass:F}=e,X=(0,a._)(e,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","stopPropagation","padding","disableMenu","title","Theme","customShowClass","customHideClass"]);"function"!=typeof r&&"string"!=typeof r.type&&r.type.$$typeof!==Symbol.for("react.forward_ref")&&console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");let j=(0,m.XA)(),{triggerProps:O,layerProps:L,renderLayer:R,isOpen:E,setOpen:M}=(0,h.x)({layerOptions:(0,n._)({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},b),hideOnScroll:v&&!(H&&j),onClose:y}),[A,V]=(0,d.useState)(!1),z=()=>{M(!1),y&&y()},U=d.Children.map(c,e=>(0,d.cloneElement)(e,{useMobileBottomSheet:H,closeMenu:z})),I=(0,d.useMemo)(()=>({useMobileBottomSheet:H,close:z}),[y,H]),Y=(0,i._)((0,n._)({},O),{ariaLabel:s,onClick:e=>{e.preventDefault(),k&&e.stopPropagation(),B||M(!E),E?null==y||y():null==S||S()}});return(0,o.BX)(p.p.Provider,{value:I,children:["function"==typeof r?r(Y):(0,d.cloneElement)(r,Y),(E||A)&&R(H&&j?(0,o.tZ)(l.u,{appear:!0,show:E,beforeEnter:()=>V(!0),afterLeave:()=>V(!1),className:g.Z.actionSheetTransition,enterFrom:g.Z.actionSheetHide,enterTo:g.Z.actionSheetShow,leaveFrom:g.Z.actionSheetShow,leaveTo:g.Z.actionSheetHide,children:(0,o.tZ)(C,{Theme:x,children:(0,o.tZ)("div",(0,i._)((0,n._)({},L,X),{children:(0,o.tZ)(u.V,{title:T,onClose:z,ref:t,className:w,children:U})}))})}):(0,o.tZ)(_,{isOpen:E,setAnimating:V,children:(0,o.tZ)(C,{Theme:x,children:(0,o.tZ)("div",(0,i._)((0,n._)({},L,X),{children:(0,o.tZ)(Z,{isOpen:E,customHideClass:F,customShowClass:P,children:(0,o.tZ)(f.F,(0,i._)((0,n._)({className:w,ref:t,padding:N},!v&&{style:{overflowY:"auto"}}),{children:U}))})}))})}))]})});function Z(e){let{isOpen:t,customHideClass:r,customShowClass:n,children:i}=e;return(0,o.tZ)(l.u,{appear:!0,unmount:!1,show:t,className:g.Z.transition,enterFrom:null!=r?r:g.Z.hide,enterTo:null!=n?n:g.Z.show,leaveFrom:null!=n?n:g.Z.show,leaveTo:null!=r?r:g.Z.hide,children:i})}function _(e){let{children:t,isOpen:r,setAnimating:n}=e;return(0,o.tZ)(l.u,{appear:!0,unmount:!1,show:r,beforeEnter:()=>n(!0),afterLeave:()=>n(!1),className:g.Z.transition,children:t})}let w=/^(1588|1691|4457)$/.test(r.j)?null:(0,d.forwardRef)((e,t)=>{var r;return(0,o.tZ)(v.tV,(0,i._)((0,n._)({},e),{className:s()(g.Z.menuItem,g.Z["priority_".concat(null!==(r=e.priority)&&void 0!==r?r:"primary")],e.className,{[g.Z.disabled]:!!e.disabled,[g.Z.relative]:!!e.hiddenInput}),children:e.children,ref:t}))});function C(e){let{Theme:t,children:r}=e;return t?(0,o.tZ)(t,{children:r}):r}},36500:function(e,t,r){r.d(t,{dW:()=>l.d,sN:()=>i.sN,ti:()=>o.t,v2:()=>n.v,xw:()=>a.x});var n=r(2629),i=r(14651),a=r(88326),o=r(39198),l=r(51799)},11163:function(e,t,r){r.d(t,{L:()=>s});var n=r(7409),i=r(99282),a=r(6400),o=r(98661),l=r(94184),c=r.n(l);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",r=arguments.length>2?arguments[2]:void 0;return(0,o.forwardRef)((o,l)=>(0,a.createElement)(t,(0,i._)((0,n._)({},r,o),{ref:l,className:c()(e,null==o?void 0:o.className)})))}},33017:function(e,t,r){if(r.d(t,{GF:()=>F,Sm:()=>H}),!/^(1588|1691|2536|4457)$/.test(r.j))var n=r(7409);if(!/^(1588|1691|2536|4457)$/.test(r.j))var i=r(98848);var a=r(16584),o=r(94184),l=r.n(o);if(!/^(1588|1691|2536|4457)$/.test(r.j))var c=r(25380);var s=r(60807),d=r(68833),u=r(63018),h=r(94874),p=r(15771),f=r(61254),v=r(19081),m=r(32700),g=r(38841),b=r(58175),Z=r(65575),_=r(32189),w=r(60308),C=r(84864);if(!/^(1588|1691|2536|4457)$/.test(r.j))var S=r(47929);var y=r(90271);let H=e=>{var{publication_id:t,inline:r,utmSource:o}=e,c=(0,i._)(e,["publication_id","inline","utmSource"]);return(0,a.tZ)(m.z,(0,n._)({className:l()(y.Z.publicationHoverCardTarget,r&&y.Z.inline),content:(0,a.tZ)(k,{publicationId:t,utmSource:o}),onFetch:()=>(0,u.OV)("/api/v1/publication/public/".concat(t)),layerClassName:y.Z.publicationHoverCard},c))};function k(e){let{publicationId:t,utmSource:r}=e,{data:n}=(0,u._I)("/api/v1/publication/public/".concat(t)),i=(0,s.aF)();if(!n)return(0,a.tZ)(P,{});let{pub:o}=n;(0,d.j)(d.FP.PUBLICATION_HOVER_CARD_SHOWN,{publication_id:o.id});let l=o.contributors,c=null;return l&&l.length>3&&(c="See all (".concat((0,C.numberToString)(l.length),")"),l=l.slice(0,3)),(0,a.BX)(v.sg,{gap:16,padding:8,children:[(0,a.tZ)(N,{pub:n.pub,url:n.pub.base_url}),(0,a.tZ)(B,{isContr:n.isContributor,isSubs:n.isSubscribed,pub:n.pub,user:i,utmSource:r}),(0,a.tZ)(f.iz,{}),(0,a.tZ)(T,{contributors:l,seeAllLabel:c,redirLink:n.pub.base_url,utmSource:r})]})}function N(e){var t,r,n,i;let{url:o,pub:l}=e,c=l.name||"",s=null!==(t=l.subdomain)&&void 0!==t?t:"",d=null!==(r=l.hero_text)&&void 0!==r?r:"",u=null!==(i=null!==(n=l.rankingDetail)&&void 0!==n?n:l.rankingDetailFreeSubscriberCount)&&void 0!==i?i:void 0;return(0,a.BX)(v.sg,{gap:8,children:[(0,a.BX)(v.X2,{gap:12,alignItems:"center",children:[(0,a.BX)(v.sg,{gap:2,flex:"grow",children:[(0,a.tZ)(b.hh,{href:o,children:(0,a.tZ)(b.xv.H4,{children:c})}),(0,a.tZ)(b.hh,{href:o,children:(0,a.tZ)(b.xv.Meta,{children:"@".concat(s)})})]}),(0,a.tZ)("a",{href:o,children:(0,a.tZ)(g.wk,{pub:l,size:64})})]}),d&&(0,a.tZ)(b.xv.B3,{clamp:3,children:d}),u&&(0,a.tZ)(b.xv.Meta,{ellipsis:!0,children:u.toUpperCase()})]})}function B(e){let{isContr:t,isSubs:r,pub:n,user:i,utmSource:o}=e,l=(0,_.x)({surface:"profile"});return t?null:(0,a.tZ)(v.sg,{flex:"grow",children:!t&&r?(0,a.tZ)(p.zx,{priority:"secondary-outline",href:(0,w.W1P)(n,{user:i,addBase:!0,utm_source:o||S.b3.pubHoverCard,utm_medium:S.lP.web,utm_campaign:S.VX.profilePage}),leading:(0,a.tZ)(c.Z,{size:20}),children:"Subscribed"}):(0,a.tZ)(p.zx,{priority:"primary",href:(0,w.W1P)(n,{user:i,addBase:!0,utm_source:o||S.b3.pubHoverCard,utm_medium:S.lP.web,utm_campaign:S.VX.profilePage}),onClick:l(n),children:"Subscribe"})})}function T(e){let{contributors:t,seeAllLabel:r,redirLink:n,utmSource:i}=e;return(0,a.BX)(v.sg,{children:[(0,a.tZ)(F,{sectionTitle:"Written by",seeAllLabel:r,link:"".concat(n,"/about?sort=people")}),(0,a.tZ)(v.sg,{children:t.map(e=>(0,a.tZ)(x,{profile:e,utmSource:i}))})]})}function x(e){let{profile:t,utmSource:r}=e;return(0,a.BX)("a",{href:(0,w.GR3)(t.user_id,t.name,{searchParams:{utm_source:r}}),className:y.Z.hoverCardAvatar,children:[(0,a.tZ)(h.qE,{user:t,size:32}),(0,a.tZ)(b.xv,{font:"text",weight:"semibold",size:14,lineHeight:20,children:t.name})]})}function P(){return(0,a.BX)(v.sg,{padding:8,gap:8,children:[(0,a.tZ)(Z.Vm,{size:56,style:{borderRadius:4}}),(0,a.tZ)(Z.Vm,{type:"bar",width:"100%",height:20}),(0,a.tZ)(Z.Vm,{type:"bar",width:"20%",height:20}),(0,a.tZ)(Z.Vm,{type:"bar",width:"60%",height:20})]})}function F(e){let{sectionTitle:t,seeAllLabel:r,link:n}=e;return(0,a.BX)(v.X2,{justifyContent:"space-between",children:[(0,a.tZ)(b.xv.Meta,{color:"secondary",children:t}),r&&(0,a.tZ)("a",{className:y.Z.hoverCardSeeAll,href:n,children:(0,a.tZ)(b.xv.B4,{children:r})})]})}},66611:function(e,t,r){r.d(t,{L:()=>n.L});var n=r(11163)},91400:function(e,t,r){r.d(t,{XA:()=>i}),r(98661);var n=r(1852);function i(){return(0,n.useMediaQuery)({maxWidth:650})}r(98914)}}]);